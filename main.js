import {
  $ as Pc,
  $a as Os,
  $b as yb,
  _ as z,
  _a as sb,
  _b as Ht,
  A as Ns,
  a as S,
  Aa as Yy,
  aa as _h,
  Ab as lb,
  ab as Ps,
  ac as Gh,
  B as ks,
  b as E,
  Ba as Tr,
  ba as Ua,
  Bb as jh,
  bb as rb,
  bc as bb,
  C as Dh,
  c as _t,
  Ca as ns,
  ca as ae,
  Cb as U,
  cb as kh,
  cc as vb,
  D as es,
  d as Ar,
  Da as Lh,
  da as Le,
  Db as cb,
  db as ii,
  dc as $a,
  E as Ly,
  e as wy,
  Ea as _o,
  ea as le,
  Eb as Lo,
  eb as Li,
  ec as xb,
  F as Ny,
  f as Va,
  Fa as Eo,
  fa as Ga,
  Fb as bn,
  fb as Ue,
  fc as Mb,
  G as Cr,
  g as vh,
  Ga as Wy,
  ga as By,
  Gb as ce,
  gb as Ne,
  gc as Ib,
  H as Rs,
  h as xh,
  Ha as Zy,
  ha as Co,
  Hb as db,
  hb as Vc,
  hc as On,
  I as Ah,
  i as me,
  Ia as $y,
  ia as Nn,
  Ib as Uc,
  ib as ni,
  ic as Sb,
  J as ky,
  j as gi,
  Ja as Ky,
  ja as Eh,
  Jb as Gc,
  jb as Rh,
  jc as Db,
  K as Ry,
  k as Cy,
  Ka as Xy,
  ka as _r,
  Kb as Fh,
  kb as Oh,
  kc as Hh,
  L as Oy,
  l as Ln,
  La as Qy,
  la as Vy,
  Lb as zh,
  lb as Ph,
  lc as Ab,
  M as Py,
  m as Ke,
  Ma as qy,
  ma as Uy,
  Mb as Bh,
  mb as k,
  mc as wb,
  N as jy,
  n as J,
  Na as Ti,
  na as Ha,
  Nb as Hc,
  nb as O,
  nc as Cb,
  O as Fy,
  o as wr,
  Oa as Jy,
  oa as Ya,
  Ob as ub,
  ob as dt,
  P as Zi,
  p as Mh,
  Pa as Wa,
  pa as jc,
  Pb as Nr,
  pb as ob,
  Q as gn,
  q as _y,
  Qa as zt,
  qa as Fc,
  Qb as hb,
  qb as Za,
  qc as _b,
  R as oe,
  r as gt,
  Ra as q,
  ra as is,
  Rb as pb,
  rb as $i,
  rc as Eb,
  S as Vt,
  s as Rc,
  Sa as To,
  sa as Th,
  Sb as vn,
  sb as kn,
  T as wh,
  t as Ei,
  Ta as tb,
  ta as Gy,
  Tb as Rn,
  tb as js,
  tc as Yh,
  U as st,
  u as Ih,
  Ua as Bc,
  ua as Xe,
  Ub as Ki,
  ub as ke,
  uc as Tb,
  V as Te,
  v as Ey,
  Va as eb,
  va as wt,
  Vb as Vh,
  vb as Lr,
  vc as Lb,
  W as zy,
  w as Sh,
  Wa as ib,
  wa as Er,
  Wb as fb,
  wb as yn,
  X as pt,
  x as Oc,
  Xa as Nh,
  xa as te,
  Xb as Uh,
  xb as Ge,
  Y as Ch,
  y as Ty,
  Ya as nb,
  ya as Hy,
  Yb as mb,
  yb as He,
  Z as tt,
  z as Wi,
  Za as yi,
  za as zc,
  Zb as gb,
  zb as ab,
} from './chunk-XNFVPNIF.js';

var Zh = class {};var No=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let s=t.slice(0,n),r=s.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let s=(e.op==="a"?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":let r=e.value;if(!r)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>r.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var $h=class{encodeKey(e){return Nb(e)}encodeValue(e){return Nb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qA(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{let r=s.indexOf("="),[o,a]=r==-1?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var JA=/%(\d[a-f0-9])/gi,tw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nb(i){return encodeURIComponent(i).replace(JA,(e,t)=>tw[t]??e)}function Yc(i){return`${i}`}var Fs=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new $h,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qA(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],s=Array.isArray(n)?n.map(Yc):[Yc(n)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let s=e[n];Array.isArray(s)?s.forEach(r=>{t.push({param:n,value:r,op:"a"})}):t.push({param:n,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Yc(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],s=n.indexOf(Yc(e.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Kh=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ew(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kb(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Rb(i){return typeof Blob<"u"&&i instanceof Blob}function Ob(i){return typeof FormData<"u"&&i instanceof FormData}function iw(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ka=class i{constructor(e,t,n,s){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(ew(this.method)||s?(this.body=n!==void 0?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new No,this.context??=new Kh,!this.params)this.params=new Fs,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kb(this.body)||Rb(this.body)||Ob(this.body)||iw(this.body)?this.body:this.body instanceof Fs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ob(this.body)?null:Rb(this.body)?this.body.type||null:kb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Fs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,r=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),d)),new i(t,n,o,{params:d,headers:c,context:u,reportProgress:l,responseType:s,withCredentials:a,transferCache:r})}},Pb=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Pb||{}),Xh=class{constructor(e,t=200,n="OK"){this.headers=e.headers||new No,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Qh=class i extends Xh{constructor(e={}){super(e),this.type=Pb.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function Wh(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var jb=(()=>{class i{constructor(t){this.handler=t}request(t,n,s={}){let r;if(t instanceof Ka)r=t;else{let l;s.headers instanceof No?l=s.headers:l=new No(s.headers);let c;s.params&&(s.params instanceof Fs?c=s.params:c=new Fs({fromObject:s.params})),r=new Ka(t,n,s.body!==void 0?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let o=J(r).pipe(ks(l=>this.handler.handle(l)));if(t instanceof Ka||s.observe==="events")return o;let a=o.pipe(Wi(l=>l instanceof Qh));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(gt(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(gt(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(gt(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(gt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Fs().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,s={}){return this.request("PATCH",t,Wh(s,n))}post(t,n,s={}){return this.request("POST",t,Wh(s,n))}put(t,n,s={}){return this.request("PUT",t,Wh(s,n))}static{this.\u0275fac=function(n){return new(n||i)(tt(Zh))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})();var tp=class extends gb{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ep=class i extends tp{static makeCurrent(){mb(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=rw();return t==null?null:ow(t)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xb(document.cookie,e)}},Xa=null;function rw(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}function ow(i){return new URL(i,document.baseURI).pathname}var aw=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),Wc=new pt(""),Bb=(()=>{class i{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,s){return this._findPluginFor(n).addEventListener(t,n,s)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(r=>r.supports(t)),!n)throw new Vt(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||i)(tt(Wc),tt(wt))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),Qa=class{constructor(e){this._doc=e}},qh="ng-app-id",Vb=(()=>{class i{constructor(t,n,s,r={}){this.doc=t,this.appId=n,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hh(r),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(s=>s.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qh}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(s=>{s.textContent!=null&&n.set(s.textContent,s)}),n}return null}changeUsageCount(t,n){let s=this.styleRef;if(s.has(t)){let r=s.get(t);return r.usage+=n,r.usage}return s.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let s=this.styleNodesInDOM,r=s?.get(n);if(r?.parentNode===t)return s.delete(n),r.removeAttribute(qh),r;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(qh,this.appId),t.appendChild(o),o}}addStyleToHost(t,n){let s=this.getStyleElement(t,n),r=this.styleRef,o=r.get(n)?.elements;o?o.push(s):r.set(n,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht),tt(zc),tt(Lh,8),tt(Tr))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),Jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sp=/%COMP%/g,Ub="%COMP%",lw=`_nghost-${Ub}`,cw=`_ngcontent-${Ub}`,dw=!0,uw=new pt("",{providedIn:"root",factory:()=>dw});function hw(i){return cw.replace(sp,i)}function pw(i){return lw.replace(sp,i)}function Gb(i,e){return e.map(t=>t.replace(sp,i))}var Zc=(()=>{class i{constructor(t,n,s,r,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Hh(a),this.defaultRenderer=new qa(t,o,l,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Ua.ShadowDom&&(n=E(S({},n),{encapsulation:Ua.Emulated}));let s=this.getOrCreateRenderer(t,n);return s instanceof $c?s.applyToHost(t):s instanceof Ja&&s.applyStyles(),s}getOrCreateRenderer(t,n){let s=this.rendererByCompId,r=s.get(n.id);if(!r){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(n.encapsulation){case Ua.Emulated:r=new $c(l,c,n,this.appId,d,o,a,u);break;case Ua.ShadowDom:return new ip(l,c,t,n,o,a,this.nonce,u);default:r=new Ja(l,c,n,d,o,a,u);break}s.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(tt(Bb),tt(Vb),tt(zc),tt(uw),tt(Ht),tt(Tr),tt(wt),tt(Lh))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),qa=class{constructor(e,t,n,s){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Jh[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fb(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(Fb(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){t.remove()}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Vt(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;let r=Jh[s];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let s=Jh[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&(Wa.DashCase|Wa.Important)?e.style.setProperty(t,n,s&Wa.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Wa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=Uh().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Fb(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var ip=class extends qa{constructor(e,t,n,s,r,o,a,l){super(e,r,o,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Gb(s.id,s.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ja=class extends qa{constructor(e,t,n,s,r,o,a,l){super(e,r,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=l?Gb(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},$c=class extends Ja{constructor(e,t,n,s,r,o,a,l){let c=s+"-"+n.id;super(e,t,n,r,o,a,l,c),this.contentAttr=hw(c),this.hostAttr=pw(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},fw=(()=>{class i extends Qa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,s){return t.addEventListener(n,s,!1),()=>this.removeEventListener(t,n,s)}removeEventListener(t,n,s){return t.removeEventListener(n,s)}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),mw=(()=>{class i extends Qa{constructor(t){super(t),this.delegate=z(pb,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,n,s){return this.delegate.addEventListener(t,n,s)}removeEventListener(t,n,s){return this.delegate.removeEventListener(t,n,s)}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),zb=["alt","control","meta","shift"],gw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yw={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},bw=(()=>{class i extends Qa{constructor(t){super(t)}supports(t){return i.parseEventName(t)!=null}addEventListener(t,n,s){let r=i.parseEventName(n),o=i.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uh().onAndCancel(t,r.domEventName,o))}static parseEventName(t){let n=t.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let r=i._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),zb.forEach(c=>{let d=n.indexOf(c);d>-1&&(n.splice(d,1),o+=c+".")}),o+=r,n.length!=0||r.length===0)return null;let l={};return l.domEventName=s,l.fullKey=o,l}static matchEventFullKeyCode(t,n){let s=gw[t.key]||t.key,r="";return n.indexOf("code.")>-1&&(s=t.code,r="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),zb.forEach(o=>{if(o!==s){let a=yw[o];a(t)&&(r+=o+".")}}),r+=s,r===n)}static eventCallback(t,n,s){return r=>{i.matchEventFullKeyCode(r,t)&&s.runGuarded(()=>n(r))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})();function Hb(i,e){return hb(S({rootComponent:i},vw(e)))}function vw(i){return{appProviders:[...Dw,...i?.providers??[]],platformProviders:Sw}}function xw(){ep.makeCurrent()}function Mw(){return new Er}function Iw(){return Hy(document),document}var Sw=[{provide:Tr,useValue:Sb},{provide:Yy,useValue:xw,multi:!0},{provide:Ht,useFactory:Iw,deps:[]}];var Dw=[{provide:By,useValue:"root"},{provide:Er,useFactory:Mw,deps:[]},{provide:Wc,useClass:fw,multi:!0,deps:[Ht,wt,Tr]},{provide:Wc,useClass:bw,multi:!0,deps:[Ht]},{provide:Wc,useClass:mw,multi:!0},Zc,Vb,Bb,{provide:Bc,useExisting:Zc},{provide:wb,useClass:aw,deps:[]},[]];var Yb=(()=>{class i{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var rp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:function(n){let s=null;return n?s=new(n||i):s=tt(Aw),s},providedIn:"root"})}}return i})(),Aw=(()=>{class i extends rp{constructor(t){super(),this._doc=t}sanitize(t,n){if(n==null)return null;switch(t){case Ti.NONE:return n;case Ti.HTML:return Eo(n,"HTML")?_o(n):qy(this._doc,String(n)).toString();case Ti.STYLE:return Eo(n,"Style")?_o(n):n;case Ti.SCRIPT:if(Eo(n,"Script"))return _o(n);throw new Vt(5200,!1);case Ti.URL:return Eo(n,"URL")?_o(n):Qy(String(n));case Ti.RESOURCE_URL:if(Eo(n,"ResourceURL"))return _o(n);throw new Vt(5201,!1);default:throw new Vt(5202,!1)}}bypassSecurityTrustHtml(t){return Wy(t)}bypassSecurityTrustStyle(t){return Zy(t)}bypassSecurityTrustScript(t){return $y(t)}bypassSecurityTrustUrl(t){return Ky(t)}bypassSecurityTrustResourceUrl(t){return Xy(t)}static{this.\u0275fac=function(n){return new(n||i)(tt(Ht))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ww=new pt("cdk-dir-doc",{providedIn:"root",factory:Cw});function Cw(){return z(Ht)}var _w=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ew(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?_w.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Zb=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new Xe,t){let n=t.body?t.body.dir:null,s=t.documentElement?t.documentElement.dir:null;this.value=Ew(n||s||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||i)(tt(ww,8))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function kr(i){return i!=null&&`${i}`!="false"}function Pn(i){return i instanceof te?i.nativeElement:i}var ap;try{ap=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ap=!1}var Qe=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Db(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ap)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(tt(Tr))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ko,$b=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function lp(){if(ko)return ko;if(typeof document!="object"||!document)return ko=new Set($b),ko;let i=document.createElement("input");return ko=new Set($b.filter(e=>(i.setAttribute("type",e),i.type===e))),ko}var tl;function Lw(){if(tl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tl=!0}))}finally{tl=tl||!1}return tl}function zs(i){return Lw()?i:!!i.capture}var op;function Nw(){if(op==null){let i=typeof document<"u"?document.head:null;op=!!(i&&(i.createShadowRoot||i.attachShadow))}return op}function Kb(i){if(Nw()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ss(i){return i.composedPath?i.composedPath()[0]:i.target}var cp=class{constructor(e){this._box=e,this._destroyed=new me,this._resizeSubject=new me,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Va(t=>{let n=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),n.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Wi(t=>t.some(n=>n.target===e)),Py({bufferSize:1,refCount:!0}),gn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Xb=(()=>{class i{constructor(){this._observers=new Map,this._ngZone=z(wt),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,n){let s=n?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new cp(s)),this._observers.get(s).observe(t)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function dp(i){return i.buttons===0||i.detail===0}function up(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var kw=new pt("cdk-input-modality-detector-options"),Rw={ignoreKeys:[18,17,224,91,16]},Qb=650,Oo=zs({passive:!0,capture:!0}),Ow=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(t,n,s,r){this._platform=t,this._mostRecentTarget=null,this._modality=new gi(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ss(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Qb||(this._modality.next(dp(o)?"keyboard":"mouse"),this._mostRecentTarget=ss(o))},this._onTouchstart=o=>{if(up(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ss(o)},this._options=S(S({},Rw),r),this.modalityDetected=this._modality.pipe(jy(1)),this.modalityChanged=this.modalityDetected.pipe(Ny()),t.isBrowser&&n.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Oo),s.addEventListener("mousedown",this._onMousedown,Oo),s.addEventListener("touchstart",this._onTouchstart,Oo)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Oo),document.removeEventListener("mousedown",this._onMousedown,Oo),document.removeEventListener("touchstart",this._onTouchstart,Oo))}static{this.\u0275fac=function(n){return new(n||i)(tt(Qe),tt(wt),tt(Ht),tt(kw,8))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Xc=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(Xc||{}),Pw=new pt("cdk-focus-monitor-default-options"),Kc=zs({passive:!0,capture:!0}),qb=(()=>{class i{constructor(t,n,s,r,o){this._ngZone=t,this._platform=n,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me,this._rootNodeFocusAndBlurListener=a=>{let l=ss(a);for(let c=l;c;c=c.parentElement)a.type==="focus"?this._onFocus(a,c):this._onBlur(a,c)},this._document=r,this._detectionMode=o?.detectionMode||Xc.IMMEDIATE}monitor(t,n=!1){let s=Pn(t);if(!this._platform.isBrowser||s.nodeType!==1)return J();let r=Kb(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return n&&(o.checkChildren=!0),o.subject;let a={checkChildren:n,subject:new me,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let n=Pn(t),s=this._elementInfo.get(n);s&&(s.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(s))}focusVia(t,n,s){let r=Pn(t),o=this._getDocument().activeElement;r===o?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,n,l)):(this._setOrigin(n),typeof r.focus=="function"&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Xc.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,n){t.classList.toggle("cdk-focused",!!n),t.classList.toggle("cdk-touch-focused",n==="touch"),t.classList.toggle("cdk-keyboard-focused",n==="keyboard"),t.classList.toggle("cdk-mouse-focused",n==="mouse"),t.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(t,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&n,this._detectionMode===Xc.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?Qb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(t,n){let s=this._elementInfo.get(n),r=ss(t);!s||!s.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),s)}_onBlur(t,n){let s=this._elementInfo.get(n);!s||s.checkChildren&&t.relatedTarget instanceof Node&&n.contains(t.relatedTarget)||(this._setClasses(n),this._emitOrigin(s,null))}_emitOrigin(t,n){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(n))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let n=t.rootNode,s=this._rootNodeFocusListenerCount.get(n)||0;s||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Kc),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Kc)}),this._rootNodeFocusListenerCount.set(n,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gn(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(t){let n=t.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let s=this._rootNodeFocusListenerCount.get(n);s>1?this._rootNodeFocusListenerCount.set(n,s-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Kc),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Kc),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,n,s){this._setClasses(t,n),this._emitOrigin(s,n),this._lastFocusOrigin=n}_getClosestElementsInfo(t){let n=[];return this._elementInfo.forEach((s,r)=>{(r===t||s.checkChildren&&r.contains(t))&&n.push([r,s])}),n}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:n,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!n||n===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let r=t.labels;if(r){for(let o=0;o<r.length;o++)if(r[o].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||i)(tt(wt),tt(Qe),tt(Ow),tt(Ht,8),tt(Pw,8))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var qc=class{constructor(e,t,n,s,r){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=n,this._parentForm=s,this._stateChanges=r,this.errorState=!1}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,s=this.ngControl?this.ngControl.control:null,r=n?.isErrorState(s,t)??!1;r!==e&&(this.errorState=r,this._stateChanges.next())}};var av=(()=>{class i{isErrorState(t,n){return!!(t&&t.invalid&&(t.touched||n&&n.submitted))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Xi=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Xi||{}),fp=class{constructor(e,t,n,s=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=s,this.state=Xi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Jb=zs({passive:!0,capture:!0}),mp=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=ss(e);t&&this._events.get(e.type)?.forEach((n,s)=>{(s===t||s.contains(t))&&n.forEach(r=>r.handleEvent(e))})}}addHandler(e,t,n,s){let r=this._events.get(t);if(r){let o=r.get(n);o?o.add(s):r.set(n,new Set([s]))}else this._events.set(t,new Map([[n,new Set([s])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Jb)})}removeHandler(e,t,n){let s=this._events.get(e);if(!s)return;let r=s.get(t);r&&(r.delete(n),r.size===0&&s.delete(t),s.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Jb)))}},tv={enterDuration:225,exitDuration:150},Fw=800,ev=zs({passive:!0,capture:!0}),iv=["mousedown","touchstart"],nv=["mouseup","mouseleave","touchend","touchcancel"],gp=class i{static{this._eventManager=new mp}constructor(e,t,n,s){this._target=e,this._ngZone=t,this._platform=s,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Pn(n))}fadeInRipple(e,t,n={}){let s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=S(S({},tv),n.animation);n.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);let o=n.radius||zw(e,t,s),a=e-s.left,l=t-s.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),h=u.transitionProperty,p=u.transitionDuration,f=h==="none"||p==="0s"||p==="0s, 0s"||s.width===0&&s.height===0,g=new fp(this,d,n,f);d.style.transform="scale3d(1, 1, 1)",g.state=Xi.FADING_IN,n.persistent||(this._mostRecentTransientRipple=g);let y=null;return!f&&(c||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let v=()=>{y&&(y.fallbackTimer=null),clearTimeout(M),this._finishRippleTransition(g)},b=()=>this._destroyRipple(g),M=setTimeout(b,c+100);d.addEventListener("transitionend",v),d.addEventListener("transitioncancel",b),y={onTransitionEnd:v,onTransitionCancel:b,fallbackTimer:M}}),this._activeRipples.set(g,y),(f||!c)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===Xi.FADING_OUT||e.state===Xi.HIDDEN)return;let t=e.element,n=S(S({},tv),e.config.animation);t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=Xi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Pn(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,iv.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nv.forEach(t=>{this._triggerElement.addEventListener(t,this,ev)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Xi.FADING_IN?this._startFadeOutTransition(e):e.state===Xi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=Xi.VISIBLE,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Xi.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=dp(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Fw;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!up(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===Xi.VISIBLE||e.config.terminateOnPointerUp&&e.state===Xi.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(iv.forEach(t=>i._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(nv.forEach(t=>e.removeEventListener(t,this,ev)),this._pointerUpEventsRegistered=!1))}};function zw(i,e,t){let n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+s*s)}var lv=new pt("mat-ripple-global-options"),Bw=(()=>{class i{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,n,s,r,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new gp(this,n,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:S(S(S({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,n=0,s){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,n,S(S({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,S(S({},this.rippleConfig),t))}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(wt),q(Qe),q(lv,8),q(ns,8))}}static{this.\u0275dir=le({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){n&2&&Ne("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return i})();var sv={capture:!0},rv=["focus","mousedown","mouseenter","touchstart"],hp="mat-ripple-loader-uninitialized",pp="mat-ripple-loader-class-name",ov="mat-ripple-loader-centered",Qc="mat-ripple-loader-disabled",cv=(()=>{class i{constructor(){this._document=z(Ht,{optional:!0}),this._animationMode=z(ns,{optional:!0}),this._globalRippleOptions=z(lv,{optional:!0}),this._platform=z(Qe),this._ngZone=z(wt),this._hosts=new Map,this._onInteraction=t=>{let n=ss(t);if(n instanceof HTMLElement){let s=n.closest(`[${hp}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let t of rv)this._document?.addEventListener(t,this._onInteraction,sv)})}ngOnDestroy(){let t=this._hosts.keys();for(let n of t)this.destroyRipple(n);for(let n of rv)this._document?.removeEventListener(n,this._onInteraction,sv)}configureRipple(t,n){t.setAttribute(hp,this._globalRippleOptions?.namespace??""),(n.className||!t.hasAttribute(pp))&&t.setAttribute(pp,n.className||""),n.centered&&t.setAttribute(ov,""),n.disabled&&t.setAttribute(Qc,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,n){let s=this._hosts.get(t);if(s){s.disabled=n;return}n?t.setAttribute(Qc,""):t.removeAttribute(Qc)}_createRipple(t){if(!this._document)return;let n=this._hosts.get(t);if(n)return n;t.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",t.getAttribute(pp)),t.append(s);let r=new Bw(new te(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(ov),r.disabled=t.hasAttribute(Qc),this.attachRipple(t,r),r}attachRipple(t,n){t.removeAttribute(hp),this._hosts.set(t,n)}destroyRipple(t){let n=this._hosts.get(t);n&&(n.ngOnDestroy(),this._hosts.delete(t))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Uw=["notch"],Gw=["matFormFieldNotchedOutline",""],Hw=["*"],Yw=["textField"],Ww=["iconPrefixContainer"],Zw=["textPrefixContainer"],$w=["iconSuffixContainer"],Kw=["textSuffixContainer"],Xw=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Qw=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function qw(i,e){i&1&&dt(0,"span",21)}function Jw(i,e){if(i&1&&(k(0,"label",20),ke(1,1),ii(2,qw,1,0,"span",21),O()),i&2){let t=kn(2);Ue("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Li("for",t._control.disableAutomaticLabeling?null:t._control.id),zt(2),ni(!t.hideRequiredMarker&&t._control.required?2:-1)}}function tC(i,e){if(i&1&&ii(0,Jw,3,5,"label",20),i&2){let t=kn();ni(t._hasFloatingLabel()?0:-1)}}function eC(i,e){i&1&&dt(0,"div",7)}function iC(i,e){}function nC(i,e){if(i&1&&ii(0,iC,0,0,"ng-template",13),i&2){kn(2);let t=jh(1);Ue("ngTemplateOutlet",t)}}function sC(i,e){if(i&1&&(k(0,"div",9),ii(1,nC,1,1,null,13),O()),i&2){let t=kn();Ue("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),zt(),ni(t._forceDisplayInfixLabel()?-1:1)}}function rC(i,e){i&1&&(k(0,"div",10,2),ke(2,2),O())}function oC(i,e){i&1&&(k(0,"div",11,3),ke(2,3),O())}function aC(i,e){}function lC(i,e){if(i&1&&ii(0,aC,0,0,"ng-template",13),i&2){kn();let t=jh(1);Ue("ngTemplateOutlet",t)}}function cC(i,e){i&1&&(k(0,"div",14,4),ke(2,4),O())}function dC(i,e){i&1&&(k(0,"div",15,5),ke(2,5),O())}function uC(i,e){i&1&&dt(0,"div",16)}function hC(i,e){if(i&1&&(k(0,"div",18),ke(1,6),O()),i&2){let t=kn();Ue("@transitionMessages",t._subscriptAnimationState)}}function pC(i,e){if(i&1&&(k(0,"mat-hint",22),U(1),O()),i&2){let t=kn(2);Ue("id",t._hintLabelId),zt(),cb(t.hintLabel)}}function fC(i,e){if(i&1&&(k(0,"div",19),ii(1,pC,2,2,"mat-hint",22),ke(2,7),dt(3,"div",23),ke(4,8),O()),i&2){let t=kn();Ue("@transitionMessages",t._subscriptAnimationState),zt(),ni(t.hintLabel?1:-1)}}var dv=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=le({type:i,selectors:[["mat-label"]],standalone:!0})}}return i})();var mC=new pt("MatError");var gC=0,uv=(()=>{class i{constructor(){this.align="start",this.id=`mat-mdc-hint-${gC++}`}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=le({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,s){n&2&&(Za("id",s.id),Li("align",null),Ne("mat-mdc-form-field-hint-end",s.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0})}}return i})(),yC=new pt("MatPrefix");var bC=new pt("MatSuffix");var vv=new pt("FloatingLabelParent"),hv=(()=>{class i{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=z(Xb),this._ngZone=z(wt),this._parent=z(vv),this._resizeSubscription=new Ar}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return vC(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(n){return new(n||i)(q(te))}}static{this.\u0275dir=le({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,s){n&2&&Ne("mdc-floating-label--float-above",s.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return i})();function vC(i){let e=i;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let n=t.scrollWidth;return t.remove(),n}var pv="mdc-line-ripple--active",Jc="mdc-line-ripple--deactivating",fv=(()=>{class i{constructor(t,n){this._elementRef=t,this._handleTransitionEnd=s=>{let r=this._elementRef.nativeElement.classList,o=r.contains(Jc);s.propertyName==="opacity"&&o&&r.remove(pv,Jc)},n.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Jc),t.add(pv)}deactivate(){this._elementRef.nativeElement.classList.add(Jc)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(wt))}}static{this.\u0275dir=le({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return i})(),mv=(()=>{class i{constructor(t,n){this._elementRef=t,this._ngZone=n,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(wt))}}static{this.\u0275cmp=ae({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,s){if(n&1&&yn(Uw,5),n&2){let r;Ge(r=He())&&(s._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,s){n&2&&Ne("mdc-notched-outline--notched",s.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ce],attrs:Gw,ngContentSelectors:Hw,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,s){n&1&&(js(),dt(0,"div",1),k(1,"div",2,0),ke(3),O(),dt(4,"div",3))},encapsulation:2,changeDetection:0})}}return i})(),xC={transitionMessages:_b("transitionMessages",[Tb("enter",Yh({opacity:1,transform:"translateY(0%)"})),Lb("void => enter",[Yh({opacity:0,transform:"translateY(-5px)"}),Eb("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},yp=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=le({type:i})}}return i})();var bp=new pt("MatFormField"),vp=new pt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),gv=0,yv="fill",MC="auto",bv="fixed",IC="translateY(-50%)",xv=(()=>{class i{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=kr(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||MC}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let n=this._appearance,s=t||this._defaults?.appearance||yv;this._appearance=s,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||bv}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||bv}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,n,s,r,o,a,l,c){this._elementRef=t,this._changeDetectorRef=n,this._dir=r,this._platform=o,this._defaults=a,this._animationMode=l,this._labelChild=sb(dv),this._hideRequiredMarker=!1,this.color="primary",this._appearance=yv,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${gv++}`,this._hintLabelId=`mat-mdc-hint-${gv++}`,this._subscriptAnimationState="",this._destroyed=new me,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=z(is),this.getLabelId=Rn(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Rn(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let n=this._control,s="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(s+t.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(s+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(gn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ty(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),ib(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(gn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let n=this._control?this._control.ngControl:null;return n&&n[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(r=>r.align==="start"):null,s=this._hintChildren?this._hintChildren.find(r=>r.align==="end"):null;n?t.push(n.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,a=n?.getBoundingClientRect().width??0,l=s?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=this._dir.value==="rtl"?"-1":"1",h=`${a+l}px`,f=`calc(${u} * (${h} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${IC} translateX(${f})
    )`;let g=a+l+c+d;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${g}px)`)}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let n=t.getRootNode();return n&&n!==t}return document.documentElement.contains(t)}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(Nr),q(wt),q(Zb),q(Qe),q(vp,8),q(ns,8),q(Ht))}}static{this.\u0275cmp=ae({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,s,r){if(n&1&&(ab(r,s._labelChild,dv,5),Lr(r,yp,5),Lr(r,yC,5),Lr(r,bC,5),Lr(r,mC,5),Lr(r,uv,5)),n&2){lb();let o;Ge(o=He())&&(s._formFieldControl=o.first),Ge(o=He())&&(s._prefixChildren=o),Ge(o=He())&&(s._suffixChildren=o),Ge(o=He())&&(s._errorChildren=o),Ge(o=He())&&(s._hintChildren=o)}},viewQuery:function(n,s){if(n&1&&(yn(Yw,5),yn(Ww,5),yn(Zw,5),yn($w,5),yn(Kw,5),yn(hv,5),yn(mv,5),yn(fv,5)),n&2){let r;Ge(r=He())&&(s._textField=r.first),Ge(r=He())&&(s._iconPrefixContainer=r.first),Ge(r=He())&&(s._textPrefixContainer=r.first),Ge(r=He())&&(s._iconSuffixContainer=r.first),Ge(r=He())&&(s._textSuffixContainer=r.first),Ge(r=He())&&(s._floatingLabel=r.first),Ge(r=He())&&(s._notchedOutline=r.first),Ge(r=He())&&(s._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(n,s){n&2&&Ne("mat-mdc-form-field-label-always-float",s._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",s._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",s._hasIconSuffix)("mat-form-field-invalid",s._control.errorState)("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-form-field-no-animations",s._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",s.appearance=="fill")("mat-form-field-appearance-outline",s.appearance=="outline")("mat-form-field-hide-placeholder",s._hasFloatingLabel()&&!s._shouldLabelFloat())("mat-focused",s._control.focused)("mat-primary",s.color!=="accent"&&s.color!=="warn")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[bn([{provide:bp,useExisting:i},{provide:vv,useExisting:i}]),ce],ngContentSelectors:Qw,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,s){if(n&1){let r=ob();js(Xw),ii(0,tC,1,1,"ng-template",null,0,db),k(2,"div",6,1),$i("click",function(a){return Vy(r),Uy(s._control.onContainerClick(a))}),ii(4,eC,1,0,"div",7),k(5,"div",8),ii(6,sC,2,2,"div",9)(7,rC,3,0,"div",10)(8,oC,3,0,"div",11),k(9,"div",12),ii(10,lC,1,1,null,13),ke(11),O(),ii(12,cC,3,0,"div",14)(13,dC,3,0,"div",15),O(),ii(14,uC,1,0,"div",16),O(),k(15,"div",17),ii(16,hC,2,1,"div",18)(17,fC,5,2,"div",19),O()}if(n&2){let r;zt(2),Ne("mdc-text-field--filled",!s._hasOutline())("mdc-text-field--outlined",s._hasOutline())("mdc-text-field--no-label",!s._hasFloatingLabel())("mdc-text-field--disabled",s._control.disabled)("mdc-text-field--invalid",s._control.errorState),zt(2),ni(!s._hasOutline()&&!s._control.disabled?4:-1),zt(2),ni(s._hasOutline()?6:-1),zt(),ni(s._hasIconPrefix?7:-1),zt(),ni(s._hasTextPrefix?8:-1),zt(2),ni(!s._hasOutline()||s._forceDisplayInfixLabel()?10:-1),zt(2),ni(s._hasTextSuffix?12:-1),zt(),ni(s._hasIconSuffix?13:-1),zt(),ni(s._hasOutline()?-1:14),zt(),Ne("mat-mdc-form-field-subscript-dynamic-size",s.subscriptSizing==="dynamic"),zt(),ni((r=s._getDisplayedMessages())==="error"?16:r==="hint"?17:-1)}},dependencies:[hv,mv,Mb,fv,uv],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[xC.transitionMessages]},changeDetection:0})}}return i})();var SC="@",DC=(()=>{class i{constructor(t,n,s,r,o){this.doc=t,this.delegate=n,this.zone=s,this.animationType=r,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=z(tb,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-GLHUXUZS.js").then(n=>n)).catch(n=>{throw new Vt(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc);let r=new s(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(t,n){let s=this.delegate.createRenderer(t,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let r=new xp(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let a=o.createRenderer(t,n);r.use(a),this.scheduler?.notify(9)}).catch(o=>{r.use(s)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){To()}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})(),xp=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,s){this.delegate.insertBefore(e,t,n,s)}removeChild(e,t,n){this.delegate.removeChild(e,t,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.shouldReplay(t)&&this.replay.push(s=>s.listen(e,t,n)),this.delegate.listen(e,t,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(SC)}};function Mv(i="animations"){return eb("NgAsyncAnimations"),Ga([{provide:Bc,useFactory:(e,t,n)=>new DC(e,t,n,i),deps:[Ht,Zc,wt]},{provide:ns,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mt="primary",gl=Symbol("RouteTitle"),Ap=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Vo(i){return new Ap(i)}function wC(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let s={};for(let r=0;r<n.length;r++){let o=n[r],a=i[r];if(o[0]===":")s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,n.length),posParams:s}}function CC(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!jn(i[t],e[t]))return!1;return!0}function jn(i,e){let t=i?wp(i):void 0,n=e?wp(e):void 0;if(!t||!n||t.length!=n.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!Nv(i[s],e[s]))return!1;return!0}function wp(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Nv(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((s,r)=>n[r]===s)}else return i===e}function kv(i){return i.length>0?i[i.length-1]:null}function Us(i){return Mh(i)?i:Gc(i)?Ke(Promise.resolve(i)):J(i)}var _C={exact:Ov,subset:Pv},Rv={exact:EC,subset:TC,ignored:()=>!0};function Iv(i,e,t){return _C[t.paths](i.root,e.root,t.matrixParams)&&Rv[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function EC(i,e){return jn(i,e)}function Ov(i,e,t){if(!Or(i.segments,e.segments)||!id(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!Ov(i.children[n],e.children[n],t))return!1;return!0}function TC(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>Nv(i[t],e[t]))}function Pv(i,e,t){return jv(i,e,e.segments,t)}function jv(i,e,t,n){if(i.segments.length>t.length){let s=i.segments.slice(0,t.length);return!(!Or(s,t)||e.hasChildren()||!id(s,t,n))}else if(i.segments.length===t.length){if(!Or(i.segments,t)||!id(i.segments,t,n))return!1;for(let s in e.children)if(!i.children[s]||!Pv(i.children[s],e.children[s],n))return!1;return!0}else{let s=t.slice(0,i.segments.length),r=t.slice(i.segments.length);return!Or(i.segments,s)||!id(i.segments,s,n)||!i.children[mt]?!1:jv(i.children[mt],e,r,n)}}function id(i,e,t){return e.every((n,s)=>Rv[t](i[s].parameters,n.parameters))}var os=class{constructor(e=new Rt([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){return kC.serialize(this)}},Rt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nd(this)}},Rr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Vo(this.parameters),this._parameterMap}toString(){return zv(this)}};function LC(i,e){return Or(i,e)&&i.every((t,n)=>jn(t.parameters,e[n].parameters))}function Or(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function NC(i,e){let t=[];return Object.entries(i.children).forEach(([n,s])=>{n===mt&&(t=t.concat(e(s,n)))}),Object.entries(i.children).forEach(([n,s])=>{n!==mt&&(t=t.concat(e(s,n)))}),t}var yl=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:()=>new Uo,providedIn:"root"})}}return i})(),Uo=class{parse(e){let t=new _p(e);return new os(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${el(e.root,!0)}`,n=PC(e.queryParams),s=typeof e.fragment=="string"?`#${RC(e.fragment)}`:"";return`${t}${n}${s}`}},kC=new Uo;function nd(i){return i.segments.map(e=>zv(e)).join("/")}function el(i,e){if(!i.hasChildren())return nd(i);if(e){let t=i.children[mt]?el(i.children[mt],!1):"",n=[];return Object.entries(i.children).forEach(([s,r])=>{s!==mt&&n.push(`${s}:${el(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=NC(i,(n,s)=>s===mt?[el(i.children[mt],!1)]:[`${s}:${el(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[mt]!=null?`${nd(i)}/${t[0]}`:`${nd(i)}/(${t.join("//")})`}}function Fv(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function td(i){return Fv(i).replace(/%3B/gi,";")}function RC(i){return encodeURI(i)}function Cp(i){return Fv(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sd(i){return decodeURIComponent(i)}function Sv(i){return sd(i.replace(/\+/g,"%20"))}function zv(i){return`${Cp(i.path)}${OC(i.parameters)}`}function OC(i){return Object.entries(i).map(([e,t])=>`;${Cp(e)}=${Cp(t)}`).join("")}function PC(i){let e=Object.entries(i).map(([t,n])=>Array.isArray(n)?n.map(s=>`${td(t)}=${td(s)}`).join("&"):`${td(t)}=${td(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jC=/^[^\/()?;#]+/;function Mp(i){let e=i.match(jC);return e?e[0]:""}var FC=/^[^\/()?;=#]+/;function zC(i){let e=i.match(FC);return e?e[0]:""}var BC=/^[^=?&#]+/;function VC(i){let e=i.match(BC);return e?e[0]:""}var UC=/^[^&#]+/;function GC(i){let e=i.match(UC);return e?e[0]:""}var _p=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[mt]=new Rt(e,t)),n}parseSegment(){let e=Mp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Vt(4009,!1);return this.capture(e),new Rr(sd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=zC(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=Mp(this.remaining);s&&(n=s,this.capture(n))}e[sd(t)]=sd(n)}parseQueryParam(e){let t=VC(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let o=GC(this.remaining);o&&(n=o,this.capture(n))}let s=Sv(t),r=Sv(n);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Mp(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new Vt(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=mt);let o=this.parseChildren();t[r]=Object.keys(o).length===1?o[mt]:new Rt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Vt(4011,!1)}};function Bv(i){return i.segments.length>0?new Rt([],{[mt]:i}):i}function Vv(i){let e={};for(let[n,s]of Object.entries(i.children)){let r=Vv(s);if(n===mt&&r.segments.length===0&&r.hasChildren())for(let[o,a]of Object.entries(r.children))e[o]=a;else(r.segments.length>0||r.hasChildren())&&(e[n]=r)}let t=new Rt(i.segments,e);return HC(t)}function HC(i){if(i.numberOfChildren===1&&i.children[mt]){let e=i.children[mt];return new Rt(i.segments.concat(e.segments),e.children)}return i}function al(i){return i instanceof os}function YC(i,e,t=null,n=null){let s=Uv(i);return Gv(s,e,t,n)}function Uv(i){let e;function t(r){let o={};for(let l of r.children){let c=t(l);o[l.outlet]=c}let a=new Rt(r.url,o);return r===i&&(e=a),a}let n=t(i.root),s=Bv(n);return e??s}function Gv(i,e,t,n){let s=i;for(;s.parent;)s=s.parent;if(e.length===0)return Ip(s,s,s,t,n);let r=WC(e);if(r.toRoot())return Ip(s,s,new Rt([],{}),t,n);let o=ZC(r,s,i),a=o.processChildren?sl(o.segmentGroup,o.index,r.commands):Yv(o.segmentGroup,o.index,r.commands);return Ip(s,o.segmentGroup,a,t,n)}function rd(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function ll(i){return typeof i=="object"&&i!=null&&i.outlets}function Ip(i,e,t,n,s){let r={};n&&Object.entries(n).forEach(([l,c])=>{r[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;i===e?o=t:o=Hv(i,e,t);let a=Bv(Vv(o));return new os(a,r,s)}function Hv(i,e,t){let n={};return Object.entries(i.children).forEach(([s,r])=>{r===e?n[s]=t:n[s]=Hv(r,e,t)}),new Rt(i.segments,n)}var od=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&rd(n[0]))throw new Vt(4003,!1);let s=n.find(ll);if(s&&s!==kv(n))throw new Vt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WC(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new od(!0,0,i);let e=0,t=!1,n=i.reduce((s,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let a={};return Object.entries(r.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return typeof r!="string"?[...s,r]:o===0?(r.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&s.push(a))}),s):[...s,r]},[]);return new od(t,e,n)}var Fo=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function ZC(i,e,t){if(i.isAbsolute)return new Fo(e,!0,0);if(!t)return new Fo(e,!1,NaN);if(t.parent===null)return new Fo(t,!0,0);let n=rd(i.commands[0])?0:1,s=t.segments.length-1+n;return $C(t,s,i.numberOfDoubleDots)}function $C(i,e,t){let n=i,s=e,r=t;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Vt(4005,!1);s=n.segments.length}return new Fo(n,!1,s-r)}function KC(i){return ll(i[0])?i[0].outlets:{[mt]:i}}function Yv(i,e,t){if(i??=new Rt([],{}),i.segments.length===0&&i.hasChildren())return sl(i,e,t);let n=XC(i,e,t),s=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let r=new Rt(i.segments.slice(0,n.pathIndex),{});return r.children[mt]=new Rt(i.segments.slice(n.pathIndex),i.children),sl(r,0,s)}else return n.match&&s.length===0?new Rt(i.segments,{}):n.match&&!i.hasChildren()?Ep(i,e,t):n.match?sl(i,0,s):Ep(i,e,t)}function sl(i,e,t){if(t.length===0)return new Rt(i.segments,{});{let n=KC(t),s={};if(Object.keys(n).some(r=>r!==mt)&&i.children[mt]&&i.numberOfChildren===1&&i.children[mt].segments.length===0){let r=sl(i.children[mt],e,t);return new Rt(i.segments,r.children)}return Object.entries(n).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(s[r]=Yv(i.children[r],e,o))}),Object.entries(i.children).forEach(([r,o])=>{n[r]===void 0&&(s[r]=o)}),new Rt(i.segments,s)}}function XC(i,e,t){let n=0,s=e,r={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(n>=t.length)return r;let o=i.segments[s],a=t[n];if(ll(a))break;let l=`${a}`,c=n<t.length-1?t[n+1]:null;if(s>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Av(l,c,o))return r;n+=2}else{if(!Av(l,{},o))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function Ep(i,e,t){let n=i.segments.slice(0,e),s=0;for(;s<t.length;){let r=t[s];if(ll(r)){let l=QC(r.outlets);return new Rt(n,l)}if(s===0&&rd(t[0])){let l=i.segments[e];n.push(new Rr(l.path,Dv(t[0]))),s++;continue}let o=ll(r)?r.outlets[mt]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&rd(a)?(n.push(new Rr(o,Dv(a))),s+=2):(n.push(new Rr(o,{})),s++)}return new Rt(n,{})}function QC(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=Ep(new Rt([],{}),0,n))}),e}function Dv(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function Av(i,e,t){return i==t.path&&jn(e,t.parameters)}var rl="imperative",Re=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Re||{}),Qi=class{constructor(e,t){this.id=e,this.url=t}},Go=class extends Qi{constructor(e,t,n="imperative",s=null){super(e,t),this.type=Re.NavigationStart,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},as=class extends Qi{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=Re.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ki=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(ki||{}),ad=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(ad||{}),rs=class extends Qi{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=Re.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Bs=class extends Qi{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=Re.NavigationSkipped}},cl=class extends Qi{constructor(e,t,n,s){super(e,t),this.error=n,this.target=s,this.type=Re.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ld=class extends Qi{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=Re.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends Qi{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=Re.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lp=class extends Qi{constructor(e,t,n,s,r){super(e,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r,this.type=Re.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Np=class extends Qi{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=Re.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kp=class extends Qi{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=Re.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rp=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Op=class{constructor(e){this.route=e,this.type=Re.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pp=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jp=class{constructor(e){this.snapshot=e,this.type=Re.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zp=class{constructor(e){this.snapshot=e,this.type=Re.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cd=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=Re.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},dl=class{},Ho=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function qC(i,e){return i.providers&&!i._injector&&(i._injector=kh(i.providers,e,`Route: ${i.path}`)),i._injector??e}function xn(i){return i.outlet||mt}function JC(i,e){let t=i.filter(n=>xn(n)===e);return t.push(...i.filter(n=>xn(n)!==e)),t}function bl(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Bp=class{get injector(){return bl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vl(this.rootInjector),this.attachRef=null}},vl=(()=>{class i{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,n){let s=this.getOrCreateContext(t);s.outlet=n,this.contexts.set(t,s)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new Bp(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(n){return new(n||i)(tt(Co))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),dd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Vp(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=Vp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Up(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Up(e,this._root).map(t=>t.value)}};function Vp(i,e){if(i===e.value)return e;for(let t of e.children){let n=Vp(i,t);if(n)return n}return null}function Up(i,e){if(i===e.value)return[e];for(let t of e.children){let n=Up(i,t);if(n.length)return n.unshift(e),n}return[]}var Ni=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function jo(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var ud=class extends dd{constructor(e,t){super(e),this.snapshot=t,Qp(this,e)}toString(){return this.snapshot.toString()}};function Wv(i){let e=t_(i),t=new gi([new Rr("",{})]),n=new gi({}),s=new gi({}),r=new gi({}),o=new gi(""),a=new Pr(t,n,r,o,s,mt,i,e.root);return a.snapshot=e.root,new ud(new Ni(a,[]),e)}function t_(i){let e={},t={},n={},s="",r=new zo([],e,n,s,t,mt,i,null,{});return new pd("",new Ni(r,[]))}var Pr=class{constructor(e,t,n,s,r,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(gt(c=>c[gl]))??J(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(gt(e=>Vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(gt(e=>Vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hd(i,e,t="emptyOnly"){let n,{routeConfig:s}=i;return e!==null&&(t==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:S(S({},e.params),i.params),data:S(S({},e.data),i.data),resolve:S(S(S(S({},i.data),e.data),s?.data),i._resolvedData)}:n={params:S({},i.params),data:S({},i.data),resolve:S(S({},i.data),i._resolvedData??{})},s&&$v(s)&&(n.resolve[gl]=s.title),n}var zo=class{get title(){return this.data?.[gl]}constructor(e,t,n,s,r,o,a,l,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},pd=class extends dd{constructor(e,t){super(t),this.url=e,Qp(this,t)}toString(){return Zv(this._root)}};function Qp(i,e){e.value._routerState=i,e.children.forEach(t=>Qp(i,t))}function Zv(i){let e=i.children.length>0?` { ${i.children.map(Zv).join(", ")} } `:"";return`${i.value}${e}`}function Sp(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,jn(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),jn(e.params,t.params)||i.paramsSubject.next(t.params),CC(e.url,t.url)||i.urlSubject.next(t.url),jn(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Gp(i,e){let t=jn(i.params,e.params)&&LC(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||Gp(i.parent,e.parent))}function $v(i){return typeof i.title=="string"||i.title===null}var e_=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=mt,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.parentContexts=z(vl),this.location=z(nb),this.changeDetector=z(Nr),this.inputBinder=z(yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:s}=t.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Vt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Vt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Vt(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new Vt(4013,!1);this._activatedRoute=t;let s=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Hp(t,a,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=le({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]})}}return i})(),Hp=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Pr?this.route:e===vl?this.childContexts:this.parent.get(e,t)}},yd=new pt(""),wv=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,s=Rc([n.queryParams,n.params,n.data]).pipe(Zi(([r,o,a],l)=>(a=S(S(S({},r),o),a),l===0?J(a):Promise.resolve(a)))).subscribe(r=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let o=fb(n.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,r[a])});this.outletDataSubscriptions.set(t,s)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})();function i_(i,e,t){let n=ul(i,e._root,t?t._root:void 0);return new ud(n,e)}function ul(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let s=n_(i,e,t);return new Ni(n,s)}else{if(i.shouldAttach(e.value)){let r=i.retrieve(e.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ul(i,a)),o}}let n=s_(e.value),s=e.children.map(r=>ul(i,r));return new Ni(n,s)}}function n_(i,e,t){return e.children.map(n=>{for(let s of t.children)if(i.shouldReuseRoute(n.value,s.value.snapshot))return ul(i,n,s);return ul(i,n)})}function s_(i){return new Pr(new gi(i.url),new gi(i.params),new gi(i.queryParams),new gi(i.fragment),new gi(i.data),i.outlet,i.component,i)}var hl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Kv="ngNavigationCancelingError";function fd(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=al(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Xv(!1,ki.Redirect);return s.url=t,s.navigationBehaviorOptions=n,s}function Xv(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[Kv]=!0,t.cancellationCode=e,t}function r_(i){return Qv(i)&&al(i.url)}function Qv(i){return!!i&&i[Kv]}var o_=(i,e,t,n)=>gt(s=>(new Yp(e,s.targetRouterState,s.currentRouterState,t,n).activate(i),s)),Yp=class{constructor(e,t,n,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Sp(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let s=jo(t);e.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,s[o],n),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(e,t,n){let s=e.value,r=t?t.value:null;if(s===r)if(s.component){let o=n.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=jo(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=jo(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let s=jo(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new zp(r.value.snapshot))}),e.children.length&&this.forwardEvent(new jp(e.value.snapshot))}activateRoutes(e,t,n){let s=e.value,r=t?t.value:null;if(Sp(s),s===r)if(s.component){let o=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(s.component){let o=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sp(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)}},md=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bo=class{constructor(e,t){this.component=e,this.route=t}};function a_(i,e,t){let n=i._root,s=e?e._root:null;return il(n,s,t,[n.value])}function l_(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Wo(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!zy(i)?i:e.get(i):n}function il(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=jo(e);return i.children.forEach(o=>{c_(o,r[o.value.outlet],t,n.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>ol(a,t.getContext(o),s)),s}function c_(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=i.value,o=e?e.value:null,a=t?t.getContext(i.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let l=d_(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new md(n)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?il(i,e,a?a.children:null,n,s):il(i,e,t,n,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new Bo(a.outlet.component,o))}else o&&ol(e,a,s),s.canActivateChecks.push(new md(n)),r.component?il(i,null,a?a.children:null,n,s):il(i,null,t,n,s);return s}function d_(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!Or(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Or(i.url,e.url)||!jn(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gp(i,e)||!jn(i.queryParams,e.queryParams);case"paramsChange":default:return!Gp(i,e)}}function ol(i,e,t){let n=jo(i),s=i.value;Object.entries(n).forEach(([r,o])=>{s.component?e?ol(o,e.children.getContext(r),t):ol(o,null,t):ol(o,e,t)}),s.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Bo(e.outlet.component,s)):t.canDeactivateChecks.push(new Bo(null,s)):t.canDeactivateChecks.push(new Bo(null,s))}function xl(i){return typeof i=="function"}function u_(i){return typeof i=="boolean"}function h_(i){return i&&xl(i.canLoad)}function p_(i){return i&&xl(i.canActivate)}function f_(i){return i&&xl(i.canActivateChild)}function m_(i){return i&&xl(i.canDeactivate)}function g_(i){return i&&xl(i.canMatch)}function qv(i){return i instanceof _y||i?.name==="EmptyError"}var ed=Symbol("INITIAL_VALUE");function Yo(){return Zi(i=>Rc(i.map(e=>e.pipe(es(1),Fy(ed)))).pipe(gt(e=>{for(let t of e)if(t!==!0){if(t===ed)return ed;if(t===!1||y_(t))return t}return!0}),Wi(e=>e!==ed),es(1)))}function y_(i){return al(i)||i instanceof hl}function b_(i,e){return Ei(t=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return o.length===0&&r.length===0?J(E(S({},t),{guardsResult:!0})):v_(o,n,s,i).pipe(Ei(a=>a&&u_(a)?x_(n,r,i,e):J(a)),gt(a=>E(S({},t),{guardsResult:a})))})}function v_(i,e,t,n){return Ke(i).pipe(Ei(s=>A_(s.component,s.route,t,e,n)),Rs(s=>s!==!0,!0))}function x_(i,e,t,n){return Ke(e).pipe(ks(s=>Ey(I_(s.route.parent,n),M_(s.route,n),D_(i,s.path,t),S_(i,s.route,t))),Rs(s=>s!==!0,!0))}function M_(i,e){return i!==null&&e&&e(new Fp(i)),J(!0)}function I_(i,e){return i!==null&&e&&e(new Pp(i)),J(!0)}function S_(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return J(!0);let s=n.map(r=>Sh(()=>{let o=bl(e)??t,a=Wo(r,o),l=p_(a)?a.canActivate(e,i):Nn(o,()=>a(e,i));return Us(l).pipe(Rs())}));return J(s).pipe(Yo())}function D_(i,e,t){let n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>l_(o)).filter(o=>o!==null).map(o=>Sh(()=>{let a=o.guards.map(l=>{let c=bl(o.node)??t,d=Wo(l,c),u=f_(d)?d.canActivateChild(n,i):Nn(c,()=>d(n,i));return Us(u).pipe(Rs())});return J(a).pipe(Yo())}));return J(r).pipe(Yo())}function A_(i,e,t,n,s){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return J(!0);let o=r.map(a=>{let l=bl(e)??s,c=Wo(a,l),d=m_(c)?c.canDeactivate(i,e,t,n):Nn(l,()=>c(i,e,t,n));return Us(d).pipe(Rs())});return J(o).pipe(Yo())}function w_(i,e,t,n){let s=e.canLoad;if(s===void 0||s.length===0)return J(!0);let r=s.map(o=>{let a=Wo(o,i),l=h_(a)?a.canLoad(e,t):Nn(i,()=>a(e,t));return Us(l)});return J(r).pipe(Yo(),Jv(n))}function Jv(i){return wy(oe(e=>{if(typeof e!="boolean")throw fd(i,e)}),gt(e=>e===!0))}function C_(i,e,t,n){let s=e.canMatch;if(!s||s.length===0)return J(!0);let r=s.map(o=>{let a=Wo(o,i),l=g_(a)?a.canMatch(e,t):Nn(i,()=>a(e,t));return Us(l)});return J(r).pipe(Yo(),Jv(n))}var pl=class{constructor(e){this.segmentGroup=e||null}},fl=class extends Error{constructor(e){super(),this.urlTree=e}};function Po(i){return wr(new pl(i))}function __(i){return wr(new Vt(4e3,!1))}function E_(i){return wr(Xv(!1,ki.GuardRejected))}var Wp=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return J(n);if(s.numberOfChildren>1||!s.children[mt])return __(`${e.redirectTo}`);s=s.children[mt]}}applyRedirectCommands(e,t,n,s,r){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,params:p,data:f,title:g}=s,y=Nn(r,()=>a({params:p,data:f,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:h,title:g}));if(y instanceof os)throw new fl(y);t=y}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t[0]==="/")throw new fl(o);return o}applyRedirectCreateUrlTree(e,t,n,s){let r=this.createSegmentGroup(e,t.root,n,s);return new os(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([s,r])=>{if(typeof r=="string"&&r[0]===":"){let a=r.substring(1);n[s]=t[a]}else n[s]=r}),n}createSegmentGroup(e,t,n,s){let r=this.createSegments(e,t.segments,n,s),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,s)}),new Rt(r,o)}createSegments(e,t,n,s){return t.map(r=>r.path[0]===":"?this.findPosParam(e,r,s):this.findOrReturn(r,n))}findPosParam(e,t,n){let s=n[t.path.substring(1)];if(!s)throw new Vt(4001,!1);return s}findOrReturn(e,t){let n=0;for(let s of t){if(s.path===e.path)return t.splice(n),s;n++}return e}},Zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function T_(i,e,t,n,s){let r=qp(i,e,t);return r.matched?(n=qC(e,n),C_(n,e,t,s).pipe(gt(o=>o===!0?r:S({},Zp)))):J(r)}function qp(i,e,t){if(e.path==="**")return L_(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?S({},Zp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(e.matcher||wC)(t,i,e);if(!s)return S({},Zp);let r={};Object.entries(s.posParams??{}).forEach(([a,l])=>{r[a]=l.path});let o=s.consumed.length>0?S(S({},r),s.consumed[s.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function L_(i){return{matched:!0,parameters:i.length>0?kv(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function Cv(i,e,t,n){return t.length>0&&R_(i,t,n)?{segmentGroup:new Rt(e,k_(n,new Rt(t,i.children))),slicedSegments:[]}:t.length===0&&O_(i,t,n)?{segmentGroup:new Rt(i.segments,N_(i,t,n,i.children)),slicedSegments:t}:{segmentGroup:new Rt(i.segments,i.children),slicedSegments:t}}function N_(i,e,t,n){let s={};for(let r of t)if(bd(i,e,r)&&!n[xn(r)]){let o=new Rt([],{});s[xn(r)]=o}return S(S({},n),s)}function k_(i,e){let t={};t[mt]=e;for(let n of i)if(n.path===""&&xn(n)!==mt){let s=new Rt([],{});t[xn(n)]=s}return t}function R_(i,e,t){return t.some(n=>bd(i,e,n)&&xn(n)!==mt)}function O_(i,e,t){return t.some(n=>bd(i,e,n))}function bd(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function P_(i,e,t,n){return xn(i)!==n&&(n===mt||!bd(e,t,i))?!1:qp(e,i,t).matched}function j_(i,e,t){return e.length===0&&!i.children[t]}var $p=class{};function F_(i,e,t,n,s,r,o="emptyOnly"){return new Kp(i,e,t,n,s,o,r).recognize()}var z_=31,Kp=class{constructor(e,t,n,s,r,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Wp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Vt(4002,`'${e.segmentGroup}'`)}recognize(){let e=Cv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(gt(({children:t,rootSnapshot:n})=>{let s=new Ni(n,t),r=new pd("",s),o=YC(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(e){let t=new zo([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,mt,t).pipe(gt(n=>({children:n,rootSnapshot:t})),Ns(n=>{if(n instanceof fl)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pl?this.noMatchError(n):n}))}processSegmentGroup(e,t,n,s,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n,r):this.processSegment(e,t,n,n.segments,s,!0,r).pipe(gt(o=>o instanceof Ni?[o]:[]))}processChildren(e,t,n,s){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return Ke(r).pipe(ks(o=>{let a=n.children[o],l=JC(t,o);return this.processSegmentGroup(e,l,a,o,s)}),Ry((o,a)=>(o.push(...a),o)),Dh(null),ky(),Ei(o=>{if(o===null)return Po(n);let a=t0(o);return B_(a),J(a)}))}processSegment(e,t,n,s,r,o,a){return Ke(t).pipe(ks(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,n,s,r,o,a).pipe(Ns(c=>{if(c instanceof pl)return J(null);throw c}))),Rs(l=>!!l),Ns(l=>{if(qv(l))return j_(n,s,r)?J(new $p):Po(n);throw l}))}processSegmentAgainstRoute(e,t,n,s,r,o,a,l){return P_(n,s,r,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,n,r,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,n,r,o,l):Po(s):Po(s)}expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,o,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:h}=qp(t,s,r);if(!l)return Po(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>z_&&(this.allowRedirects=!1));let p=new zo(r,c,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,_v(s),xn(s),s.component??s._loadedComponent??null,s,Ev(s)),f=hd(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(f.params),p.data=Object.freeze(f.data);let g=this.applyRedirects.applyRedirectCommands(d,s.redirectTo,u,p,e);return this.applyRedirects.lineralizeSegments(s,g).pipe(Ei(y=>this.processSegment(e,n,t,y.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,t,n,s,r,o){let a=T_(t,n,s,e,this.urlSerializer);return n.path==="**"&&(t.children={}),a.pipe(Zi(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,s).pipe(Zi(({routes:c})=>{let d=n._loadedInjector??e,{parameters:u,consumedSegments:h,remainingSegments:p}=l,f=new zo(h,u,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,_v(n),xn(n),n.component??n._loadedComponent??null,n,Ev(n)),g=hd(f,o,this.paramsInheritanceStrategy);f.params=Object.freeze(g.params),f.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:v}=Cv(t,h,p,c);if(v.length===0&&y.hasChildren())return this.processChildren(d,c,y,f).pipe(gt(M=>new Ni(f,M)));if(c.length===0&&v.length===0)return J(new Ni(f,[]));let b=xn(n)===r;return this.processSegment(d,c,y,v,b?mt:r,!0,f).pipe(gt(M=>new Ni(f,M instanceof Ni?[M]:[])))}))):Po(t)))}getChildConfig(e,t,n){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):w_(e,t,n,this.urlSerializer).pipe(Ei(s=>s?this.configLoader.loadChildren(e,t).pipe(oe(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):E_(t))):J({routes:[],injector:e})}};function B_(i){i.sort((e,t)=>e.value.outlet===mt?-1:t.value.outlet===mt?1:e.value.outlet.localeCompare(t.value.outlet))}function V_(i){let e=i.value.routeConfig;return e&&e.path===""}function t0(i){let e=[],t=new Set;for(let n of i){if(!V_(n)){e.push(n);continue}let s=e.find(r=>n.value.routeConfig===r.value.routeConfig);s!==void 0?(s.children.push(...n.children),t.add(s)):e.push(n)}for(let n of t){let s=t0(n.children);e.push(new Ni(n.value,s))}return e.filter(n=>!t.has(n))}function _v(i){return i.data||{}}function Ev(i){return i.resolve||{}}function U_(i,e,t,n,s,r){return Ei(o=>F_(i,e,t,n,o.extractedUrl,s,r).pipe(gt(({state:a,tree:l})=>E(S({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function G_(i,e){return Ei(t=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=t;if(!s.length)return J(t);let r=new Set(s.map(l=>l.route)),o=new Set;for(let l of r)if(!o.has(l))for(let c of e0(l))o.add(c);let a=0;return Ke(o).pipe(ks(l=>r.has(l)?H_(l,n,i,e):(l.data=hd(l,l.parent,i).resolve,J(void 0))),oe(()=>a++),Ah(1),Ei(l=>a===o.size?J(t):Ln))})}function e0(i){let e=i.children.map(t=>e0(t)).flat();return[i,...e]}function H_(i,e,t,n){let s=i.routeConfig,r=i._resolve;return s?.title!==void 0&&!$v(s)&&(r[gl]=s.title),Y_(r,i,e,n).pipe(gt(o=>(i._resolvedData=o,i.data=hd(i,i.parent,t).resolve,null)))}function Y_(i,e,t,n){let s=wp(i);if(s.length===0)return J({});let r={};return Ke(s).pipe(Ei(o=>W_(i[o],e,t,n).pipe(Rs(),oe(a=>{if(a instanceof hl)throw fd(new Uo,a);r[o]=a}))),Ah(1),Ly(r),Ns(o=>qv(o)?Ln:wr(o)))}function W_(i,e,t,n){let s=bl(e)??n,r=Wo(i,s),o=r.resolve?r.resolve(e,t):Nn(s,()=>r(e,t));return Us(o)}function Dp(i){return Zi(e=>{let t=i(e);return t?Ke(t).pipe(gt(()=>e)):J(e)})}var i0=(()=>{class i{buildTitle(t){let n,s=t.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(r=>r.outlet===mt);return n}getResolvedTitleForRoute(t){return t.data[gl]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:()=>z(Z_),providedIn:"root"})}}return i})(),Z_=(()=>{class i extends i0{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(tt(Yb))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ml=new pt("",{providedIn:"root",factory:()=>({})}),$_=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=ae({type:i,selectors:[["ng-component"]],standalone:!0,features:[ce],decls:1,vars:0,template:function(n,s){n&1&&dt(0,"router-outlet")},dependencies:[e_],encapsulation:2})}}return i})();function Jp(i){let e=i.children&&i.children.map(Jp),t=e?E(S({},i),{children:e}):S({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==mt&&(t.component=$_),t}var ml=new pt(""),tf=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(Hc)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=Us(t.loadComponent()).pipe(gt(n0),oe(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),Cr(()=>{this.componentLoaders.delete(t)})),s=new xh(n,()=>new me).pipe(vh());return this.componentLoaders.set(t,s),s}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return J({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=K_(n,this.compiler,t,this.onLoadEndListener).pipe(Cr(()=>{this.childrenLoaders.delete(n)})),o=new xh(r,()=>new me).pipe(vh());return this.childrenLoaders.set(n,o),o}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function K_(i,e,t,n){return Us(i.loadChildren()).pipe(gt(n0),Ei(s=>s instanceof rb||Array.isArray(s)?J(s):Ke(e.compileModuleAsync(s))),gt(s=>{n&&n(i);let r,o,a=!1;return Array.isArray(s)?(o=s,a=!0):(r=s.create(t).injector,o=r.get(ml,[],{optional:!0,self:!0}).flat()),{routes:o.map(Jp),injector:r}}))}function X_(i){return i&&typeof i=="object"&&"default"in i}function n0(i){return X_(i)?i.default:i}var ef=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:()=>z(Q_),providedIn:"root"})}}return i})(),Q_=(()=>{class i{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),s0=new pt(""),r0=new pt("");function q_(i,e,t){let n=i.get(r0),s=i.get(Ht);return i.get(wt).runOutsideAngular(()=>{if(!s.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(c=>setTimeout(c));let r,o=new Promise(c=>{r=c}),a=s.startViewTransition(()=>(r(),J_(i))),{onViewTransitionCreated:l}=n;return l&&Nn(i,()=>l({transition:a,from:e,to:t})),o})}function J_(i){return new Promise(e=>{Nh({read:()=>setTimeout(e)},{injector:i})})}var tE=new pt(""),nf=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new me,this.transitionAbortSubject=new me,this.configLoader=z(tf),this.environmentInjector=z(Co),this.urlSerializer=z(yl),this.rootContexts=z(vl),this.location=z($a),this.inputBindingEnabled=z(yd,{optional:!0})!==null,this.titleStrategy=z(i0),this.options=z(Ml,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(ef),this.createViewTransition=z(s0,{optional:!0}),this.navigationErrorHandler=z(tE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let t=s=>this.events.next(new Rp(s)),n=s=>this.events.next(new Op(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(E(S(S({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,s){return this.transitions=new gi({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:rl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wi(r=>r.id!==0),gt(r=>E(S({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Zi(r=>{let o=!1,a=!1;return J(r).pipe(Zi(l=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ki.SupersededByNewNavigation),Ln;this.currentTransition=r,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?E(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new Bs(l.id,this.urlSerializer.serialize(l.rawUrl),u,ad.IgnoredSameUrlNavigation)),l.resolve(!1),Ln}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return J(l).pipe(Zi(u=>{let h=this.transitions?.getValue();return this.events.next(new Go(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions?.getValue()?Ln:Promise.resolve(u)}),U_(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=E(S({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new ld(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:f,extras:g}=l,y=new Go(u,this.urlSerializer.serialize(h),p,f);this.events.next(y);let v=Wv(this.rootComponentType).snapshot;return this.currentTransition=r=E(S({},l),{targetSnapshot:v,urlAfterRedirects:h,extras:E(S({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(r)}else{let u="";return this.events.next(new Bs(l.id,this.urlSerializer.serialize(l.extractedUrl),u,ad.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ln}}),oe(l=>{let c=new Tp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),gt(l=>(this.currentTransition=r=E(S({},l),{guards:a_(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),r)),b_(this.environmentInjector,l=>this.events.next(l)),oe(l=>{if(r.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw fd(this.urlSerializer,l.guardsResult);let c=new Lp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Wi(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ki.GuardRejected),!1)),Dp(l=>{if(l.guards.canActivateChecks.length)return J(l).pipe(oe(c=>{let d=new Np(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Zi(c=>{let d=!1;return J(c).pipe(G_(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",ki.NoDataFromResolver)}}))}),oe(c=>{let d=new kp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),Dp(l=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(oe(h=>{d.component=h}),gt(()=>{})));for(let h of d.children)u.push(...c(h));return u};return Rc(c(l.targetSnapshot.root)).pipe(Dh(null),es(1))}),Dp(()=>this.afterPreactivation()),Zi(()=>{let{currentSnapshot:l,targetSnapshot:c}=r,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?Ke(d).pipe(gt(()=>r)):J(r)}),gt(l=>{let c=i_(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=r=E(S({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),oe(()=>{this.events.next(new dl)}),o_(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),es(1),oe({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new as(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),gn(this.transitionAbortSubject.pipe(oe(l=>{throw l}))),Cr(()=>{!o&&!a&&this.cancelNavigationTransition(r,"",ki.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ns(l=>{if(a=!0,Qv(l))this.events.next(new rs(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode)),r_(l)?this.events.next(new Ho(l.url,l.navigationBehaviorOptions)):r.resolve(!1);else{let c=new cl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);try{let d=Nn(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof hl){let{message:u,cancellationCode:h}=fd(this.urlSerializer,d);this.events.next(new rs(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new Ho(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(c);let u=t.errorHandler(l);r.resolve(!!u)}}catch(d){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(d)}}return Ln}))}))}cancelNavigationTransition(t,n,s){let r=new rs(t.id,this.urlSerializer.serialize(t.extractedUrl),n,s);this.events.next(r),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function eE(i){return i!==rl}var iE=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:()=>z(nE),providedIn:"root"})}}return i})(),Xp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},nE=(()=>{class i extends Xp{static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=jc(i)))(s||i)}})()}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),o0=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:()=>z(sE),providedIn:"root"})}}return i})(),sE=(()=>{class i extends o0{constructor(){super(...arguments),this.location=z($a),this.urlSerializer=z(yl),this.options=z(Ml,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(ef),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new os,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof Go)this.stateMemento=this.createStateMemento();else if(t instanceof Bs)this.rawUrlTree=n.initialUrl;else if(t instanceof ld){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??s,n)}}else t instanceof dl?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):t instanceof rs&&(t.code===ki.GuardRejected||t.code===ki.NoDataFromResolver)?this.restoreHistory(n):t instanceof cl?this.restoreHistory(n,!0):t instanceof as&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let s=t instanceof os?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let r=this.browserPageId,o=S(S({},n.extras.state),this.generateNgRouterState(n.id,r));this.location.replaceState(s,"",o)}else{let r=S(S({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",r)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,r=this.currentPageId-s;r!==0?this.location.historyGo(r):this.currentUrlTree===t.finalUrl&&r===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(s){return(t||(t=jc(i)))(s||i)}})()}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),nl=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(nl||{});function a0(i,e){i.events.pipe(Wi(t=>t instanceof as||t instanceof rs||t instanceof cl||t instanceof Bs),gt(t=>t instanceof as||t instanceof Bs?nl.COMPLETE:(t instanceof rs?t.code===ki.Redirect||t.code===ki.SupersededByNewNavigation:!1)?nl.REDIRECTING:nl.FAILED),Wi(t=>t!==nl.REDIRECTING),es(1)).subscribe(()=>{e()})}function rE(i){throw i}var oE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vs=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(Uc),this.stateManager=z(o0),this.options=z(Ml,{optional:!0})||{},this.pendingTasks=z(Gy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(nf),this.urlSerializer=z(yl),this.location=z($a),this.urlHandlingStrategy=z(ef),this._events=new me,this.errorHandler=this.options.errorHandler||rE,this.navigated=!1,this.routeReuseStrategy=z(iE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(ml,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(yd,{optional:!0}),this.eventsSubscription=new Ar,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(s!==null&&r!==null){if(this.stateManager.handleRouterEvent(n,r),n instanceof rs&&n.code!==ki.Redirect&&n.code!==ki.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof as)this.navigated=!0;else if(n instanceof Ho){let o=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),l=S({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eE(s.source)},o);this.scheduleNavigation(a,rl,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}cE(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,s){let r={replaceUrl:!0},o=s?.navigationId?s:null;if(s){let l=S({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(r.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,n,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Jp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,c=l?this.currentUrlTree.fragment:o,d=null;switch(a){case"merge":d=S(S({},this.currentUrlTree.queryParams),r);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=r||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let h=s?s.snapshot:this.routerState.snapshot.root;u=Uv(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return Gv(u,t,d,c??null)}navigateByUrl(t,n={skipLocationChange:!1}){let s=al(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,rl,null,n)}navigate(t,n={skipLocationChange:!1}){return lE(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let s;if(n===!0?s=S({},oE):n===!1?s=S({},aE):s=n,al(t))return Iv(this.currentUrlTree,t,s);let r=this.parseUrl(t);return Iv(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.entries(t).reduce((n,[s,r])=>(r!=null&&(n[s]=r),n),{})}scheduleNavigation(t,n,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((u,h)=>{a=u,l=h});let d=this.pendingTasks.add();return a0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:r,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function lE(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Vt(4008,!1)}function cE(i){return!(i instanceof dl)&&!(i instanceof Ho)}var gd=class{};var dE=(()=>{class i{constructor(t,n,s,r,o){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wi(t=>t instanceof as),ks(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let s=[];for(let r of n){r.providers&&!r._injector&&(r._injector=kh(r.providers,t,`Route: ${r.path}`));let o=r._injector??t,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Ke(s).pipe(Ih())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(t,n):s=J(null);let r=s.pipe(Ei(o=>o===null?J(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return Ke([r,o]).pipe(Ih())}else return r})}static{this.\u0275fac=function(n){return new(n||i)(tt(Vs),tt(Hc),tt(Co),tt(gd),tt(tf))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),l0=new pt(""),uE=(()=>{class i{constructor(t,n,s,r,o={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=s,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Go?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof as?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bs&&t.code===ad.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){To()}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac})}}return i})();function c0(i,...e){return Ga([{provide:ml,multi:!0,useValue:i},[],{provide:Pr,useFactory:d0,deps:[Vs]},{provide:zh,multi:!0,useFactory:u0},e.map(t=>t.\u0275providers)])}function d0(i){return i.routerState.root}function Il(i,e){return{\u0275kind:i,\u0275providers:e}}function u0(){let i=z(is);return e=>{let t=i.get(Bh);if(e!==t.components[0])return;let n=i.get(Vs),s=i.get(h0);i.get(sf)===1&&n.initialNavigation(),i.get(p0,null,Ch.Optional)?.setUpPreloading(),i.get(l0,null,Ch.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var h0=new pt("",{factory:()=>new me}),sf=new pt("",{providedIn:"root",factory:()=>1});function hE(){return Il(2,[{provide:sf,useValue:0},{provide:Fh,multi:!0,deps:[is],useFactory:e=>{let t=e.get(yb,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let s=e.get(Vs),r=e.get(h0);a0(s,()=>{n(!0)}),e.get(nf).afterPreactivation=()=>(n(!0),r.closed?J(void 0):r),s.initialNavigation()}))}}])}function pE(){return Il(3,[{provide:Fh,multi:!0,useFactory:()=>{let e=z(Vs);return()=>{e.setUpLocationChangeListener()}}},{provide:sf,useValue:2}])}var p0=new pt("");function fE(i){return Il(0,[{provide:p0,useExisting:dE},{provide:gd,useExisting:i}])}function mE(){return Il(8,[wv,{provide:yd,useExisting:wv}])}function gE(i){let e=[{provide:s0,useValue:q_},{provide:r0,useValue:S({skipNextTransition:!!i?.skipInitialTransition},i)}];return Il(9,e)}var Tv=new pt("ROUTER_FORROOT_GUARD"),yE=[$a,{provide:yl,useClass:Uo},Vs,vl,{provide:Pr,useFactory:d0,deps:[Vs]},tf,[]],f0=(()=>{class i{constructor(t){}static forRoot(t,n){return{ngModule:i,providers:[yE,[],{provide:ml,multi:!0,useValue:t},{provide:Tv,useFactory:ME,deps:[[Vs,new Pc,new _h]]},{provide:Ml,useValue:n||{}},n?.useHash?vE():xE(),bE(),n?.preloadingStrategy?fE(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?IE(n):[],n?.bindToComponentInputs?mE().\u0275providers:[],n?.enableViewTransitions?gE().\u0275providers:[],SE()]}}static forChild(t){return{ngModule:i,providers:[{provide:ml,multi:!0,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||i)(tt(Tv,8))}}static{this.\u0275mod=Le({type:i})}static{this.\u0275inj=Te({})}}return i})();function bE(){return{provide:l0,useFactory:()=>{let i=z(Ab),e=z(wt),t=z(Ml),n=z(nf),s=z(yl);return t.scrollOffset&&i.setOffset(t.scrollOffset),new uE(s,n,i,e,t)}}}function vE(){return{provide:Gh,useClass:vb}}function xE(){return{provide:Gh,useClass:bb}}function ME(i){return"guarded"}function IE(i){return[i.initialNavigation==="disabled"?pE().\u0275providers:[],i.initialNavigation==="enabledBlocking"?hE().\u0275providers:[]]}var Lv=new pt("");function SE(){return[{provide:Lv,useFactory:u0},{provide:zh,multi:!0,useExisting:Lv}]}var m0=[];var g0={providers:[ub(),c0(m0),Mv(),{provide:vp,useValue:{appearance:"outline"}}]};var DE=["*"],vd;function AE(){if(vd===void 0&&(vd=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(vd=i.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return vd}function Sl(i){return AE()?.createHTML(i)||i}function y0(i){return Error(`Unable to find icon with the name "${i}"`)}function wE(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function b0(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function v0(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var ls=class{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}},CE=(()=>{class i{constructor(t,n,s,r){this._httpClient=t,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(t,n,s){return this.addSvgIconInNamespace("",t,n,s)}addSvgIconLiteral(t,n,s){return this.addSvgIconLiteralInNamespace("",t,n,s)}addSvgIconInNamespace(t,n,s,r){return this._addSvgIconConfig(t,n,new ls(s,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,n,s,r){let o=this._sanitizer.sanitize(Ti.HTML,s);if(!o)throw v0(s);let a=Sl(o);return this._addSvgIconConfig(t,n,new ls("",a,r))}addSvgIconSet(t,n){return this.addSvgIconSetInNamespace("",t,n)}addSvgIconSetLiteral(t,n){return this.addSvgIconSetLiteralInNamespace("",t,n)}addSvgIconSetInNamespace(t,n,s){return this._addSvgIconSetConfig(t,new ls(n,null,s))}addSvgIconSetLiteralInNamespace(t,n,s){let r=this._sanitizer.sanitize(Ti.HTML,n);if(!r)throw v0(n);let o=Sl(r);return this._addSvgIconSetConfig(t,new ls("",o,s))}registerFontClassAlias(t,n=t){return this._fontCssClassesByAlias.set(t,n),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let n=this._sanitizer.sanitize(Ti.RESOURCE_URL,t);if(!n)throw b0(t);let s=this._cachedIconsByUrl.get(n);return s?J(xd(s)):this._loadSvgIconFromConfig(new ls(t,null)).pipe(oe(r=>this._cachedIconsByUrl.set(n,r)),gt(r=>xd(r)))}getNamedSvgIcon(t,n=""){let s=x0(n,t),r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,t),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);let o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):wr(y0(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?J(xd(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(gt(n=>xd(n)))}_getSvgFromIconSetConfigs(t,n){let s=this._extractIconWithNameFromAnySet(t,n);if(s)return J(s);let r=n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Ns(a=>{let c=`Loading icon set URL: ${this._sanitizer.sanitize(Ti.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),J(null)})));return Oc(r).pipe(gt(()=>{let o=this._extractIconWithNameFromAnySet(t,n);if(!o)throw y0(t);return o}))}_extractIconWithNameFromAnySet(t,n){for(let s=n.length-1;s>=0;s--){let r=n[s];if(r.svgText&&r.svgText.toString().indexOf(t)>-1){let o=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(o,t,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(oe(n=>t.svgText=n),gt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?J(null):this._fetchIcon(t).pipe(oe(n=>t.svgText=n))}_extractSvgIconFromSet(t,n,s){let r=t.querySelector(`[id="${n}"]`);if(!r)return null;let o=r.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,s);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),s);let a=this._svgElementFromString(Sl("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,s)}_svgElementFromString(t){let n=this._document.createElement("DIV");n.innerHTML=t;let s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){let n=this._svgElementFromString(Sl("<svg></svg>")),s=t.attributes;for(let r=0;r<s.length;r++){let{name:o,value:a}=s[r];o!=="id"&&n.setAttribute(o,a)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(t.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(t,n){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),n&&n.viewBox&&t.setAttribute("viewBox",n.viewBox),t}_fetchIcon(t){let{url:n,options:s}=t,r=s?.withCredentials??!1;if(!this._httpClient)throw wE();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let o=this._sanitizer.sanitize(Ti.RESOURCE_URL,n);if(!o)throw b0(n);let a=this._inProgressUrlFetches.get(o);if(a)return a;let l=this._httpClient.get(o,{responseType:"text",withCredentials:r}).pipe(gt(c=>Sl(c)),Cr(()=>this._inProgressUrlFetches.delete(o)),Oy());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(t,n,s){return this._svgIconConfigs.set(x0(t,n),s),this}_addSvgIconSetConfig(t,n){let s=this._iconSetConfigs.get(t);return s?s.push(n):this._iconSetConfigs.set(t,[n]),this}_svgElementFromConfig(t){if(!t.svgElement){let n=this._svgElementFromString(t.svgText);this._setSvgAttributes(n,t.options),t.svgElement=n}return t.svgElement}_getIconConfigFromResolvers(t,n){for(let s=0;s<this._resolvers.length;s++){let r=this._resolvers[s](n,t);if(r)return _E(r)?new ls(r.url,null,r.options):new ls(r,null)}}static{this.\u0275fac=function(n){return new(n||i)(tt(jb,8),tt(rp),tt(Ht,8),tt(Er))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xd(i){return i.cloneNode(!0)}function x0(i,e){return i+":"+e}function _E(i){return!!(i.url&&i.options)}var EE=new pt("MAT_ICON_DEFAULT_OPTIONS"),TE=new pt("mat-icon-location",{providedIn:"root",factory:LE});function LE(){let i=z(Ht),e=i?i.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var M0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],NE=M0.map(i=>`[${i}]`).join(", "),kE=/^url\(['"]?#(.*?)['"]?\)$/,Md=(()=>{class i{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let n=this._cleanupFontValue(t);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let n=this._cleanupFontValue(t);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(t,n,s,r,o,a){this._elementRef=t,this._iconRegistry=n,this._location=r,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ar.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),s||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,n=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let s=t.childNodes[n];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>t.classList.remove(s)),n.forEach(s=>t.classList.add(s)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let n=this._elementsWithExternalReferences;n&&n.forEach((s,r)=>{s.forEach(o=>{r.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){let n=t.querySelectorAll(NE),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)M0.forEach(o=>{let a=n[r],l=a.getAttribute(o),c=l?l.match(kE):null;if(c){let d=s.get(a);d||(d=[],s.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[n,s]=this._splitIconName(t);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe(es(1)).subscribe(r=>this._setSvgElement(r),r=>{let o=`Error retrieving icon ${n}:${s}! ${r.message}`;this._errorHandler.handleError(new Error(o))})}}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(CE),Fc("aria-hidden"),q(TE),q(Er),q(EE,8))}}static{this.\u0275cmp=ae({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,s){n&2&&(Li("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Vc(s.color?"mat-"+s.color:""),Ne("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",vn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ps,ce],ngContentSelectors:DE,decls:1,vars:0,template:function(n,s){n&1&&(js(),ke(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return i})();function rf(i){i||(Eh(rf),i=z(Th));let e=new Va(t=>i.onDestroy(t.next.bind(t)));return t=>t.pipe(gn(e))}function of(i,e){!e?.injector&&Eh(of);let t=e?.injector??z(is),n=new Cy(1),s=Vh(()=>{let r;try{r=i()}catch(o){Ki(()=>n.error(o));return}Ki(()=>n.next(r))},{injector:t,manualCleanup:!0});return t.get(Th).onDestroy(()=>{s.destroy(),n.complete()}),n.asObservable()}var Fx=Object.defineProperty,RE=Object.getOwnPropertyDescriptor,xs=(i,e)=>{for(var t in e)Fx(i,t,{get:e[t],enumerable:!0})},m=(i,e,t,n)=>{for(var s=n>1?void 0:n?RE(e,t):e,r=i.length-1,o;r>=0;r--)(o=i[r])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&Fx(e,t,s),s},OE={ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColorPicker:"Color picker",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsColor:"Color",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}"};var PE=["delete-legacy","disjoint-channel","disjoint-channel-legacy","horizontal-line-legacy","line-color-legacy","lock","lock-legacy","pan-end-legacy","pan-left-legacy","pan-right-legacy","pan-start-legacy","parallel-channel","parallel-channel-legacy","reset-legacy","trend-line","trend-line-legacy","unlock","unlock-legacy","vertical-line","vertical-line-legacy","zoom-in-legacy","zoom-in-alt","zoom-in-alt-legacy","zoom-out-legacy","zoom-out-alt","zoom-out-alt-legacy"],jE=void 0,FE=void 0;FE=jE;var zE=void 0,BE=void 0;BE=zE;var zx=(i=>(i.POINTER="pointer",i.NODE="node",i.TOP="top",i.RIGHT="right",i.BOTTOM="bottom",i.LEFT="left",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.BOTTOM_RIGHT="bottom-right",i.BOTTOM_LEFT="bottom-left",i))(zx||{}),VE=void 0,UE=void 0;UE=VE;var GE=void 0,HE=void 0;HE=GE;var YE={};xs(YE,{TimeInterval:()=>ao,day:()=>xm,friday:()=>Zx,hour:()=>vm,millisecond:()=>gm,minute:()=>bm,monday:()=>Gx,month:()=>Im,saturday:()=>$x,second:()=>ym,sunday:()=>Mm,thursday:()=>Wx,tuesday:()=>Hx,utcDay:()=>Qx,utcHour:()=>Xx,utcMinute:()=>Kx,utcMonth:()=>qx,utcYear:()=>Jx,wednesday:()=>Yx,year:()=>Sm});var Rf=new Map;function Of(i,e){Rf.has(e)||(Rf.set(e,!0),i())}Of.clear=()=>Rf.clear();function I0(i){return i}function S0(i,e=0,t){let{leading:n=!0,trailing:s=!0}=t??{},r,o,a=!1;function l(){s&&o?(r=setTimeout(l,e),i(...o)):a=!1,o=null}function c(...d){a?o=d:(a=!0,r=setTimeout(l,e),n?i(...d):o=d)}return Object.assign(c,{cancel(){clearTimeout(r),a=!1,o=null}})}function WE(...i){return()=>{for(let e of i)e()}}var R={log(...i){console.log(...i)},warn(i,...e){console.warn(`AG Charts - ${i}`,...e)},error(i,...e){typeof i=="object"?console.error("AG Charts error",i,...e):console.error(`AG Charts - ${i}`,...e)},table(...i){console.table(...i)},warnOnce(i,...e){Of(()=>R.warn(i,...e),`Logger.warn: ${i}`)},errorOnce(i,...e){Of(()=>R.error(i,...e),`Logger.error: ${i}`)}},ao=class{constructor(i,e,t){this._encode=i,this._decode=e,this._rangeCallback=t}floor(i){let e=new Date(i),t=this._encode(e);return this._decode(t)}ceil(i){let e=new Date(Number(i)-1),t=this._encode(e);return this._decode(t+1)}range(i,e,t){let n=this._rangeCallback?.(i,e),s=this._encode(t?this.floor(i):this.ceil(i)),r=this._encode(t?this.ceil(e):this.floor(e));if(r<s)return[];let o=[];for(let a=s;a<=r;a++){let l=this._decode(a);o.push(l)}return n?.(),o}},Pi=class extends ao{getOffset(i,e){let t=typeof i=="number"||i instanceof Date?this._encode(new Date(i)):0;return Math.floor(t)%e}every(i,e){let t=0,n,s=i;i=Math.max(1,Math.round(i)),s!==i&&R.warnOnce(`interval step of [${s}] rounded to [${i}].`);let{snapTo:r="start"}=e??{};if(typeof r=="string"){let l=t;n=(c,d)=>{let u=r==="start"?c:d;return t=this.getOffset(u,i),()=>t=l}}else typeof r=="number"?t=this.getOffset(new Date(r),i):r instanceof Date&&(t=this.getOffset(r,i));let o=l=>{let c=this._encode(l);return Math.floor((c-t)/i)},a=l=>this._decode(l*i+t);return new ao(o,a,n)}};function ZE(i){return i.getTime()}function $E(i){return new Date(i)}var gm=new Pi(ZE,$E),KE=gm,xz=new Date(0).getFullYear(),Ks=1e3,Ze=Ks*60,di=Ze*60,an=di*24,ps=an*7,Dl=an*30,ca=an*365,Bx=new Date().getTimezoneOffset()*Ze;function XE(i){return Math.floor((i.getTime()-Bx)/Ks)}function QE(i){return new Date(Bx+i*Ks)}var ym=new Pi(XE,QE),El=ym,Vx=new Date().getTimezoneOffset()*Ze;function qE(i){return Math.floor((i.getTime()-Vx)/Ze)}function JE(i){return new Date(Vx+i*Ze)}var bm=new Pi(qE,JE),Tl=bm,Ux=new Date().getTimezoneOffset()*Ze;function tT(i){return Math.floor((i.getTime()-Ux)/di)}function eT(i){return new Date(Ux+i*di)}var vm=new Pi(tT,eT),Ll=vm;function iT(i){let e=i.getTimezoneOffset()*Ze;return Math.floor((i.getTime()-e)/an)}function nT(i){let e=new Date(1970,0,1);return e.setDate(e.getDate()+i),e}var xm=new Pi(iT,nT),Pf=xm;function ho(i){let t=(7+i-4)%7;function n(r){let o=r.getTimezoneOffset()*Ze;return Math.floor((r.getTime()-o)/ps-t/7)}function s(r){let o=new Date(1970,0,1);return o.setDate(o.getDate()+r*7+t),o}return new Pi(n,s)}var Mm=ho(0),Gx=ho(1),Hx=ho(2),Yx=ho(3),Wx=ho(4),Zx=ho(5),$x=ho(6),Fd=Mm;function sT(i){return i.getFullYear()*12+i.getMonth()}function rT(i){let e=Math.floor(i/12),t=i-e*12;return new Date(e,t,1)}var Im=new Pi(sT,rT),$o=Im;function oT(i){return i.getFullYear()}function aT(i){let e=new Date;return e.setFullYear(i),e.setMonth(0,1),e.setHours(0,0,0,0),e}var Sm=new Pi(oT,aT),Dm=Sm;function lT(i){return Math.floor(i.getTime()/Ze)}function cT(i){return new Date(i*Ze)}var Kx=new Pi(lT,cT);function dT(i){return Math.floor(i.getTime()/di)}function uT(i){return new Date(i*di)}var Xx=new Pi(dT,uT);function hT(i){return Math.floor(i.getTime()/an)}function pT(i){let e=new Date(0);return e.setUTCDate(e.getUTCDate()+i),e.setUTCHours(0,0,0,0),e}var Qx=new Pi(hT,pT);function fT(i){return i.getUTCFullYear()*12+i.getUTCMonth()}function mT(i){let e=Math.floor(i/12),t=i-e*12;return new Date(Date.UTC(e,t,1))}var qx=new Pi(fT,mT);function gT(i){return i.getUTCFullYear()}function yT(i){let e=new Date;return e.setUTCFullYear(i),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0),e}var Jx=new Pi(gT,yT),tM={};xs(tM,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ui,fromToMotion:()=>ie,staticFromToMotion:()=>$n});var jf=new Map;function eM(){jf.clear()}function dn(i){let e=i.constructor,t=Object.hasOwn(e,"className")?e.className:e.name;if(!t)throw new Error(`The ${e} is missing the 'className' property.`);let n=(jf.get(t)??0)+1;return jf.set(t,n),`${t}-${n}`}function bT(){return crypto.randomUUID?.()??vT()}function vT(){let i=new Uint8Array(16);crypto.getRandomValues(i),i[6]=i[6]&15|64,i[8]=i[8]&63|128;let e="";for(let t=0;t<i.length;t++)(t===4||t===6||t===8||t===10)&&(e+="-"),e+=i[t].toString(16).padStart(2,"0");return e}function*Xs(...i){for(let e of i)yield*e}function iM(i){return i!=null&&typeof i=="object"&&Symbol.iterator in i?i:[i]}var yu=Symbol("interpolate"),Wd=i=>i[yu]!=null;function bu(i,e,t,n=1/0){let s={nearest:void 0,distanceSquared:n};for(let r of t){let o=r.distanceSquared(i,e);if(o===0)return{nearest:r,distanceSquared:0};o<s.distanceSquared&&(s.nearest=r,s.distanceSquared=o)}return s}function xT(i,e,t,n=1/0){let{x:s=i,y:r=e}=t.transformPoint?.(i,e)??{},o={nearest:void 0,distanceSquared:n};for(let a of t.children){let{nearest:l,distanceSquared:c}=a.nearestSquared(s,r,o.distanceSquared);if(c===0)return{nearest:l,distanceSquared:c};c<o.distanceSquared&&(o.nearest=l,o.distanceSquared=c)}return o}var Hn={};typeof window<"u"?Hn.window=window:typeof global<"u"&&(Hn.window=global.window);typeof document<"u"?Hn.document=document:typeof global<"u"&&(Hn.document=global.document);function An(i){return i?Hn.document?.[i]:Hn.document}function je(i){return i?Hn.window?.[i]:Hn.window}function Ot(i,e,t){let n=An().createElement(i);if(typeof e=="object"&&(t=e,e=void 0),e)for(let s of e.split(" "))n.classList.add(s);return t&&Object.assign(n.style,t),n}function Ff(i,e){return An().createElementNS(i,e)}function nM(i,e){let{body:t}=An(),n=Ot("a",{display:"none"});n.href=i,n.download=e,t.appendChild(n),n.click(),setTimeout(()=>t.removeChild(n))}function sM(i){Hn.document=i}function rM(i){Hn.window=i}function qs(i,e){i&&(i.style.width=`${e.width}px`,i.style.height=`${e.height}px`,i.style.left=`${e.x}px`,i.style.top=`${e.y}px`)}function MT(i){if(i.focus({preventScroll:!0}),i.lastChild?.textContent==null)return;let e=An().createRange();e.setStart(i.lastChild,i.lastChild.textContent.length),e.setEnd(i.lastChild,i.lastChild.textContent.length);let t=je().getSelection();t?.removeAllRanges(),t?.addRange(e)}var IT=0;function ST(i){return`${i??"ag-charts-element"}-${IT++}`}function at(i,e,t){return Math.min(t,Math.max(i,e))}function Zd(i,e){let[t,n]=xi(e);return at(t,i,n)}function xi(i){if(i.length===0)return[];let e=[1/0,-1/0];for(let t of i)t<e[0]&&(e[0]=t),t>e[1]&&(e[1]=t);return e}function da(i){let[e,t]=xi(i);return t-e}function Jr(i,e,t=1e-10){return Math.abs(i-e)<t}function oc(i){return Math.sign(i)===-1||Object.is(i,-0)}function vu(i,e=2){let t=10**e;return Math.round(i*t)/t}function xu(i,e=2){let t=Math.floor(Math.log(Math.abs(i))/Math.LN10);return t>=0||!isFinite(t)?i.toFixed(e):i.toFixed(Math.abs(t)-1+e)}function Mu(i,e){return Math.floor(i%e+(i<0?e:0))}function ac(i){if(Math.floor(i)===i)return 0;let e=String(i),t=0;if(i<1e-6||i>=1e21){let s;[e,s]=e.split("e"),s!=null&&(t=Number(s))}let n=e.split(".")[1]?.length??0;return Math.max(n-t,0)}function Am(i,e){return e=e??je("navigator").language,new Intl.NumberFormat(e,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)}function wm(i,e){return Am(i/100,e)}var Wl=class Ko{constructor(e,t,n,s){this.x=e,this.y=t,this.width=n,this.height=s}static fromDOMRect({x:e,y:t,width:n,height:s}){return new Ko(e,t,n,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON(){return{}}}}clone(){let{x:e,y:t,width:n,height:s}=this;return new Ko(e,t,n,s)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}containsPoint(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}intersection(e){if(!this.collidesBBox(e))return;let t=at(e.x,this.x,e.x+e.width),n=at(e.y,this.y,e.y+e.height),s=at(e.x,this.x+this.width,e.x+e.width),r=at(e.y,this.y+this.height,e.y+e.height);return new Ko(t,n,s-t,r-n)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;let n=e-at(this.x,e,this.x+this.width),s=t-at(this.y,t,this.y+this.height);return n*n+s*s}static nearestBox(e,t,n){return bu(e,t,n)}clip(e){if(e===void 0)return this;let t=Math.max(this.x,e.x),n=Math.max(this.y,e.y),s=Math.min(this.x+this.width,e.x+e.width),r=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.y=n,this.width=Math.max(0,s-t),this.height=Math.max(0,r-n),this}shrink(e,t){let n=(s,r)=>{switch(s){case"top":this.y+=r;case"bottom":this.height-=r;break;case"left":this.x+=r;case"right":this.width-=r;break;case"vertical":this.y+=r,this.height-=r*2;break;case"horizontal":this.x+=r,this.width-=r*2;break;case void 0:this.x+=r,this.width-=r*2,this.y+=r,this.height-=r*2;break;default:}};return typeof e=="number"?n(t,e):typeof e=="object"&&Object.entries(e).forEach(([s,r])=>n(s,r)),this}grow(e,t){if(typeof e=="number")this.shrink(-e,t);else{let n=S({},e);for(let s in n)n[s]*=-1;this.shrink(n)}return this}translate(e,t){return this.x+=e,this.y+=t,this}combine(e){let{x:t,y:n,width:s,height:r}=this;this.x=Math.min(t,e.x),this.y=Math.min(n,e.y),this.width=Math.max(t+s,e.x+e.width)-this.x,this.height=Math.max(n+r,e.y+e.height)-this.y}static merge(e){let t=1/0,n=1/0,s=-1/0,r=-1/0;for(let o of e)o.x<t&&(t=o.x),o.y<n&&(n=o.y),o.x+o.width>s&&(s=o.x+o.width),o.y+o.height>r&&(r=o.y+o.height);return new Ko(t,n,s-t,r-n)}[yu](e,t){return new Ko(this.x*(1-t)+e.x*t,this.y*(1-t)+e.y*t,this.width*(1-t)+e.width*t,this.height*(1-t)+e.height*t)}};Wl.zero=Object.freeze(new Wl(0,0,0,0));Wl.NaN=Object.freeze(new Wl(NaN,NaN,NaN,NaN));var G=Wl,Js=(i=>(i[i.NONE=0]="NONE",i[i.TRIVIAL=1]="TRIVIAL",i[i.MINOR=2]="MINOR",i[i.MAJOR=3]="MAJOR",i))(Js||{});function V(i){return function(e,t){let n=`__${t}`;e[t]||DT(e,t,n,i)}}function DT(i,e,t,n){let{redraw:s=1,type:r="normal",changeCb:o,convertor:a,checkDirtyOnAssignment:l=!1}=n??{},c={redraw:s,type:r,changeCb:o,checkDirtyOnAssignment:l,convertor:a},d;switch(r){case"normal":d=_T(t,c);break;case"transform":d=ET(t,c);break;case"path":d=TT(t,c);break}d=CT(wT(AT(d,c),c),c),Object.defineProperty(i,e,{set:d,get:function(){return this[t]},enumerable:!0,configurable:!0})}function AT(i,e){let{convertor:t}=e;return t?function(n){i.call(this,t(n))}:i}var lc=Symbol("no-change");function wT(i,e){let{changeCb:t}=e;return t?function(n){let s=i.call(this,n);return s!==lc&&t.call(this,this),s}:i}function CT(i,e){let{checkDirtyOnAssignment:t}=e;return t?function(n){let s=i.call(this,n);return s!==lc&&n!=null&&n._dirty>0&&this.markDirty(n._dirty),s}:i}function _T(i,e){let{redraw:t=1,changeCb:n}=e;return function(s){let r=this[i];return s!==r?(this[i]=s,this.markDirty(t),n?.(this),s):lc}}function ET(i,e){let{redraw:t=1}=e;return function(n){let s=this[i];return n!==s?(this[i]=n,this.markDirtyTransform(t),n):lc}}function TT(i,e){let{redraw:t=1}=e;return function(n){let s=this[i];return n!==s?(this[i]=n,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(t)),n):lc}}var oM=(i=>(i[i.All=0]="All",i[i.None=1]="None",i))(oM||{}),Iu=(()=>{let i=class aM{constructor(t){this.serialNumber=aM._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0},this.id=dn(this),this.pointerEvents=0,this._dirty=3,this.dirtyZIndex=!1,this.virtualChildrenCount=0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.zIndexSubOrder=void 0,this.name=t?.name,this.isVirtual=t?.isVirtual??!1,this.tag=t?.tag??NaN,this.zIndex=t?.zIndex??0}static*extractBBoxes(t,n){for(let s of t)if(!n||s.visible&&!s.transitionOut){let r=s.getBBox();r&&(yield r)}}get datum(){return this._datum??this.parentNode?.datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this._layerManager}get dirty(){return this._dirty}preRender(){this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1;for(let t of this.children()){let n=t.preRender();this.childNodeCounts.groups+=n.groups,this.childNodeCounts.nonGroups+=n.nonGroups}return this.childNodeCounts}render(t){let{stats:n}=t;if(this._dirty=0,t.debugNodeSearch){let s=this.name??this.id;t.debugNodeSearch.some(r=>typeof r=="string"?r===s:r.test(s))&&(t.debugNodes[this.name??this.id]=this)}n&&n.nodesRendered++}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(let n of this.children(!1))n._setLayerManager(t)}sortChildren(t){if(this.dirtyZIndex=!1,!this.childNodes||this.hasVirtualChildren())return;let n=[...this.childNodes].sort(t);this.childNodes.clear();for(let s of n)this.childNodes.add(s)}*traverseUp(t){let n=this;for(t&&(yield n);n=n.parentNode;)yield n}*children(t=!0){if(!this.childNodes)return;let n=[];for(let s of this.childNodes)t&&s.isVirtual?n.push(s.children()):yield s;for(let s of n)yield*s}*virtualChildren(){if(!(!this.childNodes||!this.virtualChildrenCount))for(let t of this.childNodes)t.isVirtual&&(yield t)}hasVirtualChildren(){return this.virtualChildrenCount>0}isLeaf(){return!this.childNodes?.size}isRoot(){return!this.parentNode}append(t){this.childNodes??(this.childNodes=new Set);for(let n of iM(t))n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n._setLayerManager(this.layerManager),n.isVirtual&&this.virtualChildrenCount++;this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3)}appendChild(t){return this.append(t),t}removeChild(t){return this.childNodes?.delete(t)?(delete t.parentNode,t._setLayerManager(),t.isVirtual&&this.virtualChildrenCount--,this.invalidateCachedBBox(),this.dirtyZIndex=!0,this.markDirty(3),!0):!1}remove(){return this.parentNode?.removeChild(this)??!1}clear(){for(let t of this.children(!1))delete t.parentNode,t._setLayerManager();this.childNodes?.clear(),this.invalidateCachedBBox(),this.virtualChildrenCount=0}destroy(){this.parentNode?.removeChild(this)}setProperties(t,n){if(n)for(let s of n)this[s]=t[s];else Object.assign(this,t);return this}containsPoint(t,n){return!1}pickNode(t,n,s=!1){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return;let r=[...this.children()];if(r.length>1e3)for(let o=r.length-1;o>=0;o--){let a=r[o],c=a.containsPoint(t,n)?a.pickNode(t,n):void 0;if(c)return c}else if(r.length)for(let o=r.length-1;o>=0;o--){let a=r[o].pickNode(t,n);if(a)return a}else if(!this.isContainerNode)return this}invalidateCachedBBox(){this.cachedBBox=void 0,this.parentNode?.invalidateCachedBBox()}getBBox(){return this.cachedBBox==null&&(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}markDirty(t=1,n=t){let{_dirty:s}=this,r=s>t||s===t&&t===n;this.cachedBBox==null&&r||(this.invalidateCachedBBox(),this._dirty=Math.max(s,t),this.parentNode?this.parentNode.markDirty(n):this.layerManager&&this.layerManager.markDirty())}markClean(t){let{force:n=!1,recursive:s=!0}=t??{};if(!(this._dirty===0&&!n)){this._dirty=0;for(let r of this.children(!1))(r.isVirtual?s!==!1:s===!0)&&r.markClean({force:n})}}onVisibleChange(){}onZIndexChange(){this.parentNode&&(this.parentNode.dirtyZIndex=!0)}toSVG(){}};return i._nextSerialNumber=0,i})();m([V({redraw:3,changeCb:i=>i.onVisibleChange()})],Iu.prototype,"visible",2);m([V({redraw:1,changeCb:i=>i.onZIndexChange()})],Iu.prototype,"zIndex",2);m([V({redraw:1,changeCb:i=>i.onZIndexChange()})],Iu.prototype,"zIndexSubOrder",2);var rr=Iu,Id=(i,e,t)=>i*(1-t)+e*t,af=i=>{let e=i<0?-1:1,t=Math.abs(i);return t<=.04045?i/12.92:e*((t+.055)/1.055)**2.4},lf=i=>{let e=i<0?-1:1,t=Math.abs(i);return t>.0031308?e*(1.055*t**(1/2.4)-.055):12.92*i},LT=(()=>{let i=class Yt{constructor(t,n,s,r=1){this.r=at(0,t||0,1),this.g=at(0,n||0,1),this.b=at(0,s||0,1),this.a=at(0,r||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!Yt.parseHex(t):t.indexOf("rgb")>=0?!!Yt.stringToRgba(t):!!Yt.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return Yt.fromHexString(t);let n=Yt.nameToHex[t.toLowerCase()];if(n)return Yt.fromHexString(n);if(t.indexOf("rgb")>=0)return Yt.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let s=0;s<t.length;s+=2)n.push(parseInt(`${t[s]}${t[s+1]}`,16));break;case 3:case 4:n=t.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if(n?.length>=3&&n.every(s=>s>=0))return n.length===3&&n.push(255),n}static fromHexString(t){let n=Yt.parseHex(t);if(n){let[s,r,o,a]=n;return new Yt(s/255,r/255,o/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,s=-1;for(let l=0;l<t.length;l++){let c=t[l];if(n===-1&&c==="(")n=l;else if(c===")"){s=l;break}}if(n===-1||s===-1)return;let o=t.substring(n+1,s).split(","),a=[];for(let l=0;l<o.length;l++){let c=o[l],d=parseFloat(c);if(!Number.isFinite(d))return;c.indexOf("%")>=0?(d=at(0,d,100),d/=100):l===3?d=at(0,d,1):(d=at(0,d,255),d/=255),a.push(d)}return a}static fromRgbaString(t){let n=Yt.stringToRgba(t);if(n){if(n.length===3)return new Yt(n[0],n[1],n[2]);if(n.length===4)return new Yt(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new Yt(t[0],t[1],t[2],t[3]);if(t.length===3)return new Yt(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,s,r=1){let o=Yt.HSBtoRGB(t,n,s);return new Yt(o[0],o[1],o[2],r)}static fromHSL(t,n,s,r=1){let o=Yt.HSLtoRGB(t,n,s);return new Yt(o[0],o[1],o[2],r)}static fromOKLCH(t,n,s,r=1){let o=Yt.OKLCHtoRGB(t,n,s);return new Yt(o[0],o[1],o[2],r)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+Yt.padHex(Math.round(this.r*255).toString(16))+Yt.padHex(Math.round(this.g*255).toString(16))+Yt.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=Yt.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*s)/s),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return Yt.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,s){let r=af(t),o=af(n),a=af(s),l=Math.cbrt(.4122214708*r+.5363325363*o+.0514459929*a),c=Math.cbrt(.2119034982*r+.6806995451*o+.1073969566*a),d=Math.cbrt(.0883024619*r+.2817188376*o+.6299787005*a),u=.2104542553*l+.793617785*c-.0040720468*d,h=1.9779984951*l-2.428592205*c+.4505937099*d,p=.0259040371*l+.7827717662*c-.808675766*d,f=Math.atan2(p,h)*180/Math.PI,g=u,y=Math.hypot(h,p),v=f>=0?f:f+360;return[g,y,v]}static OKLCHtoRGB(t,n,s){let r=t,o=n*Math.cos(s*Math.PI/180),a=n*Math.sin(s*Math.PI/180),l=(r+.3963377774*o+.2158037573*a)**3,c=(r-.1055613458*o-.0638541728*a)**3,d=(r-.0894841775*o-1.291485548*a)**3,u=4.0767416621*l-3.3077115913*c+.2309699292*d,h=-1.2684380046*l+2.6097574011*c-.3413193965*d,p=-.0041960863*l-.7034186147*c+1.707614701*d,f=lf(u),g=lf(h),y=lf(p);return[f,g,y]}static RGBtoHSL(t,n,s){let r=Math.min(t,n,s),o=Math.max(t,n,s),a=(o+r)/2,l,c;if(o===r)l=0,c=0;else{let d=o-r;c=a>.5?d/(2-o-r):d/(o+r),o===t?l=(n-s)/d+(n<s?6:0):o===n?l=(s-t)/d+2:l=(t-n)/d+4,l*=60}return[l,c,a]}static HSLtoRGB(t,n,s){if(t=(t%360+360)%360,n===0)return[s,s,s];let r=s<.5?s*(1+n):s+n-s*n,o=2*s-r;function a(u){return u<0&&(u+=1),u>1&&(u-=1),u<.16666666666666666?o+(r-o)*6*u:u<.5?r:u<.6666666666666666?o+(r-o)*(.6666666666666666-u)*6:o}let l=a(t/360+1/3),c=a(t/360),d=a(t/360-1/3);return[l,c,d]}static RGBtoHSB(t,n,s){let r=Math.min(t,n,s),o=Math.max(t,n,s),a=o===0?0:(o-r)/o,l=0;if(r!==o){let c=o-r,d=(o-t)/c,u=(o-n)/c,h=(o-s)/c;t===o?l=h-u:n===o?l=2+d-h:l=4+u-d,l/=6,l<0&&(l=l+1)}return[l*360,a,o]}static HSBtoRGB(t,n,s){t=(t%360+360)%360/360;let r=0,o=0,a=0;if(n===0)r=o=a=s;else{let l=(t-Math.floor(t))*6,c=l-Math.floor(l),d=s*(1-n),u=s*(1-n*c),h=s*(1-n*(1-c));switch(l>>0){case 0:r=s,o=h,a=d;break;case 1:r=u,o=s,a=d;break;case 2:r=d,o=s,a=h;break;case 3:r=d,o=u,a=s;break;case 4:r=h,o=d,a=s;break;case 5:r=s,o=d,a=u;break}}return[r,o,a]}static mix(t,n,s){return new Yt(Id(t.r,n.r,s),Id(t.g,n.g,s),Id(t.b,n.b,s),Id(t.a,n.a,s))}};return i.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},i})(),Vn=LT;function lM(i,e){return t=>Number(i)*(1-t)+Number(e)*t}function cM(i,e){if(typeof i=="string")try{i=Vn.fromString(i)}catch{i=Vn.fromArray([0,0,0])}if(typeof e=="string")try{e=Vn.fromString(e)}catch{e=Vn.fromArray([0,0,0])}return t=>Vn.mix(i,e,t).toRgbaString()}var $d=Symbol("BREAK"),na="__decorator_config";function dM(i,e){Object.getOwnPropertyDescriptor(i,na)==null&&Object.defineProperty(i,na,{value:{}});let t=i[na],n=e.toString();if(typeof t[n]<"u")return t[n];let s=new WeakMap;t[n]={setters:[],getters:[],observers:[],valuesMap:s};let r=Object.getOwnPropertyDescriptor(i,e),o=r?.set,a=r?.get;return Object.defineProperty(i,e,{set:function(d){let{setters:u,observers:h}=t[n],p;u.some(f=>f.length>2)&&(p=a?a.call(this):s.get(this));for(let f of u)if(d=f(this,e,d,p),d===$d)return;o?o.call(this,d):s.set(this,d);for(let f of h)f(this,d,p)},get:function(){let d=a?a.call(this):s.get(this);for(let u of t[n].getters)if(d=u(this,e,d),d===$d)return;return d},enumerable:!0,configurable:!1}),t[n]}function vs(i,e,t){return(n,s)=>{let r=dM(n,s);r.setters.push(i),e&&r.getters.unshift(e),t&&Object.assign(r,t)}}function NT(i){return(e,t)=>{dM(e,t).observers.push(i)}}function Su(i){return typeof i<"u"&&na in i}function sa(i){let e=new Set;for(;Su(i);)e.add(i?.[na]),i=Object.getPrototypeOf(i);return Array.from(e).flatMap(t=>Object.keys(t))}function kT(i){return sa(i).reduce((e,t)=>(e[t]=i[t]??null,e),{})}function RT(i,e){let t=e.toString();for(;Su(i);){let n=i[na];if(Object.hasOwn(n,t))return n[t];i=Object.getPrototypeOf(i)}}function ua(i){return i!=null}function qt(i){return Array.isArray(i)}function Cm(i){return typeof i=="boolean"}function cc(i){return i instanceof Date}function dc(i){return cc(i)&&!isNaN(Number(i))}function uM(i){return i instanceof RegExp}function Ms(i){return typeof i=="function"}function hi(i){return typeof i=="object"&&i!==null&&!qt(i)}function OT(i){return qt(i)||Di(i)}function Di(i){return typeof i=="object"&&i!==null&&Object.getPrototypeOf(i)===Object.prototype}function Mi(i){return typeof i=="string"}function Oi(i){return typeof i=="number"}function It(i){return Number.isFinite(i)}function hM(i){return typeof window<"u"&&i instanceof HTMLElement}function PT(i,e){return Mi(e)&&Object.keys(i).includes(e)}function pM(i,e){return Object.values(i).includes(e)}function fM(i){return typeof i=="symbol"}function mM(i,e){return i.type!==e}function gM(i,e,t){for(let n in e)if(!(n in i))return!1;for(let n in i)if(!(n in e)||!t(i[n],e[n]))return!1;return!0}function jT(...i){return xt(...i.reverse())}function xt(...i){let e={};for(let t of i){if(!hi(t))continue;let n=Su(t)?sa(t):Object.keys(t);for(let s of n)Di(e[s])&&Di(t[s])?e[s]=xt(e[s],t[s]):e[s]??(e[s]=t[s])}return e}function Kd(i,...e){return e&&qt(i)?i.map(t=>xt(t,...e)):i}function _m(i,e){return Object.entries(i).reduce((t,[n,s])=>(t[n]=e(s,n,i),t),{})}function zf(i,e){let t=S({},i);for(let n of e)delete t[n];return t}function Em(i,e){return(qt(e)?e:e.split(".")).reduce((n,s)=>n[s],i)}var Tm=new Set(["__proto__","constructor","prototype"]);function Lm(i,e,t){let n=qt(e)?e.slice():e.split("."),s=n.pop();if(n.some(o=>Tm.has(o)))return;let r=n.reduce((o,a)=>o[a],i);return r[s]=t,r[s]}function Kr(i,e,t){if(t===void 0)return e;for(let n of i){let s=t[n];s!==void 0&&(e[n]=s)}return e}var Nm={};xs(Nm,{easeIn:()=>FT,easeInOut:()=>zT,easeInOutQuad:()=>UT,easeInQuad:()=>BT,easeOut:()=>Zl,easeOutQuad:()=>VT,inverseEaseOut:()=>bM,linear:()=>yM});var yM=i=>i,FT=i=>1-Math.cos(i*Math.PI/2),Zl=i=>Math.sin(i*Math.PI/2),zT=i=>-(Math.cos(i*Math.PI)-1)/2,BT=i=>i*i,VT=i=>1-(1-i)**2,UT=i=>i<.5?2*i*i:1-(-2*i+2)**2/2,bM=i=>2*Math.asin(i)/Math.PI,Xd=.2,Xo=["initial","remove","update","add","trailing","end","none"],$l={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Xd,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Xd,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},vM=(i=>(i.Loop="loop",i.Reverse="reverse",i))(vM||{});function GT(i){return i.every(e=>e instanceof rr)}function Du(i){return GT(i)?{nodes:i,selections:[]}:{nodes:[],selections:i}}function Bf(i,e){return i===e?!0:Array.isArray(i)&&Array.isArray(e)?i.length===e.length&&i.every((t,n)=>Bf(t,e[n])):Wd(i)&&Wd(e)?i.equals(e):Di(i)&&Di(e)?gM(i,e,Bf):!1}var xM=class{constructor(i){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=i.id,this.groupId=i.groupId,this.autoplay=i.autoplay??!0,this.ease=i.ease??yM,this.phase=i.phase;let e=i.duration??$l[this.phase].animationDuration;this.duration=e*i.defaultDuration,this.delay=(i.delay??0)*i.defaultDuration,this.onComplete=i.onComplete,this.onPlay=i.onPlay,this.onStop=i.onStop,this.onUpdate=i.onUpdate,this.interpolate=this.createInterpolator(i.from,i.to),this.from=i.from,i.skip===!0&&(this.onUpdate?.(i.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),i.collapsable!==!1&&(this.duration=this.checkCollapse(i,this.duration))}checkCollapse(i,e){return Bf(i.from,i.to)?0:e}play(i=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,i&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(i){if(this.isComplete)return i;!this.isPlaying&&this.autoplay&&this.play(!0);let e=this.elapsed;if(this.elapsed+=i,this.delay>this.elapsed)return 0;let t=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(t,!1,this);let n=this.delay+this.duration;return this.elapsed>=n?(this.stop(),this.isComplete=!0,this.onComplete?.(this),i-(n-e)):0}get delta(){return this.ease(at(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(i,e){if(typeof e!="object"||Wd(e))return this.interpolateValue(i,e);let t=[];for(let n in e){let s=this.interpolateValue(i[n],e[n]);s!=null&&t.push([n,s])}return n=>{let s={};for(let[r,o]of t)s[r]=o(n);return s}}interpolateValue(i,e){if(!(i==null||e==null)){if(Wd(i))return t=>i[yu](e,t);try{switch(typeof i){case"number":return lM(i,e);case"string":return cM(i,e);case"boolean":if(i===e)return()=>i;break}}catch{}throw new Error(`Unable to interpolate values: ${i}, ${e}`)}}},ui={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function ie(i,e,t,n,s,r,o){let{fromFn:a,toFn:l,applyFn:c=(f,g)=>f.setProperties(g)}=s,{nodes:d,selections:u}=Du(n),h=(f,g)=>{let y,v=0,b=0;for(let D of g){let A=f[v]===D,w={last:b>=g.length-1,lastLive:v>=f.length-1,prev:g[b-1],prevFromProps:y,prevLive:f[v-1],next:g[b+1],nextLive:f[v+(A?1:0)]},C=`${i}_${e}_${D.id}`;t.stopByAnimationId(C);let _="unknown";A?r&&o&&(_=HT(D,D.datum,r,o)):_="removed",D.transitionOut=_==="removed";let M=a(D,D.datum,_,w),{phase:T,start:N,finish:j,delay:B,duration:Z}=M,$=_t(M,["phase","start","finish","delay","duration"]),I=l(D,D.datum,_,w),{phase:Q,start:it,finish:rt,delay:ct,duration:bt}=I,nt=_t(I,["phase","start","finish","delay","duration"]),ht=j==null;t.animate({id:C,groupId:i,phase:T??Q??"update",duration:Z??bt,delay:B??ct,from:$,to:nt,ease:Zl,collapsable:ht,onPlay:()=>{c(D,S(S(S({},N),it),$))},onUpdate(Nt){c(D,Nt)},onStop:()=>{c(D,S(S(S(S(S(S({},N),it),$),nt),j),rt))}}),A&&v++,b++,y=$}},p=0;for(let f of u){let g=f.nodes(),y=g.filter(v=>!f.isGarbage(v));h(y,g),t.animate({id:`${i}_${e}_selection_${p}`,groupId:i,phase:"end",from:0,to:1,ease:Zl,onStop(){f.cleanup()}}),p++}h(d,d)}function $n(i,e,t,n,s,r,o){let{nodes:a,selections:l}=Du(n),{start:c,finish:d,phase:u}=o;t.animate({id:`${i}_${e}`,groupId:i,phase:u??"update",from:s,to:r,ease:Zl,onPlay:()=>{if(c){for(let h of a)h.setProperties(c);for(let h of l)for(let p of h.nodes())p.setProperties(c)}},onUpdate(h){for(let p of a)p.setProperties(h);for(let p of l)for(let f of p.nodes())f.setProperties(h)},onStop:()=>{for(let h of a)h.setProperties(S(S({},r),d));for(let h of l){for(let p of h.nodes())p.setProperties(S(S({},r),d));h.cleanup()}}})}function HT(i,e,t,n){let s=t(i,e);return n.added.has(s)?"added":n.removed.has(s)?"removed":"updated"}var Fe=(i,e)=>{let t=Symbol(String(e));i[t]=void 0,Object.defineProperty(i,e,{get(){return this[t]},set(n){this[t]!==n&&(this[t]=n,this.invalid=!0)},enumerable:!0,configurable:!1})},cr=(()=>{let i=class Vf{constructor(t,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=Vf.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=n}static is(t){return t instanceof Vf}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){let n=this.getDomain(),s=this.getPixelRange(),r=Math.abs(n[1]-n[0])/t+1,o=Math.floor(s),a=Math.min(r,o);return s/Math.max(1,a)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,n){let s=n?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let r=this.getDomain().map(u=>this.transform(u)),[o,a]=r,{range:l}=this,[c,d]=l;if(t=this.transform(t),s==="clamped"){let[u,h]=xi(r.map(Number));if(Number(t)<u)return c;if(Number(t)>h)return d}return o===a?(c+d)/2:t===o?c:t===a?d:c+(Number(t)-Number(o))/(Number(a)-Number(o))*(d-c)}invert(t){this.refresh();let n=this.getDomain().map(p=>this.transform(p)),[s,r]=n,{range:o}=this,[a,l]=o,c=a>l,d=c?l:a,u=c?a:l,h;return t<d?c?r:s:t>u?c?s:r:(a===l?h=this.toDomain((Number(s)+Number(r))/2):h=this.toDomain(Number(s)+(t-a)/(l-a)*(Number(r)-Number(s))),this.transformInvert(h))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&R.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let[t,n]=this.range;return Math.abs(n-t)}};return i.defaultTickCount=5,i.defaultMaxTickCount=6,i})();m([Fe],cr.prototype,"domain",2);m([Fe],cr.prototype,"range",2);m([Fe],cr.prototype,"nice",2);m([Fe],cr.prototype,"interval",2);m([Fe],cr.prototype,"tickCount",2);m([Fe],cr.prototype,"minTickCount",2);m([Fe],cr.prototype,"maxTickCount",2);var Tt=cr;function Kn(i){if(i.length===0)return null;let e=1/0,t=-1/0;for(let s of i)s instanceof Date&&(s=s.getTime()),typeof s=="number"&&(s<e&&(e=s),s>t&&(t=s));let n=[e,t];return n.every(isFinite)?n:null}function Au(i,e,t){let n=!1;return i.length>2&&(i=Kn(i)??[NaN,NaN]),isNaN(e)||(n||(n=e>i[0]),i=[e,i[1]]),isNaN(t)||(n||(n=t<i[1]),i=[i[0],t]),i[0]>i[1]&&(i=[]),{extent:i,clipped:n}}function tr(i,e){if(i==null||e==null||i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(Array.isArray(i[t])&&Array.isArray(e[t])){if(!tr(i[t],e[t]))return!1}else if(i[t]!==e[t])return!1;return!0}function Qd(i){return typeof i>"u"?[]:Array.isArray(i)?i:[i]}function wu(i){return Array.from(new Set(i))}function km(i,e){return i.reduce((t,n)=>{let s=e(n);return t[s]??(t[s]=[]),t[s].push(n),t},{})}function Uf(i,e,t=0){if(i.length===0)return[];let n=[];for(let s=0;s<e;s++)n.push(i.at((s+t)%i.length));return n}function YT(i,e){let t=new Map;return e.forEach((n,s)=>{t.set(n,s)}),i.sort((n,s)=>{let r=t.get(n)??1/0,o=t.get(s)??1/0;return r-o})}var Sd={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function Rm(i,e=new Date(i.getFullYear(),0,1)){let t=i.getTimezoneOffset()-e.getTimezoneOffset(),n=i.getTime()-e.getTime()+t*6e4,s=36e5*24;return Math.floor(n/s)}function D0(i,e){let n=new Date(i.getFullYear(),0,1).getDay(),s=(e-n+7)%7,r=new Date(i.getFullYear(),0,s+1);return r<=i?Math.floor(Rm(i,r)/7)+1:0}var WT=0,MM=1,A0=4;function IM(i,e=i.getFullYear()){let n=new Date(e,0,1).getDay(),s=(A0-n+7)%7,r=new Date(e,0,s-(A0-MM)+1);return r<=i?Math.floor(Rm(i,r)/7)+1:IM(i,e-1)}function ZT(i){let e=i.getTimezoneOffset(),t=Math.abs(e);return`${e>0?"-":"+"}${Ye(Math.floor(t/60),2,"0")}${Ye(Math.floor(t%60),2,"0")}`}var $T={a:i=>Sd.shortDays[i.getDay()],A:i=>Sd.days[i.getDay()],b:i=>Sd.shortMonths[i.getMonth()],B:i=>Sd.months[i.getMonth()],c:"%x, %X",d:(i,e)=>Ye(i.getDate(),2,e??"0"),e:"%_d",f:(i,e)=>Ye(i.getMilliseconds()*1e3,6,e??"0"),H:(i,e)=>Ye(i.getHours(),2,e??"0"),I:(i,e)=>{let t=i.getHours()%12;return t===0?"12":Ye(t,2,e??"0")},j:(i,e)=>Ye(Rm(i)+1,3,e??"0"),m:(i,e)=>Ye(i.getMonth()+1,2,e??"0"),M:(i,e)=>Ye(i.getMinutes(),2,e??"0"),L:(i,e)=>Ye(i.getMilliseconds(),3,e??"0"),p:i=>i.getHours()<12?"AM":"PM",Q:i=>String(i.getTime()),s:i=>String(Math.floor(i.getTime()/1e3)),S:(i,e)=>Ye(i.getSeconds(),2,e??"0"),u:i=>{let e=i.getDay();return e<1&&(e+=7),String(e%7)},U:(i,e)=>Ye(D0(i,WT),2,e??"0"),V:(i,e)=>Ye(IM(i),2,e??"0"),w:(i,e)=>Ye(i.getDay(),2,e??"0"),W:(i,e)=>Ye(D0(i,MM),2,e??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(i,e)=>Ye(i.getFullYear()%100,2,e??"0"),Y:(i,e)=>Ye(i.getFullYear(),4,e??"0"),Z:i=>ZT(i),"%":()=>"%"},KT={_:" ",0:"0","-":""};function Ye(i,e,t){let n=String(Math.floor(i));return n.length>=e?n:`${t.repeat(e-n.length)}${n}`}function uc(i){let e=[];for(;i.length>0;){let t=i.indexOf("%");if(t!==0){let a=t>0?i.substring(0,t):i;e.push(a)}if(t<0)break;let n=i[t+1],s=KT[n];s!=null&&t++;let r=i[t+1],o=$T[r];if(typeof o=="function")e.push([o,s]);else if(typeof o=="string"){let a=uc(o);e.push([a,s])}else e.push(`${s??""}${r}`);i=i.substring(t+2)}return t=>{let n=typeof t=="number"?new Date(t):t;return e.map(s=>typeof s=="string"?s:s[0](n,s[1])).join("")}}function vi(i){return i instanceof Date?i.getTime():i}function Om(i,e,t){let n=SM(i,e,t),s=uc(n);return r=>s(r)}function SM(i=[],e=i,t=0){let n=1/0;for(let l=1;l<i.length;l++)n=Math.min(n,Math.abs(i[l]-i[l-1]));let s=new Date(e[0]).getFullYear(),o=new Date(e.at(-1)).getFullYear()-s>0,a=isFinite(n)?XT(n,i):QT(i[0]);return JT(Math.max(a-t,0),o,i)}function XT(i,e){return i<Ks?0:i<Ze?1:i<di?2:i<an?3:i<ps?4:i<an*28||i<an*31&&qT(e)?5:i<ca?6:7}function QT(i){return El.floor(i)<i?0:Tl.floor(i)<i?1:Ll.floor(i)<i?2:Pf.floor(i)<i?3:$o.floor(i)<i?Fd.floor(i)<i?4:5:Dm.floor(i)<i?6:7}function qT(i){let e=new Date(i[0]).getMonth();for(let t=1;t<i.length;t++){let n=new Date(i[t]).getMonth();if(e===n)return!0;e=n}return!1}function JT(i,e,t){let n=vi(t[0]),s=vi(t.at(-1)),r=Math.abs(s-n),o=e||i===7,a=r===0,c=[["hour",6*di,14*an,3,"%I %p"],["hour",Ze,6*di,3,"%I:%M"],["second",1e3,6*di,1,":%S"],["ms",0,6*di,0,".%L"],["am/pm",Ze,6*di,3,"%p"]," ",["day",an,ps,4,"%a"],["month",a?0:ps,52*ps,5,"%b %d"],["month",5*ps,10*ca,6,"%B"]," ",["year",o?0:ca,1/0,7,"%Y"]].filter(h=>{if(typeof h=="string")return!0;let[p,f,g,y]=h;return y>=i&&f<=r&&r<g}).reduce((h,p)=>(typeof p=="string"?h.result.push(p):h.used.has(p[0])||(h.result.push(p),h.used.add(p[0])),h),{result:[],used:new Set}).result,d=c.findIndex(h=>typeof h!="string"),u=c.findLastIndex(h=>typeof h!="string");return c.slice(d,u+1).map(h=>typeof h=="string"?h:h[4]).join("").replaceAll(/\s+/g," ").trim()}var Cu=class DM{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(e){return e instanceof DM}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&R.warnOnce("Expected update to not invalidate scale"))}set domain(e){this.index=new Map,this.invalid=!0,this._domain=[];for(let t of e){let n=vi(t);this.getIndex(n)===void 0&&this.index.set(n,this._domain.push(t)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(e){this.refresh();let t=this.getIndex(e);return t==null?NaN:this.ordinalRange[t]??NaN}invert(e){this.refresh();let t=this.ordinalRange.findIndex(n=>n===e);return this.domain[t]}invertNearest(e){this.refresh();let t=-1,n=1/0,s=this.ordinalRange.findIndex((r,o)=>{if(r===e)return!0;let a=Math.abs(e-r);return a<n&&(n=a,t=o),!1});return this.domain[s]??this.domain[t]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=at(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this._paddingInner=at(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this._paddingOuter=at(0,e,1)}get paddingOuter(){return this._paddingOuter}update(){let e=this._domain.length;if(e===0)return;let[t,n]=this.range,{_paddingInner:s}=this,{_paddingOuter:r,round:o}=this,a=n-t,l;e===1?(s=0,l=a*(1-r*2)):l=a/Math.max(1,e-s+r*2);let c=o?Math.floor(l):l,d=t+(a-c*(e-s))/2,u=c*(1-s);o&&(d=Math.round(d),u=Math.round(u)),this._step=c,this._inset=d,this._bandwidth=u,this._rawBandwidth=l*(1-s),this.ordinalRange=this._domain.map((h,p)=>d+c*p)}getIndex(e){return this.index.get(e instanceof Date?e.getTime():e)}};m([Fe],Cu.prototype,"range",2);m([Fe],Cu.prototype,"round",2);m([Fe],Cu.prototype,"interval",2);var or=Cu,ft=class{set(i){let{className:e=this.constructor.name}=this.constructor;if(typeof i!="object")return R.warn(`unable to set ${e} - expecting a properties object`),this;let t=new Set(Object.keys(i));for(let n of sa(this))if(t.has(n)){let s=i[n],r=this;if(Yn(r[n]))if(r[n]instanceof _u){let o=r[n].reset(s);o!=null?r[n]=o:R.warn(`unable to set [${n}] - expecting a properties array`)}else r[n].set(s);else r[n]=s;t.delete(n)}for(let n of t)R.warn(`unable to set [${n}] in ${e} - property is unknown`);return this}isValid(i){return sa(this).every(e=>{let{optional:t}=RT(this,e),n=t===!0||typeof this[e]<"u";return n||R.warnOnce(`${i??""}[${e}] is required.`),n})}toJson(){return sa(this).reduce((i,e)=>{let t=this[e];return i[e]=Yn(t)?t.toJson():t,i},{})}},_u=class AM extends Array{constructor(e,...t){super(t.length);let s=(r=>!!r?.prototype?.constructor?.name)(e)?r=>new e().set(r):e;Object.defineProperty(this,"itemFactory",{value:s,enumerable:!1,configurable:!1}),this.set(t)}set(e){if(qt(e)){this.length=e.length;for(let t=0;t<e.length;t++)this[t]=this.itemFactory(e[t])}return this}reset(e){if(Array.isArray(e))return new AM(this.itemFactory,...e)}toJson(){return this.map(e=>e?.toJson?.()??e)}};function Yn(i){return i instanceof ft||i instanceof _u}function x(i,e={}){let{optional:t=!1,property:n}=e;return vs((s,r,o)=>{let a=E(S({},e),{target:s,property:r});if(t&&typeof o>"u"||i(o,a))return Yn(s[r])&&!Yn(o)?(s[r].set(o),s[r]):o;let l=n??String(r).replace(/^_*/,""),c=s.constructor.className??s.constructor.name.replace(/Properties$/,""),d=jl(o),u=50;if(d!=null&&d.length>u){let h=d.length-u;d=d.slice(0,u)+`... (+${h} characters)`}return R.warn(`Property [${l}] of [${c}] cannot be set to [${d}]${i.message?`; expecting ${hc(i,a)}`:""}, ignoring.`),$d},void 0,{optional:t})}var un=(...i)=>{let e=[];return jt((t,n)=>(e.length=0,i.every(s=>{let r=s(t,n);return r||e.push(hc(s,n)),r})),()=>e.filter(Boolean).join(" AND "))},po=(...i)=>jt((e,t)=>i.some(n=>n(e,t)),e=>i.map(cL(e)).filter(Boolean).join(" OR ")),Y=OM(jt((i,e)=>Yn(i)||hi(i)&&Yn(e.target[e.property]),"a properties object")),wM=OM(jt(i=>hi(i),"an object")),et=jt(Cm,"a boolean"),wi=jt(Ms,"a function"),P=jt(Mi,"a string"),Gt=uL(jt(It,"a number")),CM=jt(i=>Oi(i)&&!isNaN(i),"a real number"),Eu=jt(i=>Oi(i)&&isNaN(i),"NaN"),F=Gt.restrict({min:0}),At=Gt.restrict({min:0,max:1}),dr=Gt.restrict({min:-360,max:360}),xa=po(Gt,Eu),Ma=dL(jt(qt,"an array")),Is=(i,e)=>jt((t,n)=>qt(t)&&t.every(s=>i(s,n)),t=>{let n=hc(Ma,t)??"";return e?`${n} of ${e}`:n}),qd=i=>It(i)||dc(i),Ia=i=>jt((e,t)=>!qd(e)||!qd(t.target[i])||e<t.target[i],`to be less than ${i}`),Sa=i=>jt((e,t)=>!qd(e)||!qd(t.target[i])||e>t.target[i],`to be greater than ${i}`),Pm=jt(dc,"Date object"),jm=po(Pm,F),_M="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",Lt=jt(i=>Mi(i)&&Vn.validColorString(i),`color String. ${_M}`),hn=jt(Is(Lt),`color strings. ${_M}`),tL=Is(et,"boolean values"),Tu=Is(Gt,"numbers"),EM=Is(P,"strings"),eL=jt(Is(Pm),"Date objects"),TM=jt(Is(Y),"objects"),iL=Ft(["butt","round","square"],"a line cap"),nL=Ft(["round","bevel","miter"],"a line join"),sL=Ft(["solid","dashed","dotted"],"a line style"),Ss=jt(Is(F),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),Fm=Ft(["top","right","bottom","left"],"a position"),ur=Ft(["normal","italic","oblique"],"a font style"),hr=po(Ft(["normal","bold","bolder","lighter"],"a font weight"),Gt.restrict({min:1,max:1e3})),Lu=Ft(["never","always","hyphenate","on-space"],"a text wrap strategy"),LM=Ft(["left","center","right"],"a text align"),rL=Ft(["top","middle","bottom"],"a vertical align"),oL=Ft(["ellipsis","hide"],"an overflow strategy"),NM=Ft(["horizontal","vertical"],"a direction"),aL=Ft(["inside","outside"],"a placement"),Nu=po(Ft(["exact","nearest"],"interaction range"),Gt),zm=Ft(["top","bottom","left","right"]);function Ft(i,e="a"){return jt((t,n)=>{let s=i.find(r=>{let o=typeof r=="string"?r:r.value;return t===o});if(s==null)return!1;if(typeof s!="string"&&(s.deprecated===!0||s.deprecatedTo!=null)){let r=[`Property [%s] with value '${s.value}' is deprecated.`];s.deprecatedTo&&r.push(`Use ${s.deprecatedTo} instead.`),R.warnOnce(r.join(" "),n.property)}return!0},`${e} keyword such as ${lL(i)}`)}var kM=po(un(Gt.restrict({min:1}),Ia("maxSpacing")),Eu),RM=po(un(Gt.restrict({min:1}),Sa("minSpacing")),Eu);function jt(i,e){return i.message=e,i}function lL(i){let e=i.filter(n=>typeof n=="string"||n.undocumented!==!0).map(n=>`'${typeof n=="string"?n:n.value}'`);if(e.length===1)return e[0];let t=e.pop();return`${e.join(", ")} or ${t}`}function hc(i,e){return Ms(i.message)?i.message(e):i.message}function cL(i){return e=>hc(e,i)}function dL(i){return Object.assign(i,{restrict({length:e,minLength:t}={}){let n="an array";return Oi(t)&&t>0?n="a non-empty array":Oi(e)&&(n=`an array of length ${e}`),jt(s=>qt(s)&&(Oi(e)?s.length===e:!0)&&(Oi(t)?s.length>=t:!0),n)}})}function uL(i){return Object.assign(i,{restrict({min:e,max:t}={}){let n=["a number"],s=Oi(e),r=Oi(t);return s&&r?n.push(`between ${e} and ${t} inclusive`):s?n.push(`greater than or equal to ${e}`):r&&n.push(`less than or equal to ${t}`),jt(o=>It(o)&&(s?o>=e:!0)&&(r?o<=t:!0),n.join(" "))}})}function OM(i){return Object.assign(i,{restrict(e){return jt(t=>t instanceof e,t=>hc(i,t)??`an instance of ${e.name}`)}})}function jl(i){if(typeof i=="number"){if(isNaN(i))return"NaN";if(i===1/0)return"Infinity";if(i===-1/0)return"-Infinity"}return JSON.stringify(i)}var Bm=(i=>(i.X="x",i.Y="y",i))(Bm||{}),Vm=class{constructor(){this.moduleMap=new Map}*modules(){for(let i of this.moduleMap.values())yield i.moduleInstance}addModule(i,e){if(this.moduleMap.has(i.optionsKey))throw new Error(`AG Charts - module already initialised: ${i.optionsKey}`);this.moduleMap.set(i.optionsKey,{module:i,moduleInstance:e(i)})}removeModule(i){let e=Mi(i)?i:i.optionsKey;this.moduleMap.get(e)?.moduleInstance.destroy(),this.moduleMap.delete(e)}getModule(i){return this.moduleMap.get(Mi(i)?i:i.optionsKey)?.moduleInstance}isEnabled(i){return this.moduleMap.has(Mi(i)?i:i.optionsKey)}mapModules(i){return Array.from(this.moduleMap.values(),(e,t)=>i(e.moduleInstance,t))}destroy(){for(let i of this.moduleMap.keys())this.moduleMap.get(i)?.moduleInstance.destroy();this.moduleMap.clear()}},PM={};xs(PM,{resetMotion:()=>Me});function Me(i,e){let{nodes:t,selections:n}=Du(i);for(let s of n){for(let r of s.nodes()){let o=e(r,r.datum);r.setProperties(o)}s.cleanup()}for(let s of t){let r=e(s,s.datum);s.setProperties(r)}}function jM(i){let e,t,n=pL.exec(i);n&&([,e,i,t]=n);let s=hL.exec(i);if(!s)throw new Error(`The number formatter is invalid: ${i}`);let[,r,o,a,l,c,d,u,h,p,f]=s;return{fill:r,align:o,sign:a,symbol:l,zero:c,width:parseInt(d),comma:u,precision:parseInt(h),trim:!!p,type:f,prefix:e,suffix:t}}function FM(i){let e=typeof i=="string"?jM(i):i,{fill:t,align:n,sign:s="-",symbol:r,zero:o,width:a,comma:l,type:c,prefix:d="",suffix:u="",precision:h}=e,{trim:p}=e,f=h==null||isNaN(h),g;if(!c)g=en.g,p=!0;else if(c in en&&c in ea)g=f?ea[c]:en[c];else if(c in en)g=en[c];else if(c in ea)g=ea[c];else throw new Error(`The number formatter type is invalid: ${c}`);let y;return h==null||f?y=c?6:12:y=h,v=>{let b=g(v,y);return p&&(b=gL(b)),l&&(b=yL(b,l)),b=vL(v,b,s),r&&r!=="#"&&(b=`${r}${b}`),r==="#"&&c==="x"&&(b=`0x${b}`),c==="s"&&(b=`${b}${bL(v)}`),(c==="%"||c==="p")&&(b=`${b}%`),a!=null&&!isNaN(a)&&(b=xL(b,a,t??o,n)),b=`${d}${b}${u}`,b}}var hL=/^(?:(.)?([<>=^]))?([+\-( ])?([$€£¥₣₹#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,pL=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,ea={b:i=>Dd(i).toString(2),c:i=>String.fromCharCode(i),d:i=>Math.round(Math.abs(i)).toFixed(0),o:i=>Dd(i).toString(8),x:i=>Dd(i).toString(16),X:i=>ea.x(i).toUpperCase(),n:i=>ea.d(i),"%":i=>`${Dd(i*100).toFixed(0)}`},en={e:(i,e)=>Math.abs(i).toExponential(e),E:(i,e)=>en.e(i,e).toUpperCase(),f:(i,e)=>Math.abs(i).toFixed(e),F:(i,e)=>en.f(i,e).toUpperCase(),g:(i,e)=>{if(i===0)return"0";let t=Math.abs(i),n=Math.floor(Math.log10(t));return n>=-4&&n<e?t.toFixed(e-1-n):t.toExponential(e-1)},G:(i,e)=>en.g(i,e).toUpperCase(),n:(i,e)=>en.g(i,e),p:(i,e)=>en.r(i*100,e),r:(i,e)=>{if(i===0)return"0";let t=Math.abs(i),s=Math.floor(Math.log10(t))-(e-1);if(s<=0)return t.toFixed(-s);let r=10**s;return(Math.round(t/r)*r).toFixed()},s:(i,e)=>{let t=VM(i);return en.r(i/10**t,e)},"%":(i,e)=>en.f(i*100,e)},zM=-24,BM=24,fL={[zM]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[BM]:"Y"},mL="\u2212";function Dd(i){return Math.floor(Math.abs(i))}function gL(i){return i.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function yL(i,e){let t=i.indexOf(".");t<0&&(t=i.length);let n=i.substring(0,t).split(""),s=i.substring(t);for(let r=n.length-3;r>0;r-=3)n.splice(r,0,e);return`${n.join("")}${s}`}function bL(i){return fL[VM(i)]}function VM(i){return at(zM,i?Math.floor(Math.log10(Math.abs(i))/3)*3:0,BM)}function vL(i,e,t=""){if(t==="(")return i>=0?e:`(${e})`;let n=t==="+"?"+":"";return`${i>=0?n:mL}${e}`}function xL(i,e,t=" ",n=">"){let s=i;if(n===">"||!n)s=s.padStart(e,t);else if(n==="<")s=s.padEnd(e,t);else if(n==="^"){let r=Math.max(0,e-s.length),o=Math.ceil(r/2),a=Math.floor(r/2);s=s.padStart(o+s.length,t),s=s.padEnd(a+s.length,t)}return s}var ee=(i,e,t)=>({duration:e*t,timeInterval:i,step:t}),Nl=[ee(El,Ks,1),ee(El,Ks,5),ee(El,Ks,15),ee(El,Ks,30),ee(Tl,Ze,1),ee(Tl,Ze,5),ee(Tl,Ze,15),ee(Tl,Ze,30),ee(Ll,di,1),ee(Ll,di,3),ee(Ll,di,6),ee(Ll,di,12),ee(Pf,an,1),ee(Pf,an,2),ee(Fd,ps,1),ee(Fd,ps,2),ee(Fd,ps,3),ee($o,Dl,1),ee($o,Dl,2),ee($o,Dl,3),ee($o,Dl,4),ee($o,Dl,6),ee(Dm,ca,1)],UM=[1,2,5,10];function w0(i,e){return Math.abs(Math.round(i)-i)<e}function ku(i,e,t,n,s){if(t<2)return[i,e];let r=ha(i,e,t,n,s);return Number.isFinite(r)?(w0(i/r,1e-12)||(i=Math.ceil(i/r)*r),w0(e/r,1e-12)||(e=Math.floor(e/r)*r),Ru(i,e,r)):[]}function C0(i,e,t,n,s,r){let o=r??Math.abs(e-i)/Math.max(t,1),a=0;for(let h of Nl){if(o<=h.duration)break;a++}if(a===0){let h=Math.max(ha(i,e,t,n,s),1);return KE.every(h)}else if(a===Nl.length){let h=r==null?ha(i/ca,e/ca,t,n,s):1;return Dm.every(h)}let l=Nl[a-1],c=Nl[a],{timeInterval:d,step:u}=o-l.duration<c.duration-o?l:c;return d.every(u)}function ha(i,e,t,n=0,s=1/0){if(i===e)return at(1,n,s);if(t<1)return NaN;let r=Math.abs(e-i),o=10**Math.floor(Math.log10(r/t)),a=NaN,l=1/0,c=!1;for(let d of UM){let u=Math.ceil(r/(d*o)),h=u>=n&&u<=s;if(c&&!h)continue;let p=Math.abs(u-t);(l>p||c!==h)&&(c||(c=h),l=p,a=d)}return a*o}function _0(i){for(let e=i.length-1;e>=0;e-=1)if(i[e]!=="0")return e+1;return 0}function GM(i,e){let t=jM(e??",f");(t.precision==null||isNaN(t.precision))&&(!t.type||"eEFgGnprs".includes(t.type)?t.precision=Math.max(...i.map(s=>{if(!Number.isFinite(s))return 0;let[r,o]=s.toExponential((t.type?6:12)-1).split(/\.|e/g);return(r!=="1"&&r!=="-1"?1:0)+_0(o)+1})):"f%".includes(t.type)&&(t.precision=Math.max(...i.map(s=>{if(!Number.isFinite(s)||s===0)return 0;let r=Math.floor(Math.log10(Math.abs(s))),o=t.type?6:12,a=s.toExponential(o-1).split(/\.|e/g)[1],l=_0(a);return Math.max(0,l-r)}))));let n=FM(t);return s=>n(Number(s))}function Ru(i,e,t){if(!Number.isFinite(t)||t<=0)return[];let n=10**ac(t),s=Math.min(i,e),r=Math.max(i,e),o=[];for(let a=0;;a+=1){let l=Math.round((s+t*a)*n)/n;if(l<=r)o.push(l);else break}return o}function Kl(i,e){return i>=e?(R.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function ML(i,e){let t=Math.abs(e-i),n=10**Math.floor(Math.log10(t)),s=1/0,r=[i,e];for(let o of UM){let a=o*n,l=Math.floor(i/a)*a,c=Math.ceil(e/a)*a,d=1-t/Math.abs(c-l);s>d&&(s=d,r=[l,c])}return r}function IL(i,e,t,n,s){s=Math.max(s,i/(n+1)),isNaN(e)&&(e=s),isNaN(t)&&(t=i),e>t&&(e===s?e=t:t=e);let r=at(1,Math.floor(i/e),Math.min(Math.floor(i),100)),o=Math.min(r,Math.ceil(i/t)),a=at(o,n,r);return{minTickCount:o,maxTickCount:r,tickCount:a}}var HM=class Gf extends Tt{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=I0,this.basePow=I0,this.log=e=>Math.min(...this.domain)>=0?this.baseLog(e):-this.baseLog(-e),this.pow=e=>Math.min(...this.domain)>=0?this.basePow(e):-this.basePow(-e),this.defaultClampMode="clamped"}toDomain(e){return e}transform(e){return Math.min(...this.domain)>=0?Math.log(e):-Math.log(-e)}transformInvert(e){return Math.min(...this.domain)>=0?Math.exp(e):-Math.exp(-e)}refresh(){this.base<=0&&(this.base=0,R.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=Gf.getBaseLogMethod(this.base),this.basePow=Gf.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[e,t]=this.domain,n=e>t?Math.ceil:Math.floor,s=e>t?Math.floor:Math.ceil,r=this.pow(n(this.log(e))),o=this.pow(s(this.log(t)));this.niceDomain=[r,o]}ticks(){let e=this.tickCount??10;if(!this.domain||this.domain.length<2||e<1)return[];this.refresh();let t=this.base,[n,s]=this.getDomain(),r=Math.min(n,s),o=Math.max(n,s),a=this.log(r),l=this.log(o);if(this.interval){let g=b=>b>=r&&b<=o,y=Math.min(Math.abs(this.interval),Math.abs(l-a)),v=Ru(a,l,y).map(this.pow).filter(g);if(!Kl(v.length,this.getPixelRange()))return v}let c=t%1===0,d=l-a>=e;if(!c||d)return ku(a,l,Math.min(l-a,e)).map(this.pow);let u=[],h=r>0;a=Math.floor(a)-1,l=Math.round(l)+1;let p=da(this.range)/e,f=1/0;for(let g=a;g<=l;g++){let y=this.convert(this.pow(g+1));for(let v=1;v<t;v++){let b=h?v:t-v+1,M=this.pow(g)*b,I=this.convert(M),D=Math.abs(f-I),A=Math.abs(I-y),w=D>=p&&A>=p;M>=r&&M<=o&&(v===1||w||u.length===0)&&(u.push(M),f=I)}}return u}tickFormat({count:e,ticks:t,specifier:n}){return e!==1/0&&t==null&&this.ticks(),n??(n=this.base===10?".0e":","),Mi(n)?FM(n):n}static getBaseLogMethod(e){switch(e){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:return t=>Math.log(t)/Math.log(e)}}static getBasePowerMethod(e){switch(e){case 10:return t=>t>=0?10**t:1/10**-t;case Math.E:return Math.exp;default:return t=>e**t}}};m([Fe],HM.prototype,"base",2);var Um=HM,Gm=class zd extends Tt{constructor(){super([],[0,1]),this.type="time"}toDomain(e){return new Date(e)}convert(e,t){return super.convert(new Date(e),t)}invert(e){return new Date(super.invert(e))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let{interval:e,nice:t,tickCount:n,minTickCount:s,maxTickCount:r}=this,[o,a]=xi(this.getDomain().map(vi));return e!=null?zd.getTicksForInterval({start:o,stop:a,interval:e,availableRange:this.getPixelRange()})??zd.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:s,maxTickCount:r}):t&&n===2?this.niceDomain:t&&n===1?this.niceDomain.slice(0,1):zd.getDefaultTicks({start:o,stop:a,tickCount:n,minTickCount:s,maxTickCount:r})}static getDefaultTicks({start:e,stop:t,tickCount:n,minTickCount:s,maxTickCount:r}){let o=C0(e,t,n,s,r);return o?o.range(new Date(e),new Date(t)):[]}static getTicksForInterval({start:e,stop:t,interval:n,availableRange:s}){if(!n)return[];if(n instanceof ao){let d=n.range(new Date(e),new Date(t));return Kl(d.length,s)?void 0:d}let r=Math.abs(n);if(Kl((t-e)/r,s))return;let o=Nl.findLast(d=>r%d.duration===0);if(o)return o.timeInterval.every(r/(o.duration/o.step)).range(new Date(e),new Date(t));let a=new Date(e),l=new Date(t),c=[];for(;a<=l;)c.push(a),a=new Date(a),a.setMilliseconds(a.getMilliseconds()+r);return c}tickFormat({ticks:e,domain:t,specifier:n,formatOffset:s}){return n==null?Om(e,t,s):uc(n)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[t,n]=this.domain;for(let s=0;s<4;s++){this.updateNiceDomainIteration(t,n);let[r,o]=this.niceDomain;if(vi(t)===vi(r)&&vi(n)===vi(o))break;t=r,n=o}}updateNiceDomainIteration(e,t){let n=Math.min(vi(e),vi(t)),s=Math.max(vi(e),vi(t)),r=e>t,{interval:o}=this,a;if(o instanceof ao)a=o;else{let l=typeof o=="number"?(s-n)/Math.max(o,1):this.tickCount;a=C0(n,s,l,this.minTickCount,this.maxTickCount)}if(a){let l=a.range(new Date(n),new Date(s),!0),c=r?[...l].reverse():l,d=c[0],u=c.at(-1);this.niceDomain=[d,u]}}};function SL(i,e){return i-e}var pc=class YM extends or{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=Tt.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(e){return e instanceof YM}setVisibleRange(e){this.visibleRange=e}set domain(e){if(this.invalid=!0,e.length===0){this._domain=[];return}this._domain=e,this.timestamps=wu(e.map(vi)),this.sortedTimestamps=this.timestamps.slice().sort(SL)}get domain(){return this._domain}ticks(){this.refresh();let[e,t]=[this.timestamps[0],this.timestamps.at(-1)],n=Math.min(e,t),s=Math.max(e,t),r=e>t,o;if(this.interval==null)o=this.getDefaultTicks(this.maxTickCount,r);else{let[l,c]=this.range,d=Math.abs(c-l);o=Gm.getTicksForInterval({start:n,stop:s,interval:this.interval,availableRange:d})??[]}let a=new Set;return o.filter(l=>{let c=this.convert(l);return isNaN(c)||a.has(c)?!1:(a.add(c),!0)})}getDefaultTicks(e,t){let n=[],s=this.timestamps.length,r=Math.ceil(s*(this.visibleRange[1]-this.visibleRange[0])/e),o=Math.floor(r/2);for(let[a,l]of this.timestamps.entries())r>0&&(a+o)%r||(t?n.push(new Date(this.timestamps[s-a-1])):n.push(new Date(l)));return n}convert(e){this.refresh();let t=Number(e);if(t<this.sortedTimestamps[0])return NaN;let n=this.findInterval(t);return this.timestamps[0]!==this.sortedTimestamps[0]&&(n=this.timestamps.length-n-1),this.ordinalRange[n]??NaN}findInterval(e){let{sortedTimestamps:t}=this,n=0,s=t.length-1;for(;n<=s;){let r=Math.floor((n+s)/2);if(t[r]===e)return r;t[r]<e?n=r+1:s=r-1}return n}tickFormat({ticks:e,domain:t,specifier:n}){return n==null?Om(e,t):uc(n)}invert(e){this.refresh();let t=this.ordinalRange.findIndex(n=>e<=n);return this.domain[t]}invertNearest(e){return new Date(super.invertNearest(e))}};m([Fe],pc.prototype,"tickCount",2);m([Fe],pc.prototype,"minTickCount",2);m([Fe],pc.prototype,"maxTickCount",2);m([Fe],pc.prototype,"interval",2);var In=pc;function WM(i,e){return typeof i=="number"&&typeof e=="number"?i-e:typeof i=="string"&&typeof e=="string"?i.localeCompare(e):i==null&&e==null?0:i==null?-1:e==null?1:String(i).localeCompare(String(e))}function E0(i){return typeof i=="function"?i():i}function ZM(i,e,t){for(let n in i){let s=t(E0(i[n]),E0(e[n]));if(s!==0)return s}return 0}function nn(i){let e=1,t=i.visible?1:0,n=i.dirty>0?1:0;for(let s of i.children(!1)){let r=nn(s);e+=r.count,n+=r.dirtyCount,t+=r.visibleCount}return{count:e,visibleCount:t,dirtyCount:n}}var $M=Object.freeze([1,0,0,1,0,0]);function Zo(i,e,t=1e-8){return i===e||Math.abs(e-i)<t}var Hf=class Qo{get e(){return[...this.elements]}constructor(e=[...$M]){this.elements=e}setElements(e){let t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this}get identity(){let e=this.elements;return Zo(e[0],1)&&Zo(e[1],0)&&Zo(e[2],0)&&Zo(e[3],1)&&Zo(e[4],0)&&Zo(e[5],0)}AxB(e,t,n){let s=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],l=e[0]*t[4]+e[2]*t[5]+e[4],c=e[1]*t[4]+e[3]*t[5]+e[5];n=n??e,n[0]=s,n[1]=r,n[2]=o,n[3]=a,n[4]=l,n[5]=c}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(e){let t=new Array(6);return e instanceof Qo?this.AxB(this.elements,e.elements,t):this.AxB(this.elements,[e.a,e.b,e.c,e.d,e.e,e.f],t),new Qo(t)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){let e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=1/(t*r-n*s);return t*=l,n*=l,s*=l,r*=l,new Qo([r,-n,-s,t,s*a-r*o,n*o-t*a])}inverseTo(e){let t=this.elements,n=t[0],s=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=1/(n*o-s*r);return n*=c,s*=c,r*=c,o*=c,e.setElements([o,-s,-r,n,r*l-o*a,s*a-n*l]),this}invertSelf(){let e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],a=e[5],l=1/(t*r-n*s);return t*=l,n*=l,s*=l,r*=l,e[0]=r,e[1]=-n,e[2]=-s,e[3]=t,e[4]=s*a-r*o,e[5]=n*o-t*a,this}transformPoint(e,t){let n=this.elements;return{x:e*n[0]+t*n[2]+n[4],y:e*n[1]+t*n[3]+n[5]}}transformBBox(e,t){let n=this.elements,s=n[0],r=n[1],o=n[2],a=n[3],l=e.width*.5,c=e.height*.5,d=e.x+l,u=e.y+c,h=Math.abs(l*s)+Math.abs(c*o),p=Math.abs(l*r)+Math.abs(c*a);return t??(t=new G(0,0,0,0)),t.x=d*s+u*o+n[4]-h,t.y=d*r+u*a+n[5]-p,t.width=h+h,t.height=p+p,t}toContext(e){if(this.identity)return;let t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}static flyweight(e){return Qo.instance.setElements(e.elements)}static updateTransformMatrix(e,t,n,s,r,o,a){let l=t,c=n,d,u;l===1&&c===1?(d=0,u=0):(d=a?.scalingCenterX??0,u=a?.scalingCenterY??0);let h=s,p=Math.cos(h),f=Math.sin(h),g,y;h===0?(g=0,y=0):(g=a?.rotationCenterX??0,y=a?.rotationCenterY??0);let v=r,b=o,M=d*(1-l)-g,I=u*(1-c)-y;return e.setElements([p*l,f*l,-f*c,p*c,p*M-f*I+g+v,f*M+p*I+y+b]),e}static fromContext(e){let t=e.getTransform();return new Qo([t.a,t.b,t.c,t.d,t.e,t.f])}};Hf.instance=new Hf;var Dn=Hf;function Gs(i){return XM(i.constructor)}var KM=Symbol("isMatrixTransform");function XM(i){return i[KM]===!0}function Hm(i){var e,t;let n=i;if(XM(i))return i;let s=Symbol("matrix_combined_transform");class r extends n{constructor(){super(...arguments),this[t]=new Dn,this._dirtyTransform=!0}markDirtyTransform(){this._dirtyTransform=!0,super.markDirty(3)}updateMatrix(a){}computeTransformMatrix(){this._dirtyTransform&&(this[s].setElements($M),this.updateMatrix(this[s]),this._dirtyTransform=!1)}toParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].transformBBox(a)}toParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].transformPoint(a,l)}fromParent(a){return this.computeTransformMatrix(),this[s].identity?a.clone():this[s].inverse().transformBBox(a)}fromParentPoint(a,l){return this.computeTransformMatrix(),this[s].identity?{x:a,y:l}:this[s].inverse().transformPoint(a,l)}computeBBox(){let a=super.computeBBox();return a&&this.toParent(a)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(a,l,c=!1){return c||({x:a,y:l}=this.fromParentPoint(a,l)),super.pickNode(a,l)}render(a){this._dirtyTransform&&(this.computeTransformMatrix(),a.forceRender||(a=E(S({},a),{forceRender:"dirtyTransform"})));let l=this[s],c=!1;l.identity||(a.ctx.save(),c=!0,l.toContext(a.ctx)),super.render(a),c&&a.ctx.restore()}toSVG(){let a=super.toSVG(),l=this[s];if(l.identity||a==null)return a;let c=document.createElementNS("http://www.w3.org/2000/svg","g");c.append(...a.elements);let[d,u,h,p,f,g]=l.e;return c.setAttribute("transform",`matrix(${d} ${u} ${h} ${p} ${f} ${g})`),{elements:[c],defs:a.defs}}}return e=KM,t=s,r[e]=!0,r}function fo(i){var e;let t=i,n=Symbol("matrix_rotation");class s extends Hm(t){constructor(){super(...arguments),this[e]=new Dn,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0}updateMatrix(o){super.updateMatrix(o);let{rotation:a,rotationCenterX:l,rotationCenterY:c}=this;a!==0&&(Dn.updateTransformMatrix(this[n],1,1,a,0,0,{rotationCenterX:l,rotationCenterY:c}),o.multiplySelf(this[n]))}}return e=n,m([V({type:"transform"})],s.prototype,"rotationCenterX",2),m([V({type:"transform"})],s.prototype,"rotationCenterY",2),m([V({type:"transform"})],s.prototype,"rotation",2),s}function Ym(i){var e;let t=i,n=Symbol("matrix_scale");class s extends Hm(t){constructor(){super(...arguments),this[e]=new Dn,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null}updateMatrix(o){super.updateMatrix(o);let{scalingX:a,scalingY:l,scalingCenterX:c,scalingCenterY:d}=this;a===1&&l===1||(Dn.updateTransformMatrix(this[n],a,l,0,0,0,{scalingCenterX:c,scalingCenterY:d}),o.multiplySelf(this[n]))}}return e=n,m([V({type:"transform"})],s.prototype,"scalingX",2),m([V({type:"transform"})],s.prototype,"scalingY",2),m([V({type:"transform"})],s.prototype,"scalingCenterX",2),m([V({type:"transform"})],s.prototype,"scalingCenterY",2),s}function pr(i){var e;let t=i,n=Symbol("matrix_translation");class s extends Hm(t){constructor(){super(...arguments),this[e]=new Dn,this.translationX=0,this.translationY=0}updateMatrix(o){super.updateMatrix(o);let{translationX:a,translationY:l}=this;a===0&&l===0||(Dn.updateTransformMatrix(this[n],1,1,0,a,l),o.multiplySelf(this[n]))}}return e=n,m([V({type:"transform"})],s.prototype,"translationX",2),m([V({type:"transform"})],s.prototype,"translationY",2),s}var ne=class{static fromCanvas(i,e){let t=[];for(let n of i.traverseUp())Gs(n)&&t.unshift(n);for(let n of t)e=n.fromParent(e);return Gs(i)&&(e=i.fromParent(e)),e}static toCanvas(i,e){e==null?e=i.getBBox():Gs(i)&&(e=i.toParent(e));for(let t of i.traverseUp())Gs(t)&&(e=t.toParent(e));return e}static fromCanvasPoint(i,e,t){let n=[];for(let s of i.traverseUp())Gs(s)&&n.unshift(s);for(let s of n)({x:e,y:t}=s.fromParentPoint(e,t));return Gs(i)&&({x:e,y:t}=i.fromParentPoint(e,t)),{x:e,y:t}}static toCanvasPoint(i,e,t){Gs(i)&&({x:e,y:t}=i.toParentPoint(e,t));for(let n of i.traverseUp())Gs(n)&&({x:e,y:t}=n.toParentPoint(e,t));return{x:e,y:t}}},QM=(()=>{let i=class kl extends rr{constructor(t){super(t),this.opts=t,this.opacity=1,this.isContainerNode=!0,this.zIndexSubOrder=t?.zIndexSubOrder}static is(t){return t instanceof kl}static computeChildrenBBox(t,n=!0){return G.merge(rr.extractBBoxes(t,n))}static compareChildren(t,n){return ZM([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.serialNumber],[n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.serialNumber],WM)}containsPoint(t,n){return!0}computeBBox(){return kl.computeChildrenBBox(this.children())}preRender(){let t=super.preRender();return t.groups+=1,t.nonGroups-=1,t}isDirty(t){let{resized:n}=t,{dirty:s,dirtyZIndex:r}=this,o=s>=2||r||n,a=o,l=!1;for(let c of this.children())if(a||(a=c.layerManager==null&&c.dirty>=1),l||(l=c.layerManager!=null&&c.dirty>=1),a)break;return this.opts?.name&&this._debug?.({name:this.opts.name,group:this,isDirty:o,isChildDirty:a,renderCtx:t}),{isDirty:o,isChildDirty:a,isChildLayerDirty:l}}debugSkip(t){t.stats&&this.opts?.name&&this._debug?.({name:this.opts.name,group:this,result:"skipping",counts:nn(this),renderCtx:t})}render(t,n){if(n)return super.render(t);let{opts:{name:s}={},_debug:r}=this,{isDirty:o,isChildDirty:a,isChildLayerDirty:l}=this.isDirty(t),{ctx:c,stats:d}=t,{forceRender:u}=t;if(!o&&!a&&!l&&!u){this.debugSkip(t),this.markClean({recursive:!1});return}u!=="dirtyTransform"&&(u||(u=this.dirtyZIndex)),c.globalAlpha*=this.opacity,this.dirtyZIndex&&this.sortChildren(kl.compareChildren);let h=this.sortedChildren(),p=this.renderClip(t)??t.clipBBox,f=u!==t.forceRender||p!==t.clipBBox;this.renderChildren(h,f?E(S({},t),{forceRender:u,clipBBox:p}):t),super.render(t),this.clipRect&&c.restore();for(let g of this.virtualChildren())g.markClean({recursive:"virtual"});s&&d&&r?.({name:s,renderCtx:t,result:"rendered",skipped:d.nodesSkipped,counts:nn(this),group:this})}sortedChildren(){let t=this.children();return this.hasVirtualChildren()&&(t=[...t].sort(kl.compareChildren)),t}renderClip(t){if(!this.clipRect)return;let{x:n,y:s,width:r,height:o}=this.clipRect,{ctx:a}=t;return a.save(),a.beginPath(),a.rect(n,s,r,o),a.clip(),this._debug?.(()=>({name:this.opts?.name,clipRect:this.clipRect,ctxTransform:a.getTransform(),renderCtx:t,group:this})),ne.toCanvas(this,this.clipRect)}renderChildren(t,n){let{ctx:s,forceRender:r,stats:o}=n;for(let a of t){if(!a.visible||!this.visible){a.markClean(),o&&(o.nodesSkipped+=nn(a).count);continue}if(!r&&a.dirty===0){o&&(o.nodesSkipped+=nn(a).count);continue}s.save(),a.render(n),s.restore()}}setClipRect(t){this.clipRect=t?ne.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}toSVG(){if(!this.visible)return;let t=[],n=[];for(let s of this.sortedChildren()){let r=s.toSVG();r!=null&&(n.push(...r.elements),r.defs!=null&&t.push(...r.defs))}return{elements:n,defs:t}}};return i.className="Group",i})();m([V({redraw:3,convertor:i=>at(0,i,1)})],QM.prototype,"opacity",2);var ut=QM,DL=class extends Ym(ut){},AL=class extends fo(ut){},fs=class extends pr(ut){},cf=class extends fo(pr(ut)){},wL=2e3,T0=Date.now(),CL=()=>{let i=Date.now()-T0;if(i>wL){let e=(Math.floor(i/100)/10).toFixed(1);R.log(`**** ${e}s since last log message ****`)}T0=Date.now()},Wt={create(...i){return Object.assign((...t)=>{Wt.check(...i)&&(typeof t[0]=="function"&&(t=Qd(t[0]())),CL(),R.log(...t))},{check:()=>Wt.check(...i)})},check(...i){return i.length===0&&i.push(!0),Qd(je("agChartsDebug")).some(t=>i.includes(t))}},Kt=class Zr{constructor(e,t,n=!0){this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Wt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(rr,t)?()=>new t:t}static select(e,t,n=!0){return new Zr(e,t,n)}static selectAll(e,t){let n=[],s=r=>{t(r)&&n.push(r);for(let o of r.children())s(o)};return s(e),n}static selectByClass(e,...t){return Zr.selectAll(e,n=>t.some(s=>n instanceof s))}static selectByTag(e,t){return Zr.selectAll(e,n=>n.tag===t)}createNode(e,t,n){let s=this.nodeFactory(e);return s.datum=e,t?.(s),n==null?this._nodes.push(s):this._nodes.splice(n,0,s),this.parentNode.appendChild(s),s}update(e,t,n){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${e}`),n){let s=new Map(e.map((r,o)=>[n(r),[r,o]]));for(let[r,o]of this._nodesMap.entries())if(s.has(o)){let[a]=s.get(o);r.datum=a,this.garbageBin.delete(r),s.delete(o)}else this.garbageBin.add(r);for(let[r,[o,a]]of s.entries())this._nodesMap.set(this.createNode(o,t,a),r)}else{let s=Math.max(e.length,this.data.length);for(let r=0;r<s;r++)r>=e.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(e[r],t):(this._nodes[r].datum=e[r],this.garbageBin.delete(this._nodes[r]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(e=>this.garbageBin.has(e)?(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}hasGarbage(){return this.garbageBin.size>0}each(e){for(let t of this._nodes.entries())e(t[1],t[1].datum,t[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){let t=this._nodes[e];yield{node:t,datum:t.datum,index:e}}}select(e){return Zr.selectAll(this.parentNode,e)}selectByClass(e){return Zr.selectByClass(this.parentNode,e)}selectByTag(e){return Zr.selectByTag(this.parentNode,e)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}},sn=Math.PI*2;function Pt(i){return i%=sn,i+=sn,i%=sn,i}function qM(i){return i%=sn,i+=sn,i!==sn&&(i%=sn),i}function Xl(i){return i%=sn,i<-Math.PI?i+=sn:i>=Math.PI&&(i-=sn),i}function rn(i,e,t){let n=Pt(i),s=Pt(e),r=Pt(t);return s<r?s<=n&&n<=r:s>r?s<=n||n<=r:!0}function Je(i){return i/180*Math.PI}function _L(i){return i/Math.PI*180}function EL(i,e,t){t&&([i,e]=[e,i]);let n=Pt(i);return(Pt(e)+sn-n)%sn}function fc(i,e){return i=Pt(i),e=Pt(e),e-i+(i>e?2*Math.PI:0)}function TL(i,e,t,n){let s=i+t*Math.cos(n),r=e+t*Math.sin(n);return{x:s,y:r}}var LL=1e-6;function JM(i,e){return fc(i,e)<LL?e:Pt(i-e)+e}function NL(i,e,t=0){let s=Math.abs(e-i)>=2*Math.PI?2*Math.PI:Pt(e-i);return i=JM(i,t),e=i+s,{startAngle:i,endAngle:e}}function Fl(i,e,t,n){let s=i-t,r=e-n;return s*s+r*r}function zl(i,e,t,n,s,r,o){if(t===s&&n===r)return Math.min(o,Fl(i,e,t,n));let a=s-t,l=r-n,c=Math.max(0,Math.min(1,((i-t)*a+(e-n)*l)/(a*a+l*l))),d=t+c*a,u=n+c*l;return Math.min(o,Fl(i,e,d,u))}function tI(i,e,t,n,s,r,o,a,l){a&&([o,r]=[r,o]);let c=Math.atan2(e-n,i-t);if(!rn(c,r,o)){let u=t+Math.cos(r)*s,h=n+Math.sin(r)*s,p=t+Math.cos(r)*s,f=n+Math.sin(r)*s;return Math.min(l,Fl(i,e,u,h),Fl(i,e,p,f))}let d=s-Math.sqrt(Fl(i,e,t,n));return Math.min(l,d*d)}var L0=i=>{let e=Vn.fromString(i),[t,n,s]=Vn.RGBtoOKLCH(e.r,e.g,e.b);return{l:t,c:n,h:s,a:e.a}},df=1e-6,N0=i=>i.c<df||i.l<df||i.l>1-df,kL=(i,e,t)=>{t=at(0,t,1);let n;if(N0(i))n=e.h;else if(N0(e))n=i.h;else{let a=i.h,l=e.h,c=e.h-i.h;c>180?l-=360:c<-180&&(l+=360),n=a*(1-t)+l*t}let s=i.c*(1-t)+e.c*t,r=i.l*(1-t)+e.l*t,o=i.a*(1-t)+e.a*t;return Vn.fromOKLCH(r,s,n,o)},mo=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(L0)}update(){let{domain:i,range:e}=this;i.length<2&&(R.warnOnce("`colorDomain` should have at least 2 values."),i.length===0?i.push(0,1):i.length===1&&i.push(i[0]+1));for(let t=1;t<i.length;t++){let n=i[t-1],s=i[t];if(n>=s){R.warnOnce("`colorDomain` values should be supplied in ascending order."),i.sort((r,o)=>r-o);break}}if(e.length<i.length)for(let t=e.length;t<i.length;t++)e.push(e.length>0?e[0]:"black");this.parsedRange=this.range.map(L0)}convert(i){this.refresh();let{domain:e,range:t,parsedRange:n}=this,s=e[0],r=e.at(-1),o=t[0],a=t[t.length-1];if(i<=s)return o;if(i>=r)return a;let l,c;if(e.length===2){let h=(i-s)/(r-s),p=1/(t.length-1);l=t.length<=2?0:Math.min(Math.floor(h*(t.length-1)),t.length-2),c=(h-l*p)/p}else{for(l=0;l<e.length-2&&!(i<e[l+1]);l++);let h=e[l],p=e[l+1];c=(i-h)/(p-h)}let d=n[l],u=n[l+1];return kL(d,u,c).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&R.warnOnce("Expected update to not invalidate scale"))}};m([Fe],mo.prototype,"domain",2);m([Fe],mo.prototype,"range",2);var Ou=class{constructor(i,e=[],t){this.colorSpace=i,this.stops=e,this.bbox=t,this._cache=void 0}createGradient(i,e){let t=this.bbox??e;if(this._cache!=null&&this._cache.ctx===i&&this._cache.bbox.equals(t))return this._cache.gradient;let{stops:n,colorSpace:s}=this;if(n.length===0)return;if(n.length===1)return n[0].color;let r=this.createCanvasGradient(i,t);if(r==null)return;let o=s==="oklch",a=.05,l=n[0];r.addColorStop(l.offset,l.color);for(let c=1;c<n.length;c+=1){let d=n[c];if(o){let u=new mo;u.domain=[l.offset,d.offset],u.range=[l.color,d.color];for(let h=l.offset+a;h<d.offset;h+=a)r.addColorStop(h,u.convert(h))}r.addColorStop(d.offset,d.color),l=d}return"createPattern"in r&&(r=r.createPattern()),this._cache={ctx:i,bbox:t,gradient:r},r}},Wm=class extends Ou{constructor(i,e,t=0,n){super(i,e,n),this.angle=t}createCanvasGradient(i,e){let{angle:n}=this,s=Pt(Je(n+90)),r=Math.cos(s),o=Math.sin(s),a=e.width,l=e.height,c=e.x+a*.5,d=e.y+l*.5,u=Math.sqrt(l*l+a*a)/2,h=Math.atan2(l,a),p;s<Math.PI/2?p=s:s<Math.PI?p=Math.PI-s:s<1.5*Math.PI?p=s-Math.PI:p=2*Math.PI-s;let f=u*Math.abs(Math.cos(p-h));return i.createLinearGradient(c+r*f,d+o*f,c-r*f,d-o*f)}},RL=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,ji=(()=>{let i=class Fn extends rr{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=Fn.defaultStyles.fill,this.stroke=Fn.defaultStyles.stroke,this.strokeWidth=Fn.defaultStyles.strokeWidth,this.lineDash=Fn.defaultStyles.lineDash,this.lineDashOffset=Fn.defaultStyles.lineDashOffset,this.lineCap=Fn.defaultStyles.lineCap,this.lineJoin=Fn.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=Fn.defaultStyles.opacity,this.fillShadow=Fn.defaultStyles.fillShadow}restoreOwnStyles(){let{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){let{fill:t}=this,n;if(t instanceof Ou)this.gradient=t;else if(t?.startsWith("linear-gradient")&&(n=RL.exec(t))){let s=parseFloat(n[1]),r=[],o=n[2],a=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,l;for(;l=a.exec(o);)r.push(l[0]);this.gradient=new Wm("rgb",r.map((c,d)=>({color:c,offset:d/(r.length-1)})),s)}else this.gradient=void 0}align(t,n){let s=this.layerManager?.canvas?.pixelRatio??1,r=Math.round(t*s)/s;return n==null?r:n===0?0:n<1?Math.ceil(n*s)/s:Math.round((n+t)*s)/s-r}fillStroke(t,n){this.renderFill(t,n),this.renderStroke(t,n)}renderFill(t,n){if(this.fill){let{globalAlpha:s}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,n),t.globalAlpha=s}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,n){n?t.fill(n):t.fill()}applyFill(t){t.fillStyle=this.gradient?.createGradient(t,this.getBBox())??(typeof this.fill=="string"?this.fill:void 0)??"black"}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){let n=this.layerManager?.canvas.pixelRatio??1,s=this.fillShadow;s?.enabled&&(t.shadowColor=s.color,t.shadowOffsetX=s.xOffset*n,t.shadowOffsetY=s.yOffset*n,t.shadowBlur=s.blur*n)}renderStroke(t,n){if(this.stroke&&this.strokeWidth){let{globalAlpha:s}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,n),t.globalAlpha=s}}executeStroke(t,n){n?t.stroke(n):t.stroke()}containsPoint(t,n){return this.isPointInPath(t,n)}};return i.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0},i})();m([V({redraw:2})],ji.prototype,"fillOpacity",2);m([V({redraw:2})],ji.prototype,"strokeOpacity",2);m([V({redraw:2,changeCb:i=>i.onFillChange()})],ji.prototype,"fill",2);m([V({redraw:2})],ji.prototype,"stroke",2);m([V({redraw:2})],ji.prototype,"strokeWidth",2);m([V({redraw:2})],ji.prototype,"lineDash",2);m([V({redraw:2})],ji.prototype,"lineDashOffset",2);m([V({redraw:2})],ji.prototype,"lineCap",2);m([V({redraw:2})],ji.prototype,"lineJoin",2);m([V({redraw:2})],ji.prototype,"miterLimit",2);m([V({redraw:2,convertor:i=>at(0,i,1)})],ji.prototype,"opacity",2);m([V({redraw:2,checkDirtyOnAssignment:!0})],ji.prototype,"fillShadow",2);var Cn=ji,Ii=class extends Cn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(i){this.x1=i,this.x2=i}set y(i){this.y1=i,this.y2=i}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new G(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(i,e){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(i,e):!1}distanceSquared(i,e){let{x1:t,y1:n,x2:s,y2:r}=this;return zl(i,e,t,n,s,r,1/0)}render(i){let{ctx:e,forceRender:t,stats:n,devicePixelRatio:s}=i;if(this.dirty===0&&!t){n&&(n.nodesSkipped+=nn(this).count);return}let{x1:r,y1:o,x2:a,y2:l}=this;if(r===a){let{strokeWidth:c}=this,d=Math.round(r*s)/s+Math.trunc(c*s)%2/(s*2);r=d,a=d}else if(o===l){let{strokeWidth:c}=this,d=Math.round(o*s)/s+Math.trunc(c*s)%2/(s*2);o=d,l=d}e.beginPath(),e.moveTo(r,o),e.lineTo(a,l),this.fillStroke(e),this.fillShadow?.markClean(),super.render(i)}toSVG(){if(!this.visible)return;let i=document.createElementNS("http://www.w3.org/2000/svg","line");return i.setAttribute("x1",String(this.x1)),i.setAttribute("y1",String(this.y1)),i.setAttribute("x2",String(this.x2)),i.setAttribute("y2",String(this.y2)),i.setAttribute("stroke",this.stroke??"none"),i.setAttribute("stroke-opacity",String(this.strokeOpacity)),i.setAttribute("stroke-width",String(this.strokeWidth)),{elements:[i]}}};Ii.className="Line";Ii.defaultStyles=E(S({},Cn.defaultStyles),{fill:void 0,strokeWidth:1});m([V({redraw:3})],Ii.prototype,"x1",2);m([V({redraw:3})],Ii.prototype,"y1",2);m([V({redraw:3})],Ii.prototype,"x2",2);m([V({redraw:3})],Ii.prototype,"y2",2);function OL(i=0,e=0){return new OffscreenCanvas(i,e).getContext("2d")}var Zm=class{constructor(i=5){this.maxCacheSize=i,this.store=new Map}get(i){if(!this.store.has(i))return;let e=this.store.get(i);return this.store.delete(i),this.store.set(i,e),e}has(i){return this.store.has(i)}set(i,e){if(this.store.set(i,e),this.store.size>this.maxCacheSize){let t=this.store.keys(),n=this.store.size-this.maxCacheSize;for(;n>0;){let s=t.next();s.done||this.store.delete(s.value),n--}}return e}clear(){this.store.clear()}},Ds=class{static measureText(i,e){return this.getMeasurer(e).measureText(i)}static measureLines(i,e){return this.getMeasurer(e).measureLines(i)}static getMeasurer(i){let e=typeof i.font=="string"?i.font:ve.toFontString(i.font),t=`${e}-${i.textAlign??"start"}-${i.textBaseline??"alphabetic"}`;return this.instanceMap.get(t)??this.createFontMeasurer(e,i,t)}static createFontMeasurer(i,e,t){let n=OL();n.font=i,n.textAlign=e.textAlign??"start",n.textBaseline=e.textBaseline??"alphabetic";let s=new eI(n,e);return this.instanceMap.set(t,s),s}};Ds.instanceMap=new Zm(10);var eI=class{constructor(i,e){this.ctx=i,this.measureMap=new Zm(100),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline),i.font=typeof e.font=="string"?e.font:ve.toFontString(e.font),this.textMeasurer=new $m(t=>this.cachedCtxMeasureText(t),e.textBaseline??"alphabetic")}textWidth(i,e){return this.textMeasurer.textWidth(i,e)}measureText(i){return this.textMeasurer.measureText(i)}measureLines(i){return this.textMeasurer.measureLines(i)}cachedCtxMeasureText(i){if(!this.measureMap.has(i)){let e=this.ctx.measureText(i);this.measureMap.set(i,{actualBoundingBoxAscent:e.actualBoundingBoxAscent,emHeightAscent:e.emHeightAscent,emHeightDescent:e.emHeightDescent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,alphabeticBaseline:e.alphabeticBaseline,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent,hangingBaseline:e.hangingBaseline,ideographicBaseline:e.ideographicBaseline,width:e.width})}return this.measureMap.get(i)}},ve=(()=>{let i=class{static toFontString({fontSize:e=10,fontStyle:t,fontWeight:n,fontFamily:s,lineHeight:r}){let o="";return t&&(o+=`${t} `),n&&(o+=`${n} `),o+=`${e}px`,r&&(o+=`/${r}px`),o+=` ${s}`,o.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}};return i.EllipsisChar="\u2026",i.defaultLineHeight=1.15,i.lineSplitter=/\r?\n/g,i})(),$m=class{constructor(i,e="alphabetic"){this.measureTextFn=i,this.textBaseline=e,this.charMap=new Map}getMetrics(i){let e=this.measureTextFn(i);return e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),{width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}}getMultilineMetrics(i){let e=0,t=0,n=0,s=0,r=0,o=ve.getVerticalModifier(this.textBaseline),a=[],l=0,c=i.length;for(let d of i){let u=this.measureTextFn(d);u.fontBoundingBoxAscent??(u.fontBoundingBoxAscent=u.emHeightAscent),u.fontBoundingBoxDescent??(u.fontBoundingBoxDescent=u.emHeightDescent),e<u.width&&(e=u.width),s<u.actualBoundingBoxLeft&&(s=u.actualBoundingBoxLeft),l===0?(t+=u.actualBoundingBoxAscent,n+=u.actualBoundingBoxAscent):r+=u.fontBoundingBoxAscent,l===c-1?t+=u.actualBoundingBoxDescent:r+=u.fontBoundingBoxDescent,a.push({text:d,width:u.width,height:u.actualBoundingBoxAscent+u.actualBoundingBoxDescent,lineHeight:u.fontBoundingBoxAscent+u.fontBoundingBoxDescent,offsetTop:u.actualBoundingBoxAscent,offsetLeft:u.actualBoundingBoxLeft}),l++}return t+=r,n+=r*o,{width:e,height:t,offsetTop:n,offsetLeft:s,lineMetrics:a}}textWidth(i,e){if(e){let t=0;for(let n=0;n<i.length;n++)t+=this.textWidth(i.charAt(n));return t}return i.length>1?this.measureTextFn(i).width:this.charMap.get(i)??this.charWidth(i)}measureText(i){return this.getMetrics(i)}measureLines(i){let e=typeof i=="string"?i.split(ve.lineSplitter):i;return this.getMultilineMetrics(e)}charWidth(i){let{width:e}=this.measureTextFn(i);return this.charMap.set(i,e),e}},Fi=class Bd extends Cn{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=Bd.defaultStyles.textAlign,this.textBaseline=Bd.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split(`
`).map(e=>e.trim())??[]}static computeBBox(e,t,n,s){let{offsetTop:r,offsetLeft:o,width:a,height:l}=Ds.measureLines(e,s);return new G(t-o,n-r,a,l)}computeBBox(){let{x:e,y:t,lines:n,textBaseline:s,textAlign:r}=this;return Bd.computeBBox(n,e,t,{font:this,textBaseline:s,textAlign:r})}isPointInPath(e,t){let n=this.getBBox();return n?n.containsPoint(e,t):!1}render(e){let{ctx:t,forceRender:n,stats:s}=e;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=nn(this).count);return}if(!this.lines.length||!this.layerManager){s&&(s.nodesSkipped+=nn(this).count);return}let{fill:r,stroke:o,strokeWidth:a}=this,{pixelRatio:l}=this.layerManager.canvas;if(t.font=ve.toFontString(this),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,r){this.applyFill(t),t.globalAlpha*=this.opacity*this.fillOpacity;let{fillShadow:c}=this;c?.enabled&&(t.shadowColor=c.color,t.shadowOffsetX=c.xOffset*l,t.shadowOffsetY=c.yOffset*l,t.shadowBlur=c.blur*l),this.renderLines((d,u,h)=>t.fillText(d,u,h))}if(o&&a){t.strokeStyle=o,t.lineWidth=a,t.globalAlpha*=this.opacity*this.strokeOpacity;let{lineDash:c,lineDashOffset:d,lineCap:u,lineJoin:h}=this;c&&t.setLineDash(c),d&&(t.lineDashOffset=d),u&&(t.lineCap=u),h&&(t.lineJoin=h),this.renderLines((p,f,g)=>t.strokeText(p,f,g))}super.render(e)}renderLines(e){let{lines:t,x:n,y:s}=this,r=this.lineHeight??ve.getLineHeight(this.fontSize),o=(r-r*t.length)*ve.getVerticalModifier(this.textBaseline);for(let a of t)e(a,n,s+o),o+=r}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}toSVG(){if(!this.visible||!this.text)return;let e=document.createElementNS("http://www.w3.org/2000/svg","text");return e.setAttribute("font-family",this.fontFamily?.split(",")[0]??""),e.setAttribute("font-size",String(this.fontSize)),e.setAttribute("font-style",this.fontStyle??""),e.setAttribute("font-weight",String(this.fontWeight??"")),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",{alphabetic:"alphabetic",top:"top",bottom:"bottom",hanging:"hanging",middle:"middle",ideographic:"ideographic"}[this.textBaseline??"alphabetic"]),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text??"",{elements:[e]}}};Fi.className="Text";Fi.defaultStyles=E(S({},Cn.defaultStyles),{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});m([V({redraw:3})],Fi.prototype,"x",2);m([V({redraw:3})],Fi.prototype,"y",2);m([V({redraw:3,changeCb:i=>i.onTextChange()})],Fi.prototype,"text",2);m([V()],Fi.prototype,"fontStyle",2);m([V()],Fi.prototype,"fontWeight",2);m([V()],Fi.prototype,"fontSize",2);m([V()],Fi.prototype,"fontFamily",2);m([V({redraw:3})],Fi.prototype,"textAlign",2);m([V({redraw:3})],Fi.prototype,"textBaseline",2);m([V({redraw:3})],Fi.prototype,"lineHeight",2);var we=Fi,iI=class extends fo(we){},lo=class extends fo(pr(we)){};function PL(i,e,t,n,s,r){if(i.size===0)return!1;let o=i.x,a=i.y;e!=null&&(o-=(e.x-.5)*i.size,a-=(e.y-.5)*i.size);let l=o;o<t?l=t:o>t+s&&(l=t+s);let c=a;a<n?c=n:a>n+r&&(c=n+r);let d=o-l,u=a-c;return Math.sqrt(d*d+u*u)<=i.size*.5}function nI(i,e,t,n,s){let r=i.x+i.width>e&&i.x<e+n,o=i.y+i.height>t&&i.y<t+s;return r&&o}function jL(i,e,t,n,s){return e+n<i.x+i.width&&e>i.x&&t>i.y&&t+s<i.y+i.height}function FL(i){return i!=null&&typeof i.point=="object"&&typeof i.label=="object"}var zL={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function BL(i,e,t=5){let n=[];i=i.map(s=>s.slice().sort((r,o)=>o.point.size-r.point.size));for(let s=0;s<i.length;s++){let r=n[s]=[],o=i[s];if(o?.length&&o[0].label)for(let a=0,l=o.length;a<l;a++){let c=o[a],{point:d,label:u,marker:h}=c,{text:p,width:f,height:g}=u,y=d.size*.5,v=0,b=0;if(y>0&&c.placement!=null){let C=zL[c.placement];v=(f*.5+y+t)*C.x,b=(g*.5+y+t)*C.y}let M=d.x-f*.5+v-((h?.center.x??.5)-.5)*d.size,I=d.y-g*.5+b-((h?.center.y??.5)-.5)*d.size;!(!e||jL(e,M,I,f,g))||i.some(C=>C.some(_=>PL(_.point,_.marker?.center,M,I,f,g)))||n.some(C=>C.some(_=>nI(_,M,I,f,g)))||r.push({index:a,text:p,x:M,y:I,width:f,height:g,datum:c})}}return n}function VL(i,e=0){let t=[];for(let n=0;n<i.length;n++){let s=i[n],{point:{x:r,y:o},label:{text:a}}=s,{width:l,height:c}=s.label;if(l+=e,c+=e,t.some(d=>nI(d,r,o,l,c)))return!0;t.push({index:n,text:a,x:r,y:o,width:l,height:c,datum:s})}return!1}function sI(i,e){return i.length===e.length&&i.every((t,n)=>Number(t)===Number(e[n]))}var Yf="class-instance";function cn(i,e,t){if(qt(e)){if(!qt(i)||i.length!==e.length||e.some((n,s)=>cn(i[s],n)!=null))return e}else if(Di(e)){if(!Di(i))return e;let n={},s=new Set([...Object.keys(i),...Object.keys(e)]);for(let r of s)if(!(i[r]===e[r]||t?.includes(r)))if(typeof i[r]==typeof e[r]){let o=cn(i[r],e[r]);o!==null&&(n[r]=o)}else n[r]=e[r];return Object.keys(n).length?n:null}else if(i!==e)return e;return null}function Pe(i,e){return qt(i)?i.map(t=>Pe(t,e)):Di(i)?_m(i,(t,n)=>e?.shallow?.includes(n)?Jd(t):Pe(t,e)):i instanceof Map?new Map(Pe(Array.from(i))):Jd(i)}function Jd(i){return qt(i)?[...i]:Di(i)?S({},i):cc(i)?new Date(i):uM(i)?new RegExp(i.source,i.flags):i}function Gn(i,e,t,...n){if(qt(i))e(i,...n),i.forEach((s,r)=>{Gn(s,e,t,...k0(n,r))});else if(Di(i)){e(i,...n);for(let s of Object.keys(i)){if(t?.skip?.includes(s))continue;let r=i[s];(qt(r)||Di(r))&&Gn(r,e,t,...k0(n,s))}}}function ra(i,e,t={}){let{path:n,matcherPath:s=n?.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=t;if(i==null)throw new Error(`AG Charts - target is uninitialised: ${n??"<root>"}`);if(e==null)return i;if(Yn(i))return i.set(e);let o=i,a=uf(i);for(let l in e){if(Tm.has(l))continue;let c=`${s?s+".":""}${l}`;if(r.includes(c))continue;let d=e[l],u=`${n?n+".":""}${l}`,h=o.constructor,p=o[l];try{let f=uf(p),g=uf(d);if(a===Yf&&!(l in i)){R.warn(`unable to set [${u}] in ${h?.name} - property is unknown`);continue}if(f!=null&&g!=null&&g!==f&&(f!==Yf||g!=="object")){R.warn(`unable to set [${u}] in ${h?.name} - can't apply type of [${g}], allowed types are: [${f}]`);continue}Yn(p)?o[l].set(d):g==="object"?(p==null&&(o[l]={}),ra(p??o[l],d,E(S({},t),{path:u,matcherPath:c}))):o[l]=d}catch(f){R.warn(`unable to set [${u}] in [${h?.name}]; nested error is: ${f.message}`)}}return i}function k0(i,e){return i.map(t=>t?.[e])}function uf(i){return i==null?null:hM(i)||cc(i)?"primitive":qt(i)?"array":hi(i)?Di(i)?"object":Yf:Ms(i)?"function":"primitive"}function ue(i,e){let t=qt(i)?i:i.split(".");if(t.length===1){let[n]=t;return vs((s,r,o)=>s[n]=o,s=>s[n],e)}return vs((n,s,r)=>Lm(n,t,r),n=>Em(n,t),e)}function UL(i){return vs((e,t,n)=>e[i]=n)}function ze(i,e){return vs((t,n,s)=>t[i][e??n]=s)}function pi(i){let{newValue:e,oldValue:t,changeValue:n}=i;return vs((s,r,o,a)=>(o!==a&&(a!==void 0&&t?.call(s,a),o!==void 0&&e?.call(s,o),n?.call(s,o,a)),o))}function ti(i){return NT(i)}var hf="color: green",pf="color: grey",GL=(()=>{let i=class bi{constructor(t,n,s){this.defaultState=t,this.states=n,this.enterEach=s,this.debug=Wt.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,hf)}transition(t,n){if(!this.transitionChild(t,n)||this.state===bi.child||this.state===bi.parent)return;let r=this.state,o=this.states[this.state],a=o[t],l=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(a))a=a.find(u=>{if(!u.guard)return!0;let h=u.guard(n);return h||this.debug(`${l} ${u.target} (guarded)`,pf),h});else if(typeof a=="object"&&!(a instanceof bi)&&a.guard&&!a.guard(n)){this.debug(`${l} ${a.target} (guarded)`,pf);return}if(!a){this.debug(`${l} ${this.state}`,pf);return}let c=this.getDestinationState(a),d=c===this.state?void 0:o.onExit;this.debug(`${l} ${c}`,hf),this.state=c,typeof a=="function"?a(n):typeof a=="object"&&!(a instanceof bi)&&a.action?.(n),d?.(),this.enterEach?.(r,c),c!==r&&c!==bi.child&&c!==bi.parent&&this.states[c].onEnter?.(r,n)}transitionAsync(t,n){setTimeout(()=>{this.transition(t,n)},0)}is(t){return this.state===bi.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){return this.state!==bi.child||!this.childState||(this.childState.transition(t,n),!this.childState.is(bi.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,hf),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof bi?(this.childState=t,n=bi.child):typeof t=="object"&&(t.target instanceof bi?(this.childState=t.target,n=bi.child):t.target!=null&&(n=t.target)),n}};return i.child="__child",i.parent="__parent",i})(),mc=GL,Km=class{static wrapText(i,e){return this.wrapLines(i,e).join(`
`)}static wrapLines(i,e){let t=this.textWrap(i,e);return e.overflow==="hide"&&t.some(n=>n.endsWith(ve.EllipsisChar))?[]:t}static appendEllipsis(i){return i.replace(/[.,]{1,5}$/,"")+ve.EllipsisChar}static truncateLine(i,e,t,n){let s=e.textWidth(ve.EllipsisChar),r=0,o=0;for(;o<i.length;o++){let a=e.textWidth(i.charAt(o));if(r+a>t)break;r+=a}if(i.length===o&&(!n||r+s<=t))return n?i+ve.EllipsisChar:i;for(i=i.slice(0,o).trimEnd();i.length&&e.textWidth(i)+s>t;)i=i.slice(0,-1).trimEnd();return i+ve.EllipsisChar}static textWrap(i,e){let t=i.split(ve.lineSplitter),n=Ds.getMeasurer(e);if(e.textWrap==="never")return t.map(a=>this.truncateLine(a.trimEnd(),n,e.maxWidth));let s=[],r=e.textWrap==="hyphenate",o=e.textWrap==null||e.textWrap==="on-space";for(let a of t){if(a=a.trimEnd(),a===""){s.push(a);continue}for(let l=0,c=0,d=0;l<a.length;l++){let u=a.charAt(l);if(c+=n.textWidth(u),u===" "&&(d=l),c>e.maxWidth){if(l===0)break;let h=n.textWidth(a.slice(0,l+1));if(h<=e.maxWidth){c=h;continue}if(d){let g=this.getWordAt(a,d+1),y=n.textWidth(g);if(y<=e.maxWidth){s.push(a.slice(0,d).trimEnd()),a=a.slice(d).trimStart(),l=-1,c=0,d=0;continue}else o&&y>e.maxWidth&&s.push(a.slice(0,d).trimEnd(),this.truncateLine(a.slice(d).trimStart(),n,e.maxWidth,!0))}else o&&s.push(this.truncateLine(a,n,e.maxWidth,!0));if(o){a="";break}let p=r?"-":"",f=a.slice(0,l).trim();for(;f.length&&n.textWidth(f+p)>e.maxWidth;)f=f.slice(0,-1).trimEnd();if(s.push(f+p),!f.length){a="";break}a=a.slice(f.length).trimStart(),l=-1,c=0,d=0}}a&&s.push(a)}return this.avoidOrphans(s,n,e),this.clipLines(s,n,e)}static getWordAt(i,e){let t=i.indexOf(" ",e);return t===-1?i.slice(e):i.slice(e,t)}static clipLines(i,e,t){if(!t.maxHeight)return i;let{height:n,lineMetrics:s}=e.measureLines(i);if(n<=t.maxHeight)return i;for(let r=0,o=0;r<s.length;r++){let{lineHeight:a}=s[r];if(o+=a,o>t.maxHeight){if(t.overflow==="hide")return[];let l=i.slice(0,r||1),c=l.pop();return l.concat(this.truncateLine(c,e,t.maxWidth,!0))}}return i}static avoidOrphans(i,e,t){if(t.avoidOrphans===!1||i.length<2)return;let{length:n}=i,s=i[n-1],r=i[n-2];if(r.length<s.length)return;let o=r.lastIndexOf(" ");if(o===-1||o===r.indexOf(" ")||s.includes(" "))return;let a=r.slice(o+1);e.textWidth(s+a)<=t.maxWidth&&(i[n-2]=r.slice(0,o),i[n-1]=a+" "+s)}},Un={isEnterprise:!1};function Ai(i,e,t){t===void 0||t===""?i?.removeAttribute(e):i?.setAttribute(e,t.toString())}function co(i,e){if(e==null)return;let t;for(t in e)t!=="class"&&Ai(i,t,e[t])}function rI(i,e,t){if(!(i instanceof HTMLElement))return;let n=i.getAttribute(e);if(n===null)return t;let s=typeof{}[e];if(s==="boolean")return n==="true";if(s==="number")return Number(n);if(s==="string")return n}function Ys(i,e,t){i!=null&&(t==null?i.style.removeProperty(e):i.style.setProperty(e,t))}function oI(i,e,t,n){let{top:s,right:r,bottom:o,left:a,width:l,height:c}=n;return a!=null?l!=null?r=t.width-a+l:r!=null&&(l=t.width-a-r):r!=null&&l!=null&&(a=t.width-r-l),s!=null?c!=null?o=t.height-s-c:o!=null&&(c=t.height-o-s):o!=null&&c!=null&&(s=t.height-o-c),l==null?c==null?(l=i,c=e):l=Math.ceil(i*c/e):c==null&&(c=Math.ceil(e*l/i)),a==null&&(r==null?a=Math.floor((t.width-l)/2):a=t.width-r-l),s==null&&(o==null?s=Math.floor((t.height-c)/2):s=t.height-c-o),{x:a,y:s,width:l,height:c}}var Bn="ag-chart-tooltip",aI="ag-chart-dark-tooltip",As={html:"",ariaLabel:""};function HL(i){let e=(t,n,s)=>n===0||s[n-1]!=="."?". ":" ";return i.replace(/<br\s*\/?>/g,e).replace(/<\/p\s+>/g,e).replace(/<\/li\s*>/g,e).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function pa(i,e){if(typeof i=="string")return{html:i,ariaLabel:i};let{content:t=e?.content??"",title:n=e?.title,color:s=e?.color??"white",backgroundColor:r=e?.backgroundColor??"#888"}=i,o=n?`<div class="${Bn}-title"
        style="color: ${s}; background-color: ${r}">${n}</div>`:"",a=n?`${n}: `:"",l=t?`<div class="${Bn}-content">${t}</div>`:"";return{html:`${o}${l}`,ariaLabel:HL(`${a}${t}`)}}var Da=class extends ft{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};m([x(Ft(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left",{value:"sparkline",undocumented:!0}],"a position type"))],Da.prototype,"type",2);m([x(Gt)],Da.prototype,"xOffset",2);m([x(Gt)],Da.prototype,"yOffset",2);var pn=class extends ft{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new Da,this.darkTheme=!1,this.bounds="extended",this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(i){this.element=i.addChild("canvas-overlay",Bn),this.element.classList.add(Bn)}destroy(i){i.removeChild("canvas-overlay",Bn)}isVisible(){return!this.element?.classList.contains(Bn+"-hidden")}show(i,e,t,n,s=!1){let{element:r}=this,o=r?.getBoundingClientRect();if(n!=null&&r!=null)r.innerHTML=n.html;else if(!r?.innerHTML){this.toggle(!1);return}let a=t.position?.type??this.position.type,l=t.position?.xOffset??0,c=t.position?.yOffset??0,d=this.getTooltipBounds({positionType:a,meta:t,yOffset:c,xOffset:l,canvasRect:e}),u={x:i.x-e.x,y:i.y-e.y,width:i.width,height:i.height},h=oI(r.clientWidth,r.clientHeight,u,d),p=u.x,f=u.y,g=u.width-r.clientWidth-1+p,y=u.height-r.clientHeight+f,v=at(p,h.x,g),b=at(f,h.y,y),M=!1;if(o!=null){let w=u.width-o.width-1+p,C=u.height-o.height+f;M=w>g||C>y}let I=v!==h.x||b!==h.y,D=(a==="node"||a==="pointer"||a==="sparkline")&&!I&&!l&&!c,A=t.showArrow??this.showArrow??D;this.updateShowArrow(A),M&&(r.style.transition="none"),r.style.transform=`translate(${Math.round(v)}px, ${Math.round(b)}px)`,M&&(r.style.transition=""),t.enableInteraction?(this.enableInteraction=!0,r.style.pointerEvents="auto",Ai(r,"aria-hidden",void 0)):(this.enableInteraction=!1,r.style.pointerEvents="none",Ai(r,"aria-hidden",!0)),this.delay>0&&!s?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}toggle(i){if(!this.element)return;let{classList:e}=this.element,t=(l,c)=>e.toggle(`${Bn}-${l}`,c),n=this.isVisible(),s=1/0;if(i||clearTimeout(this.showTimeout),n!==i){let l=Date.now();s=l-this.lastVisibilityChange,this.lastVisibilityChange=l}let r=100,o=5,a=!n&&i&&s>r;s>o&&t("no-animation",a),t("no-interaction",!this.enableInteraction),t("hidden",!i),t("arrow",this._showArrow),e.toggle(aI,this.darkTheme);for(let l of this.wrapTypes)e.toggle(`${Bn}-wrap-${l}`,l===this.wrapping)}updateShowArrow(i){this._showArrow=i}getTooltipBounds(i){if(!this.element)return{};let{positionType:e,meta:t,yOffset:n,xOffset:s,canvasRect:r}=i,{clientWidth:o,clientHeight:a}=this.element,l={width:o,height:a};switch(e){case"node":case"pointer":return l.top=t.offsetY+n-a-8,l.left=t.offsetX+s-o/2,l;case"top":return l.top=n,l.left=r.width/2-o/2+s,l;case"right":return l.top=r.height/2-a/2+n,l.left=r.width-o/2+s,l;case"left":return l.top=r.height/2-a/2+n,l.left=s,l;case"bottom":return l.top=r.height-a+n,l.left=r.width/2-o/2+s,l;case"top-left":return l.top=n,l.left=s,l;case"top-right":return l.top=n,l.left=r.width-o+s,l;case"bottom-right":return l.top=r.height-a+n,l.left=r.width-o+s,l;case"bottom-left":return l.top=r.height-a+n,l.left=s,l;case"sparkline":return Un.isEnterprise?l.top=n-a-8:l.top=t.offsetY+n-a-8,l.left=t.offsetX+s-o/2,l}}};m([x(et)],pn.prototype,"enabled",2);m([x(et,{optional:!0})],pn.prototype,"showArrow",2);m([ti((i,e,t)=>{e&&i.element?.classList.add(e),t&&i.element?.classList.remove(t)}),x(P,{optional:!0})],pn.prototype,"class",2);m([x(F)],pn.prototype,"delay",2);m([x(Nu,{optional:!0})],pn.prototype,"range",2);m([x(Lu)],pn.prototype,"wrapping",2);m([x(Y)],pn.prototype,"position",2);m([x(et)],pn.prototype,"darkTheme",2);m([x(Ft(["extended","canvas"]))],pn.prototype,"bounds",2);var Xt=(()=>{let i=class extends ft{constructor(){super(...arguments),this.id=dn(this),this.node=new iI({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){let{regionManager:n,proxyInteractionService:s,layoutManager:r}=e,o=n.getRegion("root"),a=[r.addListener("layout:complete",()=>this.updateA11yText(s,t)),o.addListener("hover",l=>this.handleMouseMove(e,l)),o.addListener("leave",l=>this.handleMouseLeave(e,l))];return WE(...a)}computeTextWrap(e,t){let{text:n,padding:s,wrapping:r}=this,o=Math.min(this.maxWidth??1/0,e)-s*2,a=this.maxHeight??t-s*2;if(!isFinite(o)&&!isFinite(a)){this.node.text=n;return}let l=Km.wrapText(n??"",{maxWidth:o,maxHeight:a,font:this,textWrap:r});this.node.text=l,this.truncated=l.includes(ve.EllipsisChar)}updateA11yText(e,t){if(this.enabled&&this.text){let n=ne.toCanvas(this.node);if(n){let{id:s}=this;this.proxyText??(this.proxyText=e.createProxyElement({type:"text",id:s,parent:t})),this.proxyText.textContent=this.text,this.proxyText.updateBounds(n)}}else this.proxyText?.remove(),this.proxyText=void 0}handleMouseMove(e,t){if(t!==void 0&&this.enabled&&this.node.visible&&this.truncated){let{offsetX:n,offsetY:s}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:s,lastPointerEvent:t,showArrow:!1},pa({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};return i.SMALL_PADDING=10,i.LARGE_PADDING=20,i})();m([x(et),ze("node","visible")],Xt.prototype,"enabled",2);m([x(P,{optional:!0}),ze("node")],Xt.prototype,"text",2);m([x(LM,{optional:!0}),ze("node")],Xt.prototype,"textAlign",2);m([x(ur,{optional:!0}),ze("node")],Xt.prototype,"fontStyle",2);m([x(hr,{optional:!0}),ze("node")],Xt.prototype,"fontWeight",2);m([x(F),ze("node")],Xt.prototype,"fontSize",2);m([x(P),ze("node")],Xt.prototype,"fontFamily",2);m([x(Lt,{optional:!0}),ze("node","fill")],Xt.prototype,"color",2);m([x(F,{optional:!0})],Xt.prototype,"spacing",2);m([x(F,{optional:!0})],Xt.prototype,"maxWidth",2);m([x(F,{optional:!0})],Xt.prototype,"maxHeight",2);m([x(Lu)],Xt.prototype,"wrapping",2);m([x(F)],Xt.prototype,"padding",2);m([x(P)],Xt.prototype,"layoutStyle",2);var YL=(()=>{let i=class lI extends ut{constructor(t){super(t),this.opts=t,this.lastBBox=void 0}static is(t){return t instanceof lI}markDirty(t=1){super.markDirty(t,1)}preRender(){let t=super.preRender();return t.nonGroups>0&&(this.layer??(this.layer=this._layerManager?.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()})),this.opts?.deriveZIndexFromChildren&&this.deriveZIndexFromChildren()),t}debugSkip(t){super.debugSkip(t);let{stats:n}=t;n&&(n.layersSkipped++,n.nodesSkipped+=nn(this).count)}render(t){if(!this.layer)return super.render(t);let{opts:{name:n}={},_debug:s,clipRect:r}=this,{isDirty:o,isChildDirty:a,isChildLayerDirty:l}=this.isDirty(t),{stats:c}=t,{forceRender:d,clipBBox:u}=t,h=this.getBBox();if(this.lastBBox?.equals(h)||(d="dirtyTransform",this.lastBBox=h),!o&&!a&&!l&&!d){this.debugSkip(t),this.markClean({recursive:!1});return}d!=="dirtyTransform"&&(d=a||this.dirtyZIndex),d&&this.layer.clear(),this.dirtyZIndex&&this.sortChildren(ut.compareChildren);let p=this.sortedChildren(),f=t.ctx.getTransform(),{context:g}=this.layer;if(g.save(),u){let{width:y,height:v,x:b,y:M}=u;g.beginPath(),g.rect(b,M,y,v),g.clip(),s?.(()=>({name:n,clipBBox:u,renderCtx:t,group:this,ctxTransform:g.getTransform()}))}g.setTransform(f),this.clipRect&&(u=this.renderClip(E(S({},t),{ctx:g}))),this.renderChildren(p,E(S({},t),{ctx:g,forceRender:d,clipBBox:u})),super.render(t,!0),r&&g.restore();for(let y of this.virtualChildren())y.markClean({recursive:"virtual"});c&&c.layersRendered++,g.restore(),g.verifyDepthZero?.(),n&&c&&s?.({name:n,renderCtx:t,result:"rendered",skipped:c.nodesSkipped,counts:nn(this),group:this})}deriveZIndexFromChildren(){let t;for(let n of this.children())n.childNodeCounts.nonGroups&&(!t||ut.compareChildren(t,n)<0)&&(t=n);this.zIndex=t?.zIndex??-1/0,this.zIndexSubOrder=t?.zIndexSubOrder}_setLayerManager(t){this.layer&&(this._layerManager?.removeLayer(this.layer),this.layer=void 0),super._setLayerManager(t)}getComputedOpacity(){let t=1;for(let n of this.traverseUp(!0))n instanceof ut&&(t*=n.opacity);return t}getVisibility(){for(let t of this.traverseUp(!0))if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}};return i.className="Layer",i})(),Wn=YL,fa=class extends pr(Wn){},Xn=class extends Cn{constructor(i={}){super(i),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new G(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(i,e){return!1}render(i){let{ctx:e,forceRender:t,stats:n}=i;if(this.dirty===0&&!t){n&&(n.nodesSkipped+=nn(this).count);return}let{x1:s,y1:r,x2:o,y2:a}=this;s=this.align(s),r=this.align(r),o=this.align(o),a=this.align(a);let{fill:l,opacity:c,isRange:d}=this;if(!!(d&&l)){let{fillOpacity:v}=this;this.applyFill(e),e.globalAlpha=c*v,e.beginPath(),e.moveTo(s,r),e.lineTo(o,r),e.lineTo(o,a),e.lineTo(s,a),e.closePath(),e.fill()}let{stroke:h,strokeWidth:p,startLine:f,endLine:g}=this;if(!!((f||g)&&h&&p)){let{strokeOpacity:v,lineDash:b,lineDashOffset:M,lineCap:I,lineJoin:D}=this;e.strokeStyle=h,e.globalAlpha=c*v,e.lineWidth=p,b&&e.setLineDash(b),M&&(e.lineDashOffset=M),I&&(e.lineCap=I),D&&(e.lineJoin=D),e.beginPath(),f&&(e.moveTo(s,r),e.lineTo(o,r)),g&&(e.moveTo(o,a),e.lineTo(s,a)),e.stroke()}this.fillShadow?.markClean(),super.render(i)}};Xn.className="Range";Xn.defaultStyles=E(S({},Cn.defaultStyles),{strokeWidth:1});m([V({redraw:2})],Xn.prototype,"x1",2);m([V({redraw:2})],Xn.prototype,"y1",2);m([V({redraw:2})],Xn.prototype,"x2",2);m([V({redraw:2})],Xn.prototype,"y2",2);m([V({redraw:2})],Xn.prototype,"startLine",2);m([V({redraw:2})],Xn.prototype,"endLine",2);m([V({redraw:2})],Xn.prototype,"isRange",2);var Ce=class extends ft{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return ve.toFontString(this)}};m([x(et)],Ce.prototype,"enabled",2);m([x(Lt,{optional:!0})],Ce.prototype,"color",2);m([x(ur,{optional:!0})],Ce.prototype,"fontStyle",2);m([x(hr,{optional:!0})],Ce.prototype,"fontWeight",2);m([x(F)],Ce.prototype,"fontSize",2);m([x(P)],Ce.prototype,"fontFamily",2);m([x(wi,{optional:!0})],Ce.prototype,"formatter",2);function tu(i){let{parallelFlipRotation:e=0,regularFlipRotation:t=0}=i,n=i.rotation?Pt(Je(i.rotation)):0,s=!n&&e>=0&&e<=Math.PI?-1:1,r=!n&&t>=0&&t<=Math.PI?-1:1,o=0;return i.parallel?o=s*Math.PI/2:r===-1&&(o=Math.PI),{configuredRotation:n,defaultRotation:o,parallelFlipFlag:s,regularFlipFlag:r}}function WL(i,e){return isNaN(i)?e?0:10:i}function ZL(i,e,t,n){return i&&!e?t*n===-1?"hanging":"bottom":"middle"}function ff(i,e,t,n,s){let r=e>0&&e<=Math.PI,o=t>0&&t<=Math.PI,a=r||o?-1:1;if(i)if(e||t){if(n*a===-1)return"end"}else return"center";else if(n*s===-1)return"end";return"start"}function $L(i,e,t){let{x:n,y:s,width:r,height:o}=e,a=new G(n,s,0,0);t.transformBBox(a,e);let{x:l,y:c}=e;return{point:{x:l,y:c},label:{text:i,width:r,height:o}}}var cI=(i=>(i[i.SERIES_BACKGROUND=0]="SERIES_BACKGROUND",i[i.AXIS_GRID=1]="AXIS_GRID",i[i.AXIS=2]="AXIS",i[i.SERIES_CROSSLINE_RANGE=3]="SERIES_CROSSLINE_RANGE",i[i.SERIES_LAYER=4]="SERIES_LAYER",i[i.SERIES_HIGHLIGHT=5]="SERIES_HIGHLIGHT",i[i.AXIS_FOREGROUND=6]="AXIS_FOREGROUND",i[i.SERIES_CROSSHAIR=7]="SERIES_CROSSHAIR",i[i.CHART_OVERLAY=8]="CHART_OVERLAY",i[i.SERIES_CROSSLINE_LINE=9]="SERIES_CROSSLINE_LINE",i[i.SERIES_ANNOTATION=10]="SERIES_ANNOTATION",i[i.CHART_ANNOTATION=11]="CHART_ANNOTATION",i[i.CHART_ANNOTATION_FOCUSED=12]="CHART_ANNOTATION_FOCUSED",i[i.STATUS_BAR=13]="STATUS_BAR",i[i.SERIES_LABEL=14]="SERIES_LABEL",i[i.LEGEND=15]="LEGEND",i[i.NAVIGATOR=16]="NAVIGATOR",i[i.FOREGROUND=17]="FOREGROUND",i))(cI||{});function dI(i){return i!=null&&Object.hasOwn(i,"toString")&&Mi(i.toString())}function uI(i){return i!=null&&Object.hasOwn(i,"valueOf")&&It(i.valueOf())}function Pu(i){return It(i)||dc(i)||uI(i)}function Wf(i,e){return i!=null&&(!e||Pu(i))}function to(i){return dI(i)&&Object.hasOwn(i,"id")?i.id:i}var Xm=i=>i==="value"?jt((e,t)=>t.target.type==="line",e=>e.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):jt((e,t)=>t.target.type==="range",e=>e.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),hI=(i,e,t,n,s)=>{let r=i==="line"&&e!==void 0,o=i==="range"&&t!==void 0;if(!r&&!o)return!0;let[a,l]=t??[e,void 0],c=Tt.is(n)||In.is(n),d=Wf(a,c)&&!isNaN(n.convert(a)),u=Wf(l,c)&&!isNaN(n.convert(l));if(r&&d||o&&d&&u)return s?.()??!0;let h=["Expecting crossLine"];return o?(d||h.push(`range start ${jl(a)}`),u||h.push(`${d?"":"and "}range end ${jl(l)}`)):h.push(`value ${jl(a)}`),h.push("to match the axis scale domain."),R.warnOnce(h.join(" ")),!1},KL={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},XL={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function Zf({yDirection:i,padding:e=0,position:t="top",bbox:n}){let s=i?KL:XL,{xTranslationDirection:r,yTranslationDirection:o}=s[t],a=r*(e+n.width/2),l=o*(e+n.height/2);return{xTranslation:a,yTranslation:l}}function pI({yDirection:i,bbox:e,padding:t=0,position:n="top"}){let s={};return n.startsWith("inside")||(n==="top"&&!i?s.top=t+e.height:n==="bottom"&&!i?s.bottom=t+e.height:n==="left"&&i?s.left=t+e.width:n==="right"&&i&&(s.right=t+e.width)),s}var eu=({direction:i,xEnd:e,yStart:t,yEnd:n})=>i==="y"?{x:e/2,y:t}:{x:e,y:isNaN(n)?t:(t+n)/2},R0=({direction:i,xStart:e,xEnd:t,yStart:n,yEnd:s})=>i==="y"?{x:e,y:isNaN(s)?n:(n+s)/2}:{x:t/2,y:n},O0=({direction:i,xEnd:e,yStart:t,yEnd:n})=>i==="y"?{x:e,y:isNaN(n)?t:(t+n)/2}:{x:e/2,y:isNaN(n)?t:n},P0=({direction:i,xStart:e,xEnd:t,yStart:n,yEnd:s})=>i==="y"?{x:t/2,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:(n+s)/2},QL=({xEnd:i,yStart:e,yEnd:t})=>({x:i/2,y:isNaN(t)?e:(e+t)/2}),j0=({direction:i,xStart:e,xEnd:t,yStart:n})=>i==="y"?{x:e/2,y:n}:{x:t,y:n},F0=({direction:i,xStart:e,yStart:t,yEnd:n})=>i==="y"?{x:e,y:isNaN(n)?t:n}:{x:e,y:t},z0=({direction:i,xEnd:e,yStart:t,yEnd:n})=>i==="y"?{x:e,y:t}:{x:e,y:isNaN(n)?t:n},B0=({direction:i,xStart:e,xEnd:t,yStart:n,yEnd:s})=>i==="y"?{x:t,y:isNaN(s)?n:s}:{x:e,y:isNaN(s)?n:s},fI={top:{c:eu},bottom:{c:P0},left:{c:R0},right:{c:O0},topLeft:{c:j0},topRight:{c:z0},bottomLeft:{c:F0},bottomRight:{c:B0},inside:{c:QL},insideLeft:{c:R0},insideRight:{c:O0},insideTop:{c:eu},insideBottom:{c:P0},insideTopLeft:{c:j0},insideBottomLeft:{c:F0},insideTopRight:{c:z0},insideBottomRight:{c:B0}},qL=Ft(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),fn=class extends ft{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};m([x(et,{optional:!0})],fn.prototype,"enabled",2);m([x(P,{optional:!0})],fn.prototype,"text",2);m([x(ur,{optional:!0})],fn.prototype,"fontStyle",2);m([x(hr,{optional:!0})],fn.prototype,"fontWeight",2);m([x(F)],fn.prototype,"fontSize",2);m([x(P)],fn.prototype,"fontFamily",2);m([x(Gt)],fn.prototype,"padding",2);m([x(Lt,{optional:!0})],fn.prototype,"color",2);m([x(qL,{optional:!0})],fn.prototype,"position",2);m([x(dr,{optional:!0})],fn.prototype,"rotation",2);m([x(et,{optional:!0})],fn.prototype,"parallel",2);var mn=(()=>{let i=class Rl extends ft{constructor(){super(),this.id=dn(this),this.label=new fn,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new Wn({name:this.id,zIndex:Rl.LINE_LAYER_ZINDEX}),this.labelGroup=new Wn({name:this.id,zIndex:Rl.LABEL_LAYER_ZINDEX}),this.crossLineRange=new Xn,this.crossLineLabel=new lo,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1,this.group.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}update(t){let{enabled:n,data:s,type:r,value:o,range:a,scale:l}=this;if(!r||!l||!n||!t||!hI(r,o,a,l)||s.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,n){if(!t)return;let{scale:s,gridLength:r,sideFlag:o,direction:a,label:{position:l="top"},clippedRange:c,strokeWidth:d=0}=this;if(this.data=[],!s)return;let u=s.bandwidth??0,h=s.step??0,p=(n?-1:1)*(s instanceof or?(h-u)/2:0),[f,g]=[0,o*r],[y,v]=this.getRange(),b=v===void 0&&In.is(s)?u/2+p:0,[M,I]=[Number(s.convert(y,{clampMode:"clamped"}))-p+b,s.convert(v,{clampMode:"clamped"})+u+p];M=Zd(M,c),I=Zd(I,c),[y,v]=[Number(s.convert(y))+b,s.convert(v)+u];let D=(y===M||v===I||M!==I)&&Math.abs(I-M)>0;if(D&&M>I&&([M,I]=[I,M],[y,v]=[v,y]),y-p>=M&&(y-=p),v+p<=I&&(v+=p),this.isRange=D,this.startLine=d>0&&y>=M&&y<=M+p,this.endLine=d>0&&v>=I-u-p&&v<=I,!D&&!this.startLine&&!this.endLine||(this.data=[M,I],!this.label.enabled))return;let{c:A=eu}=fI[l]??{},{x:w,y:C}=A({direction:a,xStart:f,xEnd:g,yStart:M,yEnd:I});this.labelPoint={x:w,y:C}}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}updateRangeNode(){let{crossLineRange:t,sideFlag:n,gridLength:s,data:r,startLine:o,endLine:a,isRange:l,fill:c,fillOpacity:d,stroke:u,strokeWidth:h,lineDash:p}=this;t.x1=0,t.x2=n*s,t.y1=r[0],t.y2=r[1],t.startLine=o,t.endLine=a,t.isRange=l,t.fill=c,t.fillOpacity=d??1,t.stroke=u,t.strokeWidth=h??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){let{crossLineLabel:t,label:n}=this;n.text&&(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.text=n.text)}positionLabel(){let{crossLineLabel:t,labelPoint:{x:n=void 0,y:s=void 0}={},label:{parallel:r,rotation:o,position:a="top",padding:l=0},direction:c,parallelFlipRotation:d,regularFlipRotation:u}=this;if(n===void 0||s===void 0)return;let{defaultRotation:h,configuredRotation:p}=tu({rotation:o,parallel:r,regularFlipRotation:u,parallelFlipRotation:d});t.rotation=h+p,t.textBaseline="middle",t.textAlign="center";let f=t.getBBox();if(!f)return;let g=c==="y",{xTranslation:y,yTranslation:v}=Zf({yDirection:g,padding:l,position:a,bbox:f});t.translationX=n+y,t.translationY=s+v}getZIndex(t=!1){return t?Rl.RANGE_LAYER_ZINDEX:Rl.LINE_LAYER_ZINDEX}getRange(){let{value:t,range:n,scale:s}=this,r=Tt.is(s)||In.is(s),o=n?.[0]??t,a=n?.[1];return!r&&a===void 0&&(a=o),r&&o===a&&(a=void 0),[o,a]}computeLabelBBox(){let{label:t}=this;if(!t.enabled)return;let n=new lo;n.fontFamily=t.fontFamily,n.fontSize=t.fontSize,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.text=t.text;let{labelPoint:{x:s=void 0,y:r=void 0}={},label:{parallel:o,rotation:a,position:l="top",padding:c=0},direction:d,parallelFlipRotation:u,regularFlipRotation:h}=this;if(s===void 0||r===void 0)return;let{configuredRotation:p}=tu({rotation:a,parallel:o,regularFlipRotation:h,parallelFlipRotation:u});n.rotation=p,n.textBaseline="middle",n.textAlign="center";let f=n.getBBox();if(!f)return;let g=d==="y",{xTranslation:y,yTranslation:v}=Zf({yDirection:g,padding:c,position:l,bbox:f});return n.x=s+y,n.y=r+v,n.getBBox()}calculatePadding(t){let{isRange:n,startLine:s,endLine:r,direction:o,label:{padding:a=0,position:l="top"}}=this;if(!n&&!s&&!r)return;let c=this.computeLabelBBox();if(c?.x==null||c?.y==null)return;let d=pI({yDirection:o==="y",padding:a,position:l,bbox:c});t.left=Math.max(t.left??0,d.left??0),t.right=Math.max(t.right??0,d.right??0),t.top=Math.max(t.top??0,d.top??0),t.bottom=Math.max(t.bottom??0,d.bottom??0)}};return i.LINE_LAYER_ZINDEX=9,i.RANGE_LAYER_ZINDEX=3,i.LABEL_LAYER_ZINDEX=14,i.className="CrossLine",i})();m([x(et,{optional:!0})],mn.prototype,"enabled",2);m([x(Ft(["range","line"],"a crossLine type"),{optional:!0})],mn.prototype,"type",2);m([x(un(Xm("range"),Ma.restrict({length:2})),{optional:!0})],mn.prototype,"range",2);m([x(Xm("value"),{optional:!0})],mn.prototype,"value",2);m([x(Lt,{optional:!0})],mn.prototype,"fill",2);m([x(At,{optional:!0})],mn.prototype,"fillOpacity",2);m([x(Lt,{optional:!0})],mn.prototype,"stroke",2);m([x(Gt,{optional:!0})],mn.prototype,"strokeWidth",2);m([x(At,{optional:!0})],mn.prototype,"strokeOpacity",2);m([x(Ss,{optional:!0})],mn.prototype,"lineDash",2);m([x(Y)],mn.prototype,"label",2);var mf=mn,JL=["stroke","lineDash"],tN=Is(i=>hi(i)&&Object.keys(i).every(e=>JL.includes(e)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),ju=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};m([x(et)],ju.prototype,"enabled",2);m([x(F)],ju.prototype,"width",2);m([x(tN)],ju.prototype,"style",2);function fr(i,e=[void 0]){return vs((t,n,s)=>e.includes(s)?Ms(i)?i(s):i:s)}var mI=jt(i=>It(i)&&i>0||i instanceof ao,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),go=class extends ft{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};m([x(mI,{optional:!0})],go.prototype,"step",2);m([x(Ma,{optional:!0})],go.prototype,"values",2);m([x(kM),fr(NaN)],go.prototype,"minSpacing",2);m([x(RM),fr(NaN)],go.prototype,"maxSpacing",2);var _e=class extends ft{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};m([x(et)],_e.prototype,"enabled",2);m([x(ur,{optional:!0})],_e.prototype,"fontStyle",2);m([x(hr,{optional:!0})],_e.prototype,"fontWeight",2);m([x(Gt.restrict({min:1}))],_e.prototype,"fontSize",2);m([x(P)],_e.prototype,"fontFamily",2);m([x(F)],_e.prototype,"padding",2);m([x(xa),fr(NaN)],_e.prototype,"minSpacing",2);m([x(Lt,{optional:!0})],_e.prototype,"color",2);m([x(dr,{optional:!0})],_e.prototype,"rotation",2);m([x(et)],_e.prototype,"avoidCollisions",2);m([x(et)],_e.prototype,"mirrored",2);m([x(et)],_e.prototype,"parallel",2);m([x(wi,{optional:!0})],_e.prototype,"formatter",2);m([x(P,{optional:!0})],_e.prototype,"format",2);var gc=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};m([x(et)],gc.prototype,"enabled",2);m([x(F)],gc.prototype,"width",2);m([x(Lt,{optional:!0})],gc.prototype,"stroke",2);var Aa=class extends ft{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};m([x(et)],Aa.prototype,"enabled",2);m([x(F)],Aa.prototype,"width",2);m([x(F)],Aa.prototype,"size",2);m([x(Lt,{optional:!0})],Aa.prototype,"stroke",2);var _n=class extends ft{constructor(){super(...arguments),this.caption=new Xt,this.enabled=!1,this.spacing=Xt.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};m([x(et)],_n.prototype,"enabled",2);m([x(P,{optional:!0})],_n.prototype,"text",2);m([x(F,{optional:!0})],_n.prototype,"spacing",2);m([x(ur,{optional:!0})],_n.prototype,"fontStyle",2);m([x(hr,{optional:!0})],_n.prototype,"fontWeight",2);m([x(F)],_n.prototype,"fontSize",2);m([x(P)],_n.prototype,"fontFamily",2);m([x(Lt,{optional:!0})],_n.prototype,"color",2);m([x(Lu)],_n.prototype,"wrapping",2);m([x(wi,{optional:!0})],_n.prototype,"formatter",2);function $f(i){let[e,t]=xi(i.range),n=Math.floor(e),s=Math.ceil(t);return{min:n,max:s,visible:n!==s}}var Kf=Math.PI*2,eN=Kf/2;function iN(i,e){return Math.abs(e-i)<eN?e:i>e?e+Kf:e-Kf}function gI(i){let e=(o,a)=>{let[l=i.min,c=i.max]=xi(a??[]);return o<l||o>c};return{tick:{fromFn(o,a,l){let c=o.y1+o.translationY,d=o.opacity;return(l==="added"||e(o.datum.translationY,o.datum.range))&&(c=a.translationY,d=0),{y:0,translationY:c,opacity:d,phase:ui[l]}},toFn(o,a,l){let c=a.translationY,d=1;return l==="removed"&&(d=0),{y:0,translationY:c,opacity:d,finish:{y:c,translationY:0}}},applyFn(o,a){o.setProperties(a),o.visible=!e(o.y)}},line:{fromFn(o,a){return E(S({},o.previousDatum??a),{phase:ui.updated})},toFn(o,a){return S({},a)}},label:{fromFn(o,a,l){let c=o.previousDatum??a,d=c.x,u=c.y,h=c.rotationCenterX,p=Math.round(o.translationY),f=c.rotation,g=o.opacity;return l==="removed"||e(c.y,c.range)?f=a.rotation:(l==="added"||e(o.datum.y,o.datum.range))&&(p=Math.round(c.translationY),g=0,f=a.rotation),{x:d,y:u,rotationCenterX:h,translationY:p,rotation:f,opacity:g,phase:ui[l]}},toFn(o,a,l){let c=a.x,d=a.y,u=a.rotationCenterX,h=Math.round(a.translationY),p=0,f=1;return l==="added"?(f=1,p=a.rotation):l==="removed"?(f=0,p=a.rotation):p=iN(o.previousDatum?.rotation??a.rotation,a.rotation),{x:c,y:d,rotationCenterX:u,translationY:h,rotation:p,opacity:f,finish:{rotation:a.rotation}}}},group:{fromFn(o,a){let{rotation:l,translationX:c,translationY:d}=o;return{rotation:l,translationX:c,translationY:d,phase:ui.updated}},toFn(o,a){let{rotation:l,translationX:c,translationY:d}=a;return{rotation:l,translationX:c,translationY:d}}}}}function yI(){return(i,e)=>({rotation:e.rotation,rotationCenterX:e.rotationCenterX,rotationCenterY:e.rotationCenterY,translationX:e.translationX,translationY:e.translationY})}function bI(i){let{visible:e,min:t,max:n}=i;return(s,r)=>{let o=r.translationY,a=e&&o>=t&&o<=n;return{y:o,translationY:0,opacity:1,visible:a}}}function vI(){return(i,e)=>({x:e.x,y:e.y,translationY:e.translationY,rotation:e.rotation,rotationCenterX:e.rotationCenterX})}function xI(){return(i,e)=>S({},e)}var gf=class extends pr(Ii){},yo=(()=>{let i=class MI{constructor(t,n){this.moduleCtx=t,this.scale=n,this.id=dn(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new go,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new cf({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new gf({name:`${this.id}-Axis-line`})),this.tickLineGroup=this.axisGroup.appendChild(new ut({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new ut({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new cf({name:`${this.id}-CrossLines`}),this.labelGroup=new ut({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new cf({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new ut({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=Kt.select(this.tickLineGroup,gf,!1),this.tickLabelGroupSelection=Kt.select(this.tickLabelGroup,lo,!1),this.gridLineGroupSelection=Kt.select(this.gridLineGroup,gf,!1),this._crossLines=[],this.line=new gc,this.tick=new Aa,this.gridLine=new ju,this.label=this.createLabel(),this.defaultTickMinSpacing=MI.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.range=[0,1],this.visibleRange=[0,1],this.title=new _n,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.moduleMap=new Vm,this.range=this.scale.range.slice(),this.crossLines.forEach(r=>this.initCrossLine(r)),this.axisGroup.appendChild(this.title.caption.node),this.animationManager=t.animationManager,this.animationState=new mc("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:r=>this.animateReadyUpdate(r),resize:()=>this.resetSelectionNodes(),reset:"empty"}});let s;this.destroyFns.push(this.title.caption.registerInteraction(this.moduleCtx,"afterend"),t.layoutManager.addListener("layout:complete",r=>{s!=null&&cn(r.chart,s)!=null&&this.animationState.transition("resize"),s=S({},r.chart)}))}get type(){return this.constructor.type??""}set crossLines(t){let{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=t.map(s=>{let r=new n;return r.set(s),r}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateRange(){let{range:t,visibleRange:n,scale:s}=this,r=(t[1]-t[0])/(n[1]-n[0]),o=r*n[0],a=t[0]-o;s.setVisibleRange?.(n),s.range=[a,a+r],this.crossLines.forEach(l=>{l.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,n){n.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,n){n.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}inRange(t,n=0){let[s,r]=xi(this.range);return t>=s-n&&t<=r+n}onFormatChange(t,n,s,r){let{scale:o}=this,a=o instanceof Um,l=c=>a?String:d=>typeof d=="number"?d.toFixed(n+c):String(d);if(r&&o&&o.tickFormat)try{let c=o.tickFormat({ticks:t,specifier:r});this.labelFormatter=c,this.datumFormatter=c}catch{this.labelFormatter=l(0),this.datumFormatter=l(1),R.warnOnce(`the axis label format string ${r} is invalid. No formatting will be applied`)}else this.labelFormatter=l(0),this.datumFormatter=l(1)}onGridLengthChange(t,n){n^t&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new _e}update(t=!0){if(!this.tickGenerationResult)return;let{rotation:n,parallelFlipRotation:s,regularFlipRotation:r}=this.calculateRotations(),o=this.label.getSideFlag();this.updatePosition();let a=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:c,textBaseline:d,textAlign:u,primaryTickCount:h}=this.tickGenerationResult,p=this.tickLabelGroupSelection.nodes().map(f=>f.datum.tickId);if(this.updateSelections(a,l.ticks,{combinedRotation:c,textAlign:u,textBaseline:d,range:this.scale.range}),!t||this.animationManager.isSkipped())this.resetSelectionNodes();else{let f=this.calculateUpdateDiff(p,l);this.animationState.transition("update",f)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(o),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:n,parallelFlipRotation:s,regularFlipRotation:r}),this.updateLayoutState(l.fractionDigits),h}getAxisLineCoordinates(){let[t,n]=xi(this.range);return{x:0,y1:t,y2:n}}getTickLineCoordinates(t){let s=this.label.getSideFlag()*this.getTickSize(),r=Math.min(0,s),o=r+Math.abs(s),a=t.translationY;return{x1:r,x2:o,y:a}}getTickLabelProps(t,n){let{label:s}=this,{combinedRotation:r,textBaseline:o,textAlign:a,range:l}=n,c=t.tickLabel,u=s.getSideFlag()*(this.getTickSize()+s.padding+this.seriesAreaPadding),h=c!==""&&c!=null;return{tickId:t.tickId,translationY:t.translationY,fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,rotation:r,rotationCenterX:u,text:c,textAlign:a,textBaseline:o,visible:h,x:u,y:0,range:l}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,n){let{title:s}=this;if(!s.enabled){t.enabled=!1,t.node.visible=!1;return}t.color=s.color,t.fontFamily=s.fontFamily,t.fontSize=s.fontSize,t.fontStyle=s.fontStyle,t.fontWeight=s.fontWeight,t.enabled=s.enabled,t.wrapping=s.wrapping;let r=t.node,o=(s.spacing??0)+n.spacing,a=this.label.getSideFlag(),l=Pt(this.rotation),c=a===-1&&l>Math.PI&&l<Math.PI*2?-1:1,d=c*a*Math.PI/2,u=c===1?"bottom":"top",{range:h}=this,p=Math.floor(c*a*(h[0]+h[1])/2),f=Math.floor(a===-1?c*-o:-o),{callbackCache:g}=this.moduleCtx,{formatter:y=b=>b.defaultValue}=s,v=g.call(y,this.getTitleFormatterParams());t.text=v,r.setProperties({visible:!0,text:v,textBaseline:u,x:p,y:f,rotation:d})}calculateLayout(t,n){let{rotation:s,parallelFlipRotation:r,regularFlipRotation:o}=this.calculateRotations(),a=this.label.getSideFlag(),l=a*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(t),this.tickGenerationResult=this.generateTicks({primaryTickCount:n,parallelFlipRotation:r,regularFlipRotation:o,labelX:l,sideFlag:a});let A=this.tickGenerationResult,{tickData:c,combinedRotation:d,textBaseline:u,textAlign:h}=A,p=_t(A,["tickData","combinedRotation","textBaseline","textAlign"]);this.updateLayoutState(c.fractionDigits);let f=[],{x:g,y1:y,y2:v}=this.getAxisLineCoordinates(),b=new G(g+Math.min(a*this.seriesAreaPadding,0),y,this.seriesAreaPadding,v-y);if(f.push(b),this.tick.enabled&&c.ticks.forEach(w=>{let{x1:C,x2:_,y:T}=this.getTickLineCoordinates(w),N=new G(C,T,_-C,0);f.push(N)}),this.label.enabled){let w=new lo;c.ticks.forEach(C=>{let _=this.getTickLabelProps(C,{combinedRotation:d,textAlign:h,textBaseline:u,range:this.scale.range});if(!_.visible)return;w.setProperties(E(S({},_),{translationY:Math.round(C.translationY)}));let T=w.getBBox();T&&f.push(T)})}if(this.title?.enabled){let w=new Xt,C=G.merge(f).width;this.setTitleProps(w,{spacing:C});let _=w.node.getBBox();_&&f.push(_)}let M=G.merge(f),I=this.getTransformBox(M),D=this.isAnySeriesActive();return this.crossLines.forEach(w=>{var C;w.sideFlag=-a,w.direction=s===-Math.PI/2?"x":"y",w instanceof mf&&((C=w.label).parallel??(C.parallel=this.label.parallel)),w.parallelFlipRotation=r,w.regularFlipRotation=o,w.calculateLayout?.(D,this.reverse)}),{primaryTickCount:p.primaryTickCount,bbox:I}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}getTransformBox(t){let n=new Dn,{rotation:s,translationX:r,translationY:o}=this.getAxisTransform();return Dn.updateTransformMatrix(n,1,1,s,r,o),n.transformBBox(t)}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(t){t?this.setDomain(t):this.calculateDomain(),this.updateRange(),this.scale.interval=this.interval.step,Tt.is(this.scale)&&(this.scale.nice=this.nice,this.scale.update())}calculateRotations(){let t=Je(this.rotation),n=Pt(t),s=Pt(t-Math.PI/2);return{rotation:t,parallelFlipRotation:n,regularFlipRotation:s}}generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:s,labelX:r,sideFlag:o}){let{scale:a,interval:{minSpacing:l,maxSpacing:c},label:{parallel:d,rotation:u,fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g}}=this,y=t!==void 0,{defaultRotation:v,configuredRotation:b,parallelFlipFlag:M,regularFlipFlag:I}=tu({rotation:u,parallel:d,regularFlipRotation:s,parallelFlipRotation:n}),D=b+v,A=new Dn,{maxTickCount:w}=this.estimateTickCount({minSpacing:l,maxSpacing:c}),_=!(Tt.is(a)||In.is(a))||isNaN(w)?10:w,T=ff(d,b,0,o,I),N=ZL(d,b,o,M),j=ve.toFontString({fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g}),B=Ds.getMeasurer({font:j}),Z={fontFamily:h,fontSize:p,fontStyle:f,fontWeight:g,textBaseline:N,textAlign:T},$={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},Q=0,it=0,rt=!0,ct=[],bt=!1;for(;rt&&Q<=_&&!bt;){it=0,T=ff(d,b,0,o,I);let ht=this.getTickStrategies({secondaryAxis:y,index:Q});for(let Nt of ht){({tickData:$,index:Q,autoRotation:it,terminate:bt}=Nt({index:Q,tickData:$,textProps:Z,labelOverlap:rt,terminate:bt,primaryTickCount:t}));let vt=b!==0||it!==0,Qt=D+it,K=WL(this.label.minSpacing,vt);Dn.updateTransformMatrix(A,1,1,Qt,0,0),T=ff(d,b,it,o,I),ct=this.createLabelData($.ticks,r,A,B),rt=this.label.avoidCollisions?VL(ct,K):!1}}let nt=v+b+it;return!y&&$.rawTicks.length>0&&(t=$.rawTicks.length),{tickData:$,primaryTickCount:t,combinedRotation:nt,textBaseline:N,textAlign:T,labelData:ct}}getTickStrategies({index:t,secondaryAxis:n}){let{scale:s,label:r}=this,{minSpacing:o}=this.interval,a=Tt.is(s)||In.is(s),l=r.enabled&&r.avoidCollisions,c=!a&&t!==0&&l,d=r.autoRotate===!0&&r.rotation===void 0,u=[],h;this.interval.values?h=3:n?h=1:c?h=2:h=0;let p=({index:f,tickData:g,primaryTickCount:y,terminate:v})=>this.createTickData(h,f,g,v,y);if(u.push(p),!a&&!isNaN(o)){let f=({index:g,tickData:y,primaryTickCount:v,terminate:b})=>this.createTickData(2,g,y,b,v);u.push(f)}if(!l)return u;if(d){let f=({index:g,tickData:y,labelOverlap:v,terminate:b})=>({index:g,tickData:y,autoRotation:this.getAutoRotation(v),terminate:b});u.push(f)}return u}createTickData(t,n,s,r,o){let{scale:a}=this,{step:l,values:c,minSpacing:d,maxSpacing:u}=this.interval,{maxTickCount:h,minTickCount:p,defaultTickCount:f}=this.estimateTickCount({minSpacing:d,maxSpacing:u}),g=Tt.is(a)||In.is(a),y=!g||isNaN(h)?10:h,v=g?Math.max(f-n,p):h,b=l===void 0&&c===void 0&&v>p&&(g||t===2),M=!0;for(;M&&n<=y;){let D=s.rawTicks;v=g?Math.max(f-n,p):h;let{rawTicks:A,fractionDigits:w,ticks:C,labelCount:_}=this.getTicks({tickGenerationType:t,previousTicks:D,tickCount:v,minTickCount:p,maxTickCount:h,primaryTickCount:o});s.rawTicks=A,s.fractionDigits=w,s.ticks=C,s.labelCount=_,M=b?sI(A,D):!1,n++}return r||(r=l!==void 0||c!==void 0),{tickData:s,index:n,autoRotation:0,terminate:r}}createLabelData(t,n,s,r){let o=[];for(let{tickLabel:a,translationY:l}of t){if(!a)continue;let{width:c,height:d}=r.measureLines(a),u=new G(n,l,c,d),h=$L(a,u,s);o.push(h)}return o}getAutoRotation(t){return t?Pt(Je(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:t,previousTicks:n,tickCount:s,minTickCount:r,maxTickCount:o,primaryTickCount:a}){let{range:l,scale:c,visibleRange:d}=this,u;switch(t){case 3:if(u=this.interval.values,Tt.is(c)){let[I,D]=xi(c.getDomain().map(Number));u=u.filter(A=>A>=I&&A<=D).sort((A,w)=>A-w)}break;case 1:Tt.is(c)?u=this.updateSecondaryAxisTicks(a):u=this.createTicks(s,r,o);break;case 2:u=this.filterTicks(n,s);break;default:u=this.createTicks(s,r,o);break}let h=u.reduce((I,D)=>Math.max(I,typeof D=="number"?ac(D):0),0),p=(c.bandwidth??0)/2,f=[],g=0,y=new Map,v=Math.max(0,Math.floor(d[0]*u.length)),b=Math.min(u.length,Math.ceil(d[1]*u.length)),M=u.slice(v,b);this.onFormatChange(M,h,u,this.label.format);for(let I=0;I<M.length;I++){let D=M[I],A=c.convert(D)+p;if(l.length>0&&!this.inRange(A,.001))continue;let w=this.formatTick(D,h,v+I),C=w;if(y.has(C)){let _=y.get(C);y.set(C,_+1),C=`${C}_${_}`}else y.set(C,1);f.push({tick:D,tickId:C,tickLabel:w,translationY:Math.floor(A)}),!(w===""||w==null)&&g++}return{rawTicks:u,fractionDigits:h,ticks:f,labelCount:g}}filterTicks(t,n){let{minSpacing:s,maxSpacing:r}=this.interval,a=!isNaN(s)||!isNaN(r)?Math.ceil(t.length/n):2;return t.filter((l,c)=>c%a===0)}createTicks(t,n,s){let{scale:r}=this;return t&&(Tt.is(r)||In.is(r))&&(r.tickCount=t,r.minTickCount=n??0,r.maxTickCount=s??1/0),r.ticks?.()??[]}estimateTickCount({minSpacing:t,maxSpacing:n}){if(!this.label.avoidCollisions)return{minTickCount:Tt.defaultMaxTickCount,maxTickCount:Tt.defaultMaxTickCount,defaultTickCount:Tt.defaultMaxTickCount};let s=this.calculateRangeWithBleed(),r=Math.max(this.defaultTickMinSpacing,s/Tt.defaultMaxTickCount),o=!isNaN(n);isNaN(t)&&(t=r),isNaN(n)&&(n=s),t>n&&(t===r?t=n:n=t);let a=2;o&&(o=a<r);let l=at(1,Math.floor(s/t),o?Math.min(Math.floor(s/a),100):100),c=Math.min(l,Math.ceil(s/n)),d=at(c,Tt.defaultTickCount,l);return{minTickCount:c,maxTickCount:l,defaultTickCount:d}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:n,regularFlipRotation:s}){let r=this.label.getSideFlag(),o=this.isAnySeriesActive();this.crossLines.forEach(a=>{var l;a.sideFlag=-r,a.direction=t===-Math.PI/2?"x":"y",a instanceof mf&&((l=a.label).parallel??(l.parallel=this.label.parallel)),a.parallelFlipRotation=n,a.regularFlipRotation=s,a.update(o)})}updateTickLines(){let{tick:t,label:n}=this,s=n.getSideFlag();this.tickLineGroupSelection.each(r=>{r.strokeWidth=t.width,r.stroke=t.stroke,r.x1=s*this.getTickSize(),r.x2=0})}calculateAvailableRange(){return da(this.range)}calculateRangeWithBleed(){let t=1/da(this.visibleRange);return vu(this.calculateAvailableRange()*t,2)}calculateDomain(){let n=this.boundSeries.filter(s=>this.includeInvisibleDomains||s.isEnabled()).flatMap(s=>s.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:Je(this.rotation),translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:t,axisGroup:n,gridGroup:s,translation:r}=this,{rotation:o}=this.calculateRotations(),a=Math.floor(r.x),l=Math.floor(r.y);t.setProperties({rotation:o,translationX:a,translationY:l}),s.setProperties({rotation:o,translationX:a,translationY:l}),n.datum=this.getAxisTransform()}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,n,s){let r=a=>a.tickId,o=n.map(a=>this.getTickLabelProps(a,s));this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?n:[],void 0,r),this.tickLineGroupSelection.update(n,void 0,r),this.tickLabelGroupSelection.update(o,void 0,r)}updateAxisLine(){let{enabled:t,stroke:n,width:s}=this.line;this.lineNode.setProperties({stroke:n,strokeWidth:t?s:0})}updateGridLines(t){let{gridLine:{style:n,width:s},gridPadding:r,gridLength:o}=this;o===0||n.length===0||this.gridLineGroupSelection.each((a,l,c)=>{let{stroke:d,lineDash:u}=n[c%n.length];a.setProperties({x1:r,x2:-t*o+r,stroke:d,strokeWidth:s,lineDash:u})})}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,n)=>{t.setProperties(n,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}updateTitle(t){let{title:n,lineNode:s,tickLineGroup:r,tickLabelGroup:o}=this,a=0;if(n.enabled&&t.anyTickVisible){let l=ut.computeChildrenBBox([r,o,s]);a+=l.width+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(n.caption,{spacing:a})}formatTick(t,n,s){return String(this.getFormatter(s,!0)(t,n))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(t=0,n){let{label:s,labelFormatter:r,datumFormatter:o,moduleCtx:{callbackCache:a}}=this;return s.formatter?(l,c)=>a.call(s.formatter,{value:l,index:t,fractionDigits:c})??l:!n&&o?l=>a.call(o,l)??String(l):r?l=>a.call(r,l)??String(l):l=>String(l)}getBBox(){return this.axisGroup.getBBox()}getRegionNode(){}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,n,s,r){this.tickLineGroup.setClipRect(new G(t,n,s,r))}clipGrid(t,n,s,r){this.gridGroup.setClipRect(new G(t,n,s,r))}getTitleFormatterParams(){let{direction:t}=this,n=[];for(let s of this.boundSeries){let r=s.getKeys(t),o=s.getNames(t);for(let a=0;a<r.length;a++)n.push({key:r[a],name:o[a]})}return{direction:t,boundSeries:n,defaultValue:this.title?.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return S({id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),E(S({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:Tt.is(t)||In.is(t),keys:()=>this.boundSeries.flatMap(n=>n.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((n,s)=>(s.getKeyProperties(this.direction).forEach(o=>{n.indexOf(o)<0&&n.push(o)}),n),[]),scaleValueFormatter:n=>this.getScaleValueFormatter(n),scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>t.getDomain?.(),scaleConvert:n=>t.convert(n),scaleInvert:In.is(t)?n=>t.invertNearest?.(n):n=>t.invert?.(n),scaleInvertNearest:n=>t.invertNearest?.(n),scaleStep:()=>t.step??0,attachLabel:n=>this.attachLabel(n),inRange:(n,s)=>this.inRange(n,s)}}getScaleValueFormatter(t){let{scale:n}=this;if(t&&n&&n.tickFormat)try{return n.tickFormat({specifier:t})}catch{R.warnOnce(`the format string ${t} is invalid, ignoring.`)}return this.getFormatter()}animateReadyUpdate(t){let{animationManager:n}=this.moduleCtx,s=$f(this),r=gI(s);ie(this.id,"axis-group",n,[this.axisGroup],r.group),ie(this.id,"line",n,[this.lineNode],r.line),ie(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],r.tick,(o,a)=>a.tickId,t),ie(this.id,"tick-labels",n,[this.tickLabelGroupSelection],r.label,(o,a)=>a.tickId,t)}resetSelectionNodes(){let{gridLineGroupSelection:t,tickLineGroupSelection:n,tickLabelGroupSelection:s,lineNode:r}=this,o=$f(this);Me([this.axisGroup],yI()),Me([t,n],bI(o)),Me([s],vI()),Me([r],xI())}calculateUpdateDiff(t,n){let s=new Set,r=new Set,o={},a=Math.max(t.length,n.ticks.length);for(let l=0;l<a;l++){let c=n.ticks[l],d=t[l],u=c?.tickId;o[u??d]=c,d!==u&&(r.has(u)?r.delete(u):u&&s.add(u),s.has(d)?s.delete(d):d&&r.add(d))}return{changed:s.size>0||r.size>0,added:s,removed:r}}isReversed(){return this.reverse}};return i.defaultTickMinSpacing=50,i.CrossLineConstructor=mf,i})();m([x(et)],yo.prototype,"nice",2);m([x(et)],yo.prototype,"reverse",2);m([x(EM)],yo.prototype,"keys",2);m([x(Y)],yo.prototype,"interval",2);m([x(Y)],yo.prototype,"title",2);m([ti((i,e,t)=>i.onGridLengthChange(e,t))],yo.prototype,"gridLength",2);var Qm=yo,qm=class extends _e{constructor(){super(...arguments),this.autoRotateAngle=335}};m([x(et,{optional:!0})],qm.prototype,"autoRotate",2);m([x(dr)],qm.prototype,"autoRotateAngle",2);var Jm=class II extends Qm{constructor(){super(...arguments),this.thickness=0}static is(e){return e instanceof II}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(e){return this.updateDirection(),super.update(e)}calculateLayout(e,t){return this.updateDirection(),super.calculateLayout(e,t)}createAxisContext(){return E(S({},super.createAxisContext()),{position:this.position})}createLabel(){return new qm}getRegionNode(){return this.axisGroup}};m([x(F)],Jm.prototype,"thickness",2);m([x(Fm)],Jm.prototype,"position",2);var ar=Jm,Fu=(()=>{let i=class SI extends ar{constructor(t,n=new or){super(t,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}static is(t){return t instanceof SI}normaliseDataDomain(t){let n=[],s=new Set;for(let r of t){let o=r instanceof Date?r.getTime():r;s.has(o)||(s.add(o),n.push(r))}return{domain:n,clipped:!1}}updateScale(t){let{paddingInner:n,paddingOuter:s}=this;if(!It(n)||!It(s)){let r=this.reduceBandScalePadding();n??(n=r.inner),s??(s=r.outer)}this.scale.paddingInner=n??0,this.scale.paddingOuter=s??0,super.updateScale(t)}reduceBandScalePadding(){return this.boundSeries.reduce((t,n)=>{let s=n.getBandScalePadding?.();return s&&(t.inner>s.inner&&(t.inner=s.inner),t.outer<s.outer&&(t.outer=s.outer)),t},{inner:1/0,outer:-1/0})}};return i.className="CategoryAxis",i.type="category",i})();m([x(At)],Fu.prototype,"groupPaddingInner",2);m([x(At,{optional:!0})],Fu.prototype,"paddingInner",2);m([x(At,{optional:!0})],Fu.prototype,"paddingOuter",2);var yc=Fu,DI=class{constructor(i="",e,t=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=i,this.parent=e,this.depth=e?e.depth+1:0,this.number=t}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((i,e)=>e!==this.number):[]}};function nN(i,e=!0){let t=new DI,n=0;return e&&i.forEach(s=>n=Math.max(n,s.labels.length)),i.forEach(s=>{if(e)for(;s.labels.length<n;)s.labels.unshift("");sN(t,s)}),t}function sN(i,e){let t=e.labels.slice().reverse(),n=t.length-1;t.forEach((s,r)=>{let o=i.children,a=o.find(c=>c.label===s),l=r!==n;if(a&&l)i=a;else{let c=new DI(s,i);c.number=o.length,o.push(c),l&&(i=c)}})}function rN(i,e,t){let n=e.number-i.number,s=t/n;e.change-=s,e.shift+=t,i.change+=s,e.prelim+=t,e.mod+=t}function oN(i,e,t){return e.getSiblings().indexOf(i.ancestor)>=0?i.ancestor:t}function aN(i){let e=i.children;if(e){let t=0,n=0;for(let s=e.length-1;s>=0;s--){let r=e[s];r.prelim+=t,r.mod+=t,n+=r.change,t+=r.shift+n}}}function lN(i,e,t){let n=i.getLeftSibling();if(n){let s=i,r=i,o=n,a=r.getLeftmostSibling(),l=r.mod,c=s.mod,d=o.mod,u=a.mod;for(;o.nextRight()&&r.nextLeft();){o=o.nextRight(),r=r.nextLeft(),a=a.nextLeft(),s=s.nextRight(),s.ancestor=i;let h=o.prelim+d-(r.prelim+l)+t;h>0&&(rN(oN(o,i,e),i,h),l+=h,c+=h),d+=o.mod,l+=r.mod,u+=a.mod,c+=s.mod}o.nextRight()&&!s.nextRight()?(s.thread=o.nextRight(),s.mod+=d-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-u),e=i)}return e}function AI(i,e){let t=i.children;if(t.length){let n=t[0];t.forEach(o=>{AI(o,e),n=lN(o,n,e)}),aN(i);let s=(t[0].prelim+t.at(-1).prelim)/2,r=i.getLeftSibling();r?(i.prelim=r.prelim+e,i.mod=i.prelim-s):i.prelim=s}else{let n=i.getLeftSibling();i.prelim=n?n.prelim+e:0}}var V0=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(i,e){let{x:t,y:n}=e(i);t>this.right&&(this.right=t),t<this.left&&(this.left=t),n>this.bottom&&(this.bottom=n),n<this.top&&(this.top=n)}};function wI(i,e,t){i.x=i.prelim+e,i.y=i.depth,t.update(i),i.children.forEach(n=>wI(n,e+i.mod,t))}function CI(i){let e=i.children,t=0;e.forEach(n=>{CI(n),n.children.length?t+=n.leafCount:t++}),i.leafCount=t,e.length?(i.subtreeLeft=e[0].subtreeLeft,i.subtreeRight=e[i.children.length-1].subtreeRight,i.x=(i.subtreeLeft+i.subtreeRight)/2):(i.subtreeLeft=i.x,i.subtreeRight=i.x)}function cN(i){let e=new dN;return AI(i,1),wI(i,-i.prelim,e),CI(i),e}var dN=class{constructor(){this.dimensions=new V0,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(i){this.dimensions.update(i,e=>({x:e.x,y:e.y})),i.children.length?this.nonLeafNodes.push(i):(this.leafCount++,this.leafNodes.push(i)),i.depth>this.depth&&(this.depth=i.depth),this.nodes.push(i)}resize(i,e,t=0,n=0,s=!1){let r=this.leafCount-1,o=this.depth,a=this.dimensions,l=1,c=1;if(i>0&&r){let p=(a.right-a.left)/r;l=i/r/p,s&&(l=-l)}if(e>0&&o){let p=(a.bottom-a.top)/o;c=e/o/p}let d=new V0;this.nodes.forEach(p=>{p.screenX=p.x*l,p.screenY=p.y*c,d.update(p,f=>({x:f.screenX,y:f.screenY}))});let u=-d.left,h=-d.top;this.nodes.forEach(p=>{p.screenX+=u+t,p.screenY+=h+n})}},_I=class extends _e{constructor(){super(...arguments),this.grid=!1}};m([x(et)],_I.prototype,"grid",2);var ma=(()=>{let i=class extends ar{constructor(e){let t=new or;t.paddingOuter=.1,t.paddingInner=t.paddingOuter*2,super(e,t),this.tickScale=new or,this.line=new gc,this.label=new _I,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:n,tickLabelGroup:s,gridLineGroup:r,tickScale:o}=this;o.paddingInner=1,o.paddingOuter=0,this.gridLineSelection=Kt.select(r,Ii),this.axisLineSelection=Kt.select(n,Ii),this.separatorSelection=Kt.select(n,Ii),this.labelSelection=Kt.select(s,lo),this.lineNode.visible=!1}updateRange(){let{range:e,visibleRange:t,scale:n}=this,s=(e[1]-e[0])/(t[1]-t[0]),r=s*t[0],o=e[0]-r;this.tickScale.range=n.range=[o,o+s],this.resizeTickTree()}resizeTickTree(){let e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,s=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*s,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-n.depth*s,t[1]-t[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){let{direction:e}=this,t=null,n=this.boundSeries.filter(r=>r.visible).flatMap(r=>{if(e==="y"||t)return r.getDomain(e);if(t===null){let o=r.getDomain(e);return t=Oi(o[0]),o}return[]});this.setDomain(Kn(n)??wu(n));let{domain:s}=this.dataDomain;this.tickTreeLayout=cN(nN(s)),this.tickScale.domain=s.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){this.title.caption.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((n,s)=>{n.setProperties(s)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:e}=this.computedLayout,{range:t}=this,n=1e-7;this.separatorSelection.update(e).each((r,o)=>{r.x1=o.x1,r.x2=o.x2,r.y1=o.y,r.y2=o.y,r.visible=this.tick.enabled&&o.y>=t[0]-n&&o.y<=t[1]+n,r.stroke=this.tick.stroke,r.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((n,s)=>{n.setProperties(s),n.stroke=this.line.stroke,n.strokeWidth=this.line.width})}updateCategoryGridLines(){let{gridLength:e,gridLine:t,label:n,range:s,tickScale:r}=this,o=r.ticks(),a=n.getSideFlag(),l=this.gridLineSelection.update(e?o:[]);if(e){let{width:c,style:d}=t,u=d.length;l.each((h,p,f)=>{let g=Math.round(r.convert(p)),{stroke:y,lineDash:v}=d[f%u];h.visible=t.enabled&&g>=s[0]&&g<=s[1],h.x1=0,h.x2=-a*e,h.y1=g,h.y2=g,h.stroke=y,h.strokeWidth=c,h.lineDash=v})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:e,label:t,label:{parallel:n},moduleCtx:{callbackCache:s},range:r,title:o,title:{formatter:a=L=>L.defaultValue}={}}=this,l=e.range[0],c=e.range[1],u=Math.abs(c-l)/e.domain.length||0,h=Math.ceil(t.fontSize/u),p=Je(this.rotation),f=Math.abs(Math.cos(p))<1e-8,g=t.getSideFlag(),y=this.lineHeight,v=this.tickTreeLayout,b=e.ticks(),M=v?v.nodes:[],I=v?v.depth>1:!1,D=o?.enabled&&b.length>0,{defaultRotation:A,configuredRotation:w,parallelFlipFlag:C}=tu({rotation:t.rotation,parallel:n,regularFlipRotation:Pt(p-Math.PI/2),parallelFlipRotation:Pt(p)}),_=[],T=L=>({fill:L.fill,fontFamily:L.fontFamily,fontSize:L.fontSize,fontStyle:L.fontStyle,fontWeight:L.fontWeight,rotation:L.rotation,rotationCenterX:L.rotationCenterX,rotationCenterY:L.rotationCenterY,text:L.text,textAlign:L.textAlign,textBaseline:L.textBaseline,translationX:L.translationX,translationY:L.translationY,visible:L.visible,x:L.x,y:L.y}),N=new Map,j=0,B=new lo,Z=(L,H)=>{if(H===0){if(D){let W=s.call(a,this.getTitleFormatterParams());return B.setProperties({text:W,fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,textAlign:"center",textBaseline:"hanging",translationX:L.screenY-o.fontSize*.25,translationY:L.screenX}),!0}return!1}return B.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:C===-1?"bottom":"hanging",translationX:L.screenY-t.fontSize*.25,translationY:L.screenX}),H%h!==0||L.screenX<r[0]||L.screenX>r[1]?!1:(t.formatter?B.text=s.call(t.formatter,{value:String(L.label),index:H})??String(L.label):B.text=String(L.label),!0)};M.forEach((L,H)=>{if(!Z(L,H))return;let X=B.getBBox();if(!X)return;N.set(H,X),!L.children.length&&X.width>j&&(j=X.width)});let $=g*t.padding,Q=this.label.grid,it=[];M.forEach((L,H)=>{let W=!L.children.length,X=Z(L,H);if(B.x=$,B.y=H===0&&D?o.spacing??0:0,B.rotationCenterX=$,W)B.rotation=w,B.textAlign="end",B.textBaseline="middle";else{let Dt=L.leafCount*u,Mt=N.get(H);B.translationX-=j-y+this.label.padding,Mt&&Mt.width>Dt?(X=!1,N.delete(H)):B.rotation=f?A:-Math.PI/2}if(L.parent&&I){let Dt=W?L.screenX-u/2:L.screenX-L.leafCount*u/2;if(W)(L.number!==L.children.length-1||Q)&&it.push({y:Dt,x1:0,x2:-j-this.label.padding*2});else{let Mt=-j-this.label.padding*2+L.screenY;it.push({y:Dt,x1:Mt+y,x2:Mt})}}let lt;if(X){let Dt=ne.toCanvas(B);Dt&&N.set(H,Dt),lt=E(S({},T(B)),{visible:X})}else N.delete(H),lt={visible:X};_.push(lt)});let rt=0;it.forEach(L=>rt=Math.min(rt,L.x2)),it.push({y:Math.max(l,c),x1:0,x2:rt});let ct=[],bt=[],nt=1e-7;it.forEach(L=>{if(L.y>=r[0]-nt&&L.y<=r[1]+nt){let{x1:H,x2:W,y:X}=L,lt=new G(Math.min(H,W),X,Math.abs(H-W),0);bt.push(lt),ct.push({x1:H,x2:W,y:X})}});let ht=[],Nt=[],vt=v?v.depth+1:1;for(let L=0;L<vt;L++){let H=b.length>0&&(L===0||Q&&I),W=L>0?-j-this.label.padding*2-(L-1)*y:0,X=new G(W,Math.min(...r),0,Math.abs(r[1]-r[0]));Nt.push(X),ht.push({x:W,y1:r[0],y2:r[1],visible:H})}let Qt=G.merge(Xs(N.values(),bt,Nt));return{bbox:this.getTransformBox(Qt),tickLabelLayout:_,separatorLayout:ct,axisLineLayout:ht}}calculateLayout(){let{axisLineLayout:e,separatorLayout:t,tickLabelLayout:n,bbox:s}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:n},{bbox:s,primaryTickCount:void 0}}};return i.className="GroupedCategoryAxis",i.type="grouped-category",i})();m([x(Lt,{optional:!0})],ma.prototype,"labelColor",2);var bc=class{constructor(){this.destroyFns=[]}destroy(){for(let i of this.destroyFns)i()}},EI=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...i){for(let e of i){this.registerDependencies(e);let t=this.modules.find(n=>e.type===n.type&&e.optionsKey===n.optionsKey&&e.identifier===n.identifier);if(t){if(e.packageType==="enterprise"&&t.packageType==="community"){let n=this.modules.indexOf(t);this.modules.splice(n,1,e)}}else this.modules.push(e)}}hasEnterpriseModules(){return this.modules.some(i=>i.packageType==="enterprise")}*byType(...i){let{dependents:e}=this,t=new Set,n=0,s=3,r=this.modules.filter(o=>i.includes(o.type));do{for(let o of r)if(!(t.has(o.optionsKey)||e.has(o.optionsKey))){yield o,t.add(o.optionsKey);for(let[a,l]of e.entries())l.delete(o.optionsKey),l.size===0&&e.delete(a)}n++}while(t.size<r.length&&n<s);if(e.size>0)throw new Error(`Could not resolve module dependencies: [${[...e.keys()]}]`)}registerDependencies(i){if(!(i.dependencies==null||i.dependencies.length===0)){for(let e of i.dependencies){let t=this.dependencies.get(e)??new Set;t.add(i.optionsKey),this.dependencies.set(e,t)}this.dependents.set(i.optionsKey,new Set(i.dependencies))}}},er=new EI;function uN(i){return new Promise(e=>{setTimeout(()=>e(void 0),i)})}var hN=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(i){return new Promise(e=>{this.acquireQueue.push([i,e]),this.available&&this.dispatchNext().catch(t=>R.errorOnce(t))})}async acquireImmediately(i){return this.available?(await this.acquire(i),!0):!1}async waitForClearAcquireQueue(){return this.acquire(async()=>{})}async dispatchNext(){this.available=!1;let[i,e]=this.acquireQueue.shift()??[];for(;i;){try{await i(),e?.()}catch(t){R.error("mutex callback error",t),e?.()}[i,e]=this.acquireQueue.shift()??[]}this.available=!0}},TI=class{constructor(){this.eventListeners=new Map}addEventListener(i,e){if(typeof e!="function")throw new Error("AG Charts - listener must be a Function");let t=this.eventListeners.get(i);t?t.add(e):this.eventListeners.set(i,new Set([e]))}removeEventListener(i,e){this.eventListeners.get(i)?.delete(e),this.eventListeners.size===0&&this.eventListeners.delete(i)}hasEventListener(i){return this.eventListeners.has(i)}clearEventListeners(){this.eventListeners.clear()}fireEvent(i){this.eventListeners.get(i.type)?.forEach(e=>e(i))}},mr=class extends ft{constructor(i=0,e=i,t=i,n=e){super(),this.top=i,this.right=e,this.bottom=t,this.left=n}};m([x(F)],mr.prototype,"top",2);m([x(F)],mr.prototype,"right",2);m([x(F)],mr.prototype,"bottom",2);m([x(F)],mr.prototype,"left",2);function pN(i){return LI((e,t)=>je().requestAnimationFrame(e),i)}function fN(i){return LI((e,t=0)=>setTimeout(e,t),i)}function LI(i,e){let t=0,n=!1,s,r,o=()=>n,a=()=>{n=!1,r?.(),r=void 0,s=void 0,t>0&&i(l)},l=()=>{let c=t;t=0,n=!0;let d=e({count:c});if(!d){a();return}d.then(a,a)};return{schedule(c){t===0&&!o()&&i(l,c),t++},async await(){if(o())for(s==null&&(s=new Promise(c=>{r=c}));o();)await s}}}var NI=class{constructor(){this.events=new Map}on(i,e){return this.events.has(i)||this.events.set(i,new Set),this.events.get(i)?.add(e),()=>this.off(i,e)}off(i,e){let t=this.events.get(i);t&&(t.delete(e),t.size===0&&this.events.delete(i))}emit(i,e){this.events.get(i)?.forEach(t=>t(e))}clear(i){i?this.events.delete(i):this.events.clear()}},tg=(i=>(i[i.Caption=0]="Caption",i[i.Legend=1]="Legend",i[i.Toolbar=2]="Toolbar",i[i.Navigator=3]="Navigator",i[i.Overlay=4]="Overlay",i))(tg||{}),kI=class{constructor(){this.events=new NI,this.elements=new Map}addListener(i,e){return this.events.on(i,e)}registerElement(i,e){return this.elements.has(i)?this.elements.get(i).add(e):this.elements.set(i,new Set([e])),()=>this.elements.get(i)?.delete(e)}createContext(i,e){let t=new mN(i,e);for(let n of Object.values(tg))typeof n=="number"&&this.elements.get(n)?.forEach(s=>s(t));return t}emitLayoutComplete(i,e){let t="layout:complete",{width:n,height:s}=i;this.events.emit(t,{type:t,axes:e.axes??[],chart:{width:n,height:s},clipSeries:e.clipSeries??!1,series:e.series})}},mN=class{constructor(i,e){this.width=i,this.height=e,this.layoutBox=new G(0,0,i,e)}},zu=class{constructor(){this.title=new Xt,this.subtitle=new Xt,this.footnote=new Xt}positionCaptions(i){let{title:e,subtitle:t,footnote:n}=this,s=i.layoutBox.height/10;if(e.enabled){let{spacing:r=t.enabled?Xt.SMALL_PADDING:Xt.LARGE_PADDING}=e;this.positionCaption("top",e,i.layoutBox,s),this.shrinkLayoutByCaption("top",e,i.layoutBox,r)}t.enabled&&(this.positionCaption("top",t,i.layoutBox,s),this.shrinkLayoutByCaption("top",t,i.layoutBox,t.spacing)),n.enabled&&(this.positionCaption("bottom",n,i.layoutBox,s),this.shrinkLayoutByCaption("bottom",n,i.layoutBox,n.spacing))}positionAbsoluteCaptions(i){let{title:e,subtitle:t,footnote:n}=this,{rect:s}=i.series;for(let r of[e,t,n])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=s.x+r.padding;else if(r.textAlign==="right"){let o=r.node.getBBox();r.node.x=s.x+s.width-o.width-r.padding}}}computeX(i,e){return i==="left"?e.x:i==="right"?e.x+e.width:e.x+e.width/2}positionCaption(i,e,t,n){let s=Math.max(ve.getLineHeight(e.fontSize),n);e.node.x=this.computeX(e.textAlign,t)+e.padding,e.node.y=t.y+(i==="top"?0:t.height)+e.padding,e.node.textBaseline=i,e.computeTextWrap(t.width,s)}shrinkLayoutByCaption(i,e,t,n=0){if(e.layoutStyle==="block"){let s=e.node.getBBox();t.shrink(Math.ceil(i==="top"?s.y-t.y+s.height+n:t.y+t.height-s.y+n),i)}}};m([x(Y)],zu.prototype,"title",2);m([x(Y)],zu.prototype,"subtitle",2);m([x(Y)],zu.prototype,"footnote",2);var bo=class{constructor(){this.registeredListeners=new Map}addListener(i,e){let t={symbol:Symbol(i),handler:e};return this.registeredListeners.has(i)?this.registeredListeners.get(i).push(t):this.registeredListeners.set(i,[t]),()=>this.removeListener(t.symbol)}removeListener(i){for(let[e,t]of this.registeredListeners.entries()){let n=t.findIndex(s=>s.symbol===i);if(n>=0){t.splice(n,1),t.length===0&&this.registeredListeners.delete(e);break}}}dispatch(i,...e){for(let t of this.getListenersByType(i))try{t.handler(...e)}catch(n){R.errorOnce(n)}}dispatchWrapHandlers(i,e,...t){for(let n of this.getListenersByType(i))try{e(n.handler,...t)}catch(s){R.errorOnce(s)}}getListenersByType(i){return this.registeredListeners.get(i)??[]}destroy(){this.registeredListeners.clear()}},Qn=class{constructor(){this.listeners=new bo,this.destroyFns=[]}addListener(i,e){return this.listeners.addListener(i,e)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(i=>i())}},Bu=(i=>(i[i.Default=32]="Default",i[i.ZoomDrag=16]="ZoomDrag",i[i.Annotations=8]="Annotations",i[i.ContextMenu=4]="ContextMenu",i[i.Animation=2]="Animation",i[i.AnnotationsSelected=1]="AnnotationsSelected",i[i.All=63]="All",i))(Bu||{}),RI=class extends Qn{addListener(i,e,t=32){return super.addListener(i,n=>{this.getState()&t&&e(n)})}},OI=class{constructor(){this.destroyFns=[]}destroy(){this.destroyFns.forEach(i=>i()),this.destroyFns.length=0}setFns(i){this.destroy(),this.destroyFns=i}},iu="10.3.0",U0=Symbol("previous-memento-not-found"),gN=class{constructor(i){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=Wt.create(!0,"history"),this.destroyFns=new OI,this.destroyFns.setFns([i.addListener("undo",this.undo.bind(this),63),i.addListener("redo",this.redo.bind(this),63)])}destroy(){this.destroyFns.destroy()}addMementoOriginator(i){this.originators.set(i.mementoOriginatorKey,i),this.clearState.set(i.mementoOriginatorKey,i.createMemento()),this.debugEvent("History add originator:",i.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(let[i,e]of this.originators.entries())this.clearState.set(i,e.createMemento())}record(i,...e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));let t=new Map;for(let n of e){if(!this.originators.has(n.mementoOriginatorKey))throw new Error(`Originator [${n.mementoOriginatorKey}] has not been added to the HistoryManager.`);t.set(n.mementoOriginatorKey,n.createMemento())}this.history.push({label:i,mementos:t}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${i}]`)}undo(){let i=this.history[this.historyIndex];if(i){for(let e of i.mementos.keys()){let t=this.findPreviousMemento(e);if(t===U0)throw new Error(`Could not find previous memento for [${e}].`);this.restoreMemento(e,t)}this.historyIndex-=1,this.debugEvent(`History undo: [${i.label}]`)}}redo(){let i=this.history[this.historyIndex+1];if(i){for(let[e,t]of i.mementos.entries())this.restoreMemento(e,t);this.historyIndex+=1,this.debugEvent(`History redo: [${i.label}]`)}}findPreviousMemento(i){for(let e=this.historyIndex-1;e>=0;e--)if(this.history[e].mementos.has(i))return this.history[e].mementos.get(i);return this.clearState.has(i)?this.clearState.get(i):U0}restoreMemento(i,e){this.originators.get(i)?.restoreMemento(iu,iu,e)}debugEvent(...i){this.debug(...i,this.history.map((e,t)=>t===this.historyIndex?`** ${e.label} **`:e.label))}},PI=class{constructor(i){this.version=i.split("-")[0]}save(...i){let e={version:this.version};for(let t of Object.values(i))e[t.mementoOriginatorKey]=this.encode(t,t.createMemento());return e}restore(i,...e){if(typeof i!="object"){R.warnOnce(`Could not restore data of type [${typeof i}], expecting an object, ignoring.`);return}if(i==null){R.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in i)||typeof i.version!="string"){R.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let t of e){if(!(t.mementoOriginatorKey in i))continue;let n=this.decode(t,i[t.mementoOriginatorKey]);if(!t.guardMemento(n)){R.warnOnce(`Could not restore [${t.mementoOriginatorKey}] data, value was invalid, ignoring.`,n);return}t.restoreMemento(this.version,i.version,n)}}encode(i,e){try{return JSON.parse(JSON.stringify(e,this.encodeTypes))}catch(t){throw new Error(`Failed to encode [${i.mementoOriginatorKey}] value [${t}].`,{cause:t})}}decode(i,e){try{return JSON.parse(JSON.stringify(e),this.decodeTypes)}catch(t){throw new Error(`Failed to decode [${i.mementoOriginatorKey}] value [${t}].`,{cause:t})}}encodeTypes(i,e){return cc(this[i])?{__type:"date",value:String(this[i])}:e}decodeTypes(i,e){return hi(this[i])&&"__type"in this[i]&&this[i].__type==="date"?new Date(this[i].value):e}},yN=class{constructor(){this.caretaker=new PI(iu),this.state=new Map}setState(i,e){cn(this.state.get(i.mementoOriginatorKey),e)!=null&&(this.state.set(i.mementoOriginatorKey,e),this.restoreState(i))}restoreState(i){let{caretaker:e,state:t}=this;if(!t.has(i.mementoOriginatorKey))return;let n=t.get(i.mementoOriginatorKey);e.restore({version:e.version,[i.mementoOriginatorKey]:n},i)}},bN=`.ag-charts-wrapper,.ag-charts-wrapper:focus,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:focus,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative;user-select:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{display:block;pointer-events:none}.ag-charts-series-area{opacity:0;pointer-events:auto;position:absolute}.ag-charts-series-area:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-active-color: var(--ag-active-color, #2196f3);--ag-charts-background-color: var(--ag-background-color, #fff);--ag-charts-foreground-color: var(--ag-foreground-color, #181d1f);--ag-charts-border-color: var(--ag-border-color, #dddddd);--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12%);--ag-charts-font-family: "Verdana", sans-serif;--ag-charts-font-size: var(--ag-font-size, 14px);--ag-charts-size: var(--ag-grid-size, 8px);--ag-charts-border: var(--ag-charts-border-color) var(--ag-borders, solid 1px);--ag-charts-border-critical: var(--ag-borders-critical, solid 1px);--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1;--ag-charts-align: center;--ag-charts-justify: center;--ag-charts-axis-label-background-color: #474747;--ag-charts-axis-label-color: #ffffff;--ag-charts-toolbar-foreground-color: var(--ag-header-foreground-color, var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color: var( --ag-header-background-color, color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 2%) );--ag-charts-toolbar-size: 34px;--ag-charts-toolbar-size-small: 24px;--ag-charts-toolbar-border: var(--ag-charts-border-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 12% );--ag-charts-toolbar-focus-color: var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color: var(--ag-charts-toolbar-hover-color);--ag-charts-toolbar-active-color: var(--ag-charts-active-color);--ag-charts-toolbar-disabled-foreground-color: var( --ag-disabled-foreground-color, color-mix(in srgb, transparent, var(--ag-charts-toolbar-foreground-color) 50%) );--ag-charts-toolbar-disabled-background-color: color-mix( in srgb, var(--ag-charts-toolbar-background-color), var(--ag-charts-toolbar-foreground-color) 6% );--ag-charts-toolbar-gap: var(--ag-charts-size);--ag-charts-toolbar-font-size: 13px;--ag-charts-toolbar-font-size-small: 12px;--ag-charts-toolbar-button-padding: 6px;--ag-charts-toolbar-button-padding-small: 1px;--ag-charts-popover-background-color: var(--ag-charts-toolbar-background-color);--ag-charts-popover-foreground-color: var(--ag-charts-toolbar-foreground-color);--ag-charts-popover-border: var(--ag-charts-toolbar-border);--ag-charts-popover-border-radius: var(--ag-border-radius, 4px);--ag-charts-popover-active-color: var(--ag-charts-toolbar-active-color);--ag-charts-popover-hover-color: var(--ag-charts-toolbar-hover-color);--ag-charts-popover-active-background-color: var(--ag-charts-toolbar-active-background-color);--ag-charts-popover-font-size: 14px;--ag-charts-popover-font-size-small: var(--ag-charts-toolbar-font-size-small);--ag-charts-dialog-input-group-label-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-dialog-tab-color--inactive: color-mix(in srgb, transparent, var(--ag-charts-foreground-color) 55%);--ag-charts-button-radius: var(--ag-border-radius, 4px);--ag-charts-focus-border-color: var(--ag-input-focus-border-color, var(--ag-charts-active-color));--ag-charts-focus-border: solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-focus-box-shadow: var(--box-shadow), 0 0 0 2px #fff8, var(--ag-charts-focus-border-shadow);--ag-charts-icon-font-family: "agChartsDefault";--ag-charts-icon-font-weight: normal;--ag-charts-icon-font-color: color-mix(in srgb, transparent, var(--ag-charts-foreground-color), 90%);--ag-charts-icon-size: 20px;--ag-charts-input-background-color: var(--ag-charts-background-color);--ag-charts-input-background-color--hover: var(--ag-charts-hover-color);--ag-charts-input-background-color--active: var(--ag-charts-hover-color);--ag-charts-input-border-color: var(--ag-charts-border-color);--ag-charts-input-border-color--active: var(--ag-charts-active-color);--ag-charts-input-border-radius: var(--ag-border-radius, 4px);--ag-charts-input-color--active: var(--ag-charts-active-color);--ag-charts-input-focus-outline: var(--ag-charts-focus-border);--ag-charts-input-focus-box-shadow: var(--ag-charts-focus-border-shadow);--ag-charts-input-font-family: var(--ag-charts-font-family);--ag-charts-input-font-size: var(--ag-charts-font-size);--ag-charts-input-padding: 8px;--ag-charts-input-padding-large: 10px;--ag-charts-input-placeholder-color: #888888;--ag-charts-input-spacing: 8px;--ag-charts-input-transition-duration: .25s;--ag-charts-input-transition-duration--fast: .1s;--ag-charts-input-transition-timing-function: ease-out;--ag-charts-input-checkbox-background-color: #babbbc;--ag-charts-input-checkbox-background-color--checked: var(--ag-charts-active-color)}.ag-charts-theme-default-dark{--ag-charts-background-color: var(--ag-background-color, color-mix(in srgb, #fff, #182230 97%));--ag-charts-foreground-color: var(--ag-foreground-color, #fff);--ag-charts-border-color: var(--ag-border-color, rgba(255, 255, 255, .16));--ag-charts-hover-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18%);--ag-charts-axis-label-background-color: #9caebb;--ag-charts-axis-label-color: #000000;--ag-charts-toolbar-background-color: var(--ag-header-background-color, color-mix(in srgb, #fff, #182230 93%));--ag-charts-toolbar-hover-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-active-color) 18% );--ag-charts-dialog-input-group-label-text-color: #ffffff;--ag-charts-focus-border-shadow: var( --ag-input-focus-box-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color, var(--ag-charts-active-color)) 20%) );--ag-charts-input-placeholder-color: #aaaaaa}.ag-charts-icon{display:block;width:var(--ag-charts-icon-size);height:var(--ag-charts-icon-size);speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt,.ag-charts-icon-zoom-in-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt,.ag-charts-icon-zoom-out-alt-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line-legacy{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;color:inherit;font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);transition-duration:var(--ag-charts-input-transition-duration);transition-property:none;transition-timing-function:var(--ag-charts-input-transition-timing-function)}.ag-charts-input:focus-visible{outline:var(--ag-charts-input-focus-outline);box-shadow:var(--ag-charts-input-focus-box-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);cursor:pointer;padding:var(--ag-charts-input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-input-background-color--hover)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{appearance:none;background:var(--ag-charts-input-checkbox-background-color);border-radius:9px;cursor:pointer;height:18px;margin:0;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:7px;content:" ";height:14px;margin:2px;transition-duration:var(--ag-charts-input-transition-duration--fast);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-input-checkbox-background-color--checked)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--line-height: 1.38;background:var(--ag-charts-input-background-color);border:1px solid var(--ag-charts-input-border-color);border-radius:var(--ag-charts-input-border-radius);line-height:var(--line-height);font-family:var(--ag-charts-input-font-family);font-size:var(--ag-charts-input-font-size);padding:var(--ag-charts-input-padding-large) var(--ag-charts-input-padding)}.ag-charts-textarea[placeholder]:empty:before{color:var(--ag-charts-input-placeholder);content:attr(placeholder)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:none;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.ag-charts-toolbar--hidden,.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity .4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size: var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size: var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding: var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px;overflow:hidden}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,.ag-charts-toolbar--left .ag-charts-toolbar__align--end,.ag-charts-toolbar--right .ag-charts-toolbar__align--center,.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform .4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font:var(--ag-charts-toolbar-font-size) var(--ag-charts-font-family);justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;position:relative;white-space:nowrap;--stroke-width-color: var(--ag-charts-toolbar-foreground-color)}.ag-charts-toolbar__no-pointer-events{pointer-events:none}.ag-charts-toolbar__button--drag-handle{min-width:24px;padding-left:0;padding-right:0}.ag-charts-toolbar__button--with-transition{transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out}.ag-charts-toolbar__button[data-toolbar-group=ranges]{padding:var(--ag-charts-toolbar-button-padding) calc(var(--ag-charts-toolbar-button-padding) * 1.5)}.ag-charts-toolbar--top,.ag-charts-toolbar--bottom,.ag-charts-toolbar--floating,.ag-charts-toolbar--floating-top,.ag-charts-toolbar--floating-bottom{.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar--left,.ag-charts-toolbar--right{.ag-charts-toolbar__button{border-radius:0;margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}}.ag-charts-toolbar__button--hidden-value,.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover:not([aria-disabled=true],.ag-charts-toolbar__button--drag-handle){background:var(--ag-charts-toolbar-hover-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);border-color:var(--ag-charts-toolbar-active-color);color:var(--ag-charts-toolbar-active-color);z-index:2;--stroke-width-color: var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled=true]){cursor:pointer}.ag-charts-toolbar__button.ag-charts-toolbar__button--drag-handle{cursor:grab}.ag-charts-toolbar__button.ag-charts-toolbar__button--dragging{cursor:grabbing}.ag-charts-toolbar__button--fill-visible:after{content:"";display:block;position:absolute;bottom:3px;left:5px;right:5px;height:4px;border-radius:99px;box-shadow:inset 0 0 0 1px color-mix(in srgb,var(--ag-charts-foreground-color) 10%,transparent);background:var(--fill)}.ag-charts-toolbar__button--fill-visible[aria-disabled=true]:after{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__button--stroke-width-visible:before{content:"";height:min(var(--strokeWidth),20px);width:12px;background:var(--stroke-width-color);margin-right:var(--ag-charts-toolbar-button-padding)}.ag-charts-toolbar__button--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#fff}.ag-chart-overlay--loading{color:#8c8c8c}.ag-chart-overlay__loading-background{background:#fff;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}.ag-chart-tooltip{transition:transform .1s ease;width:max-content;z-index:99999;font:12px Verdana,sans-serif;color:#464646;box-shadow:0 4px 8px #00000014}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:#fff;background-color:#888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,.15);text-overflow:inherit}.ag-chart-tooltip-arrow:before{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow:after{content:"";position:absolute;top:calc(100% - 1px);left:50%;transform:translate(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}
`;function ms(i,e,t,n){e.addEventListener(t,n);let s=()=>e.removeEventListener(t,n);return i.push(s),s}function jI(i,e,t){ms(i,e,"keydown",n=>{n.key==="Escape"&&t(n)})}function vN(i,e,t){let n=ms(i,window,"mousedown",s=>{[0,2].includes(s.button)&&!xN(e,s)&&(t(),n())});return n}function xN(i,e){if(e.target instanceof Element){let{x:t,y:n,width:s,height:r}=i.getBoundingClientRect(),{clientX:o,clientY:a}=e;return o>=t&&a>=n&&o<=t+s&&a<=n+r}return!1}function FI(i){return!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey)}function eg(i,e,...t){return FI(i)&&(i.key===e||t.some(n=>i.key===n))}function G0(i,e,t,n){t&&ms(i,e,"keydown",s=>{eg(s,n)&&t.focus()})}function MN(i,e,t,n,s,r){G0(i,e,s,r),G0(i,e,t,n),ms(i,e,"keydown",o=>{eg(o,n,r)&&o.preventDefault()})}var zI={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function ig(i){return i.toolbar.role="toolbar",i.toolbar.ariaOrientation=i.orientation,i.toolbar.ariaHidden=(i.buttons.length===0).toString(),Ql(i)}function Ql(i){let{orientation:e,buttons:t,wrapAround:n=!1,onEscape:s,onFocus:r,onBlur:o}=i,{nextKey:a,prevKey:l}=zI[e],c=p=>{p.target&&"tabIndex"in p.target&&(t.forEach(f=>f.tabIndex=-1),p.target.tabIndex=0)},[d,u]=n?[t.length,t.length]:[0,1/0],h=[];for(let p=0;p<t.length;p++){let f=t[(d+p-1)%u],g=t[p],y=t[(d+p+1)%u];ms(h,g,"focus",c),r&&ms(h,g,"focus",r),o&&ms(h,g,"blur",o),s&&jI(h,g,s),MN(h,g,f,l,y,a),g.tabIndex=p===0?0:-1}return h}var IN=class{constructor(i,e,t){this.lastFocus=e,this.closeCallback=t,this.destroyFns=[],this.destroyFns.push(vN(this.destroyFns,i,()=>this.close()))}close(){this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,this.closeCallback(),this.finishClosing()}finishClosing(){this.destroyFns.forEach(i=>i()),this.destroyFns.length=0,Ai(this.lastFocus,"aria-expanded",!1),this.lastFocus?.focus(),this.lastFocus=void 0}};function SN(i){let{sourceEvent:e,orientation:t,menu:n,buttons:s,closeCallback:r,autoCloseOnBlur:o=!1}=i,{nextKey:a,prevKey:l}=zI[t],c=VI(e);Ai(c,"aria-expanded",!0);let d=new IN(n,c,r),u=()=>d.close(),{destroyFns:h}=d;if(n.role="menu",n.ariaOrientation=t,h.push(...Ql({orientation:t,buttons:s,onEscape:u,wrapAround:!0})),n.tabIndex=-1,jI(h,n,u),ms(h,n,"keydown",p=>{p.target===n&&(p.key===a||p.key===l)&&(p.preventDefault(),s[0]?.focus())}),o){let p=f=>{!s.includes(f.relatedTarget)&&u()};for(let f of s)ms(h,f,"blur",p)}return s[0]?.focus(),d}function Xf(i,e){return t=>{if(i.ariaDisabled==="true")return t.preventDefault();e(t)}}function BI(i){return"button"in i?i.button===0:FI(i)&&(i.code==="Space"||i.key==="Enter")}function VI(i){if(i?.target instanceof HTMLElement&&"tabindex"in i.target.attributes)return i.target}function UI(i){let e=t=>{if(t.defaultPrevented)return;rI(t.target,"data-preventdefault",!0)&&eg(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()};return i.addEventListener("keydown",e),()=>i.removeEventListener("keydown",e)}var DN=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([i,e])=>this.observe(i,e)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(i=>{for(let{target:e,contentRect:{width:t,height:n}}of i){let s=this.elements.get(e);this.checkSize(s,e,t,n)}}),this.documentReady=An("readyState")==="complete",this.documentReady||je()?.addEventListener("load",this.onLoad))}destroy(){je()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(i,e,t,n){i&&(t!==i.size?.width||n!==i.size?.height)&&(i.size={width:t,height:n},i.cb(i.size,e))}observe(i,e){if(!this.documentReady){this.queuedObserveRequests.push([i,e]);return}this.elements.has(i)?this.removeFromQueue(i):this.resizeObserver?.observe(i);let t={cb:e};this.elements.set(i,t)}unobserve(i){this.resizeObserver?.unobserve(i),this.elements.delete(i),this.removeFromQueue(i),this.elements.size||this.destroy()}removeFromQueue(i){this.queuedObserveRequests=this.queuedObserveRequests.filter(([e])=>e!==i)}},AN='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="img" class="ag-charts-series-area" tabindex="-1"></div></div><div role="presentation" class="ag-charts-canvas-overlay"></div></div></div></div>',wN=["styles","canvas","canvas-center","canvas-overlay","canvas-proxy","series-area"],CN=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}]]);function _N(i,e){if(typeof IntersectionObserver>"u")return;let t=new IntersectionObserver(n=>{for(let s of n)s.target===i&&e(s.intersectionRatio)},{root:i});return t.observe(i),t}var GI={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return GI}},HI=class extends Qn{constructor(i){super(),this.styles=new Map,this.container=void 0,this.containerSize=void 0,this.sizeMonitor=new DN;let e=Ot("div");e.innerHTML=AN,this.element=e.children.item(0),this.rootElements=wN.reduce((n,s)=>{let r=`ag-charts-${s}`,o=this.element.classList.contains(r)?this.element:this.element.querySelector(`.${r}`);if(!o)throw new Error(`AG Charts - unable to find DOM element ${r}`);return n[s]={element:o,children:new Map,listeners:[]},n},{});let t=!1;this.observer=_N(this.element,n=>{n===0&&!t&&this.listeners.dispatch("hidden",{type:"hidden"}),t=n===0}),this.setSizeOptions(),this.addStyles("ag-charts-community",bN),i&&this.setContainer(i),this.destroyFns.push(UI(this.element))}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(i=>{i.children.forEach(e=>e.remove()),i.element.remove()}),this.element.remove()}setSizeOptions(i=300,e=300,t,n){let{style:s}=this.element;s.width=`${t??i}px`,s.height=`${n??e}px`}updateContainerSize(){let{style:i}=this.rootElements["canvas-center"].element;i.width=`${this.containerSize?.width??0}px`,i.height=`${this.containerSize?.height??0}px`}setContainer(i){if(i===this.container)return;if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),!(this.getShadowDocumentRoot(i)!=null))for(let t of this.rootElements.styles.children.keys())this.removeChild("styles",t);this.container=i;for(let[t,n]of this.styles)this.addStyles(t,n);i.appendChild(this.element),this.sizeMonitor.observe(i,t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.listeners.dispatch("container-changed",{type:"container-changed"})}setThemeClass(i){let e="ag-charts-theme-";this.element.classList.forEach(t=>{t.startsWith(e)&&t!==i&&this.element.classList.remove(t)}),this.element.classList.add(i)}setTabIndex(i){this.rootElements["series-area"].element.tabIndex=i}updateCanvasLabel(i){Ai(this.rootElements["canvas-proxy"].element,"aria-label",i)}getEventElement(i,e){return["focus","blur","keydown","keyup"].includes(e)?this.rootElements["series-area"].element:i}addEventListener(i,e,t){this.getEventElement(this.element,i).addEventListener(i,e,t)}removeEventListener(i,e,t){this.getEventElement(this.element,i).removeEventListener(i,e,t)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){let i=je(),e=new G(0,0,i.innerWidth,i.innerHeight),t=this.getRawOverlayClientRect(),n=G.fromDOMRect(t??this.getBoundingClientRect());return e.intersection(n)?.toDOMRect()??GI}getRawOverlayClientRect(){let i=this.element;for(;i!=null;){let t=i.computedStyleMap?.(),n=t?.get("overflow-x")?.toString(),s=t?.get("overflow-y")?.toString();if(n!=null&&n!=="visible"||s&&s!=="visible")return i.getBoundingClientRect();i=i.parentElement}let e=this.getShadowDocumentRoot();if(e)return e.getBoundingClientRect()}getShadowDocumentRoot(i=this.container){let e=i?.ownerDocument?.body??An("body");for(;i!=null;){if(i===e)return;if(i.parentNode instanceof DocumentFragment)return i;i=i.parentNode}}getChildBoundingClientRect(i){let{children:e}=this.rootElements[i],t=[];for(let n of e.values())t.push(G.fromDOMRect(n.getBoundingClientRect()));return G.merge(t)}calculateCanvasPosition(i){let e=0,t=0,{x:n=0,y:s=0}=this.getChildBoundingClientRect("canvas")??{},r=i.getBoundingClientRect();return e=r.x-n,t=r.y-s,{x:e,y:t}}isManagedChildDOMElement(i,e,t){let{children:n}=this.rootElements[e],s=n?.get(t);return s!=null&&i.contains(s)}isEventOverElement(i){let e=i.target;return e!=null&&this.element.contains(e)}addStyles(i,e){if(this.styles.set(i,e),this.container==null)return;let t="data-ag-charts",n=this.getShadowDocumentRoot(),s;if(n!=null)s=this.addChild("styles",i);else{let r=An("head");for(let o of r.children)if(o.getAttribute(t)===i)return;s=Ot("style"),r.appendChild(s)}s.getAttribute(t)!==i&&(s.setAttribute(t,i),s.innerHTML=e)}removeStyles(i){this.removeChild("styles",i)}updateCursor(i){this.element.style.cursor=i}getCursor(){return this.element.style.cursor}addChild(i,e,t,n){let{element:s,children:r,listeners:o}=this.rootElements[i];if(!r)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(r.has(e))return r.get(e);let{childElementType:a="div"}=CN.get(i)??{};if(t&&t.tagName.toLowerCase()!==a.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let l=t??Ot(a);for(let[c,d,u]of o)l.addEventListener(c,d,u);if(r.set(e,l),n){let c=s.querySelector(n.query);if(c==null)throw new Error(`AG Charts - addChild query failed ${n.query}`);c.insertAdjacentElement(n.where,l)}else s?.appendChild(l);return l}removeChild(i,e){let{children:t}=this.rootElements[i];t&&(t.get(e)?.remove(),t.delete(e))}incrementDataCounter(i){let{dataset:e}=this.element;e[i]??(e[i]="0"),e[i]=String(Number(e[i])+1)}setDataBoolean(i,e){this.element.dataset[i]=String(e)}getIconClassNames(i){return`ag-charts-icon ag-charts-icon-${i}`}};function EN(i,e){let t=-e/i;return i!==0&&t>=0&&t<=1?[t]:[]}function TN(i,e,t){if(i===0)return EN(e,t);let n=e*e-4*i*t,s=[];if(n===0){let r=-e/(2*i);r>=0&&r<=1&&s.push(r)}else if(n>0){let r=Math.sqrt(n),o=(-e-r)/(2*i),a=(-e+r)/(2*i);o>=0&&o<=1&&s.push(o),a>=0&&a<=1&&s.push(a)}return s}function LN(i,e,t,n){if(i===0)return TN(e,t,n);let s=e/i,r=t/i,o=n/i,a=(3*r-s*s)/9,l=(9*s*r-27*o-2*s*s*s)/54,c=a*a*a+l*l,d=1/3,u=[];if(c>=0){let h=Math.sqrt(c),p=Math.sign(l+h)*Math.pow(Math.abs(l+h),d),f=Math.sign(l-h)*Math.pow(Math.abs(l-h),d),g=Math.abs(Math.sqrt(3)*(p-f)/2),y=-d*s+(p+f);if(y>=0&&y<=1&&u.push(y),g===0){let v=-d*s-(p+f)/2;v>=0&&v<=1&&u.push(v)}}else{let h=Math.acos(l/Math.sqrt(-a*a*a)),p=d*s,f=2*Math.sqrt(-a),g=f*Math.cos(d*h)-p,y=f*Math.cos(d*(h+2*Math.PI))-p,v=f*Math.cos(d*(h+4*Math.PI))-p;g>=0&&g<=1&&u.push(g),y>=0&&y<=1&&u.push(y),v>=0&&v<=1&&u.push(v)}return u}function ia(i,e,t,n,s,r,o,a){let l=(t-i)*(a-r)-(n-e)*(o-s);if(l===0)return 0;let c=((o-s)*(e-r)-(i-s)*(a-r))/l,d=((t-i)*(e-r)-(n-e)*(i-s))/l;return c>=0&&c<=1&&d>=0&&d<=1?1:0}function NN(i,e,t,n,s,r,o,a,l,c,d,u){let h=0,p=c-u,f=d-l,g=l*(u-c)-c*(d-l),y=H0(i,t,s,o),v=H0(e,n,r,a),b=p*y[0]+f*v[0],M=p*y[1]+f*v[1],I=p*y[2]+f*v[2],D=p*y[3]+f*v[3]+g,A=LN(b,M,I,D);for(let w of A){let C=w*w,_=w*C,T=y[0]*_+y[1]*C+y[2]*w+y[3],N=v[0]*_+v[1]*C+v[2]*w+v[3],j;l===d?j=(N-c)/(u-c):j=(T-l)/(d-l),j>=0&&j<=1&&h++}return h}function H0(i,e,t,n){return[-i+3*e-3*t+n,3*i-6*e+3*t,-3*i+3*e,i]}function YI(i,e,t,n,s,r,o,a,l,c){if(isNaN(i)||isNaN(e))return 0;r&&([s,n]=[n,s]);let d=(c-a)/(l-o),u=a-d*o,h=Math.pow(d,2)+1,p=2*(d*(u-e)-i),f=Math.pow(i,2)+Math.pow(u-e,2)-Math.pow(t,2),g=Math.pow(p,2)-4*h*f;if(g<0)return 0;let y=(-p+Math.sqrt(g))/2/h,v=(-p-Math.sqrt(g))/2/h,b=0;return[y,v].forEach(M=>{if(!(M>=Math.min(o,l)&&M<=Math.max(o,l)))return;let D=d*M+u,A=M-i,w=D-e,C=Math.atan2(w,A);rn(C,n,s)&&b++}),b}function nu(i,e,t,n,s){return(1-s)**3*i+3*(1-s)**2*s*e+3*(1-s)*s**2*t+s**3*n}function su(i,e,t,n,s){if(s<=Math.min(i,n))return i<n?0:1;if(s>=Math.max(i,n))return i<n?1:0;let r=0,o=1,a=NaN;for(let l=0;l<12;l+=1)a=(r+o)/2,nu(i,e,t,n,a)<s?r=a:o=a;return a}function ru(i,e,t,n,s,r,o,a,l){let c=(1-l)*i+l*t,d=(1-l)*e+l*n,u=(1-l)*t+l*s,h=(1-l)*n+l*r,p=(1-l)*s+l*o,f=(1-l)*r+l*a,g=(1-l)*c+l*u,y=(1-l)*d+l*h,v=(1-l)*u+l*p,b=(1-l)*h+l*f,M=(1-l)*g+l*v,I=(1-l)*y+l*b;return[[{x:i,y:e},{x:c,y:d},{x:g,y},{x:M,y:I}],[{x:M,y:I},{x:v,y:b},{x:p,y:f},{x:o,y:a}]]}function Qf(i,e,t,n){let s=-i+3*e-3*t+n,r=3*i-6*e+3*t,o=-3*i+3*e;if(s===0){if(r!==0){let l=-o/r;if(l>0&&l<1)return[l]}return[]}let a=r*r-4*s*o;if(a>=0){let l=Math.sqrt(a),c=(-r+l)/(2*s),d=(-r-l)/(2*s);return[c,d].filter(u=>u>0&&u<1)}return[]}function WI(i,e,t,n,s,r,o,a){let l=Qf(i,t,s,o),c=Qf(e,n,r,a);return[...l,...c]}var ql=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(i,e){this.openedPath=!0,this.path2d.moveTo(i,e),this.commands.push(0),this.params.push(i,e)}lineTo(i,e){this.openedPath?(this.path2d.lineTo(i,e),this.commands.push(1),this.params.push(i,e)):this.moveTo(i,e)}rect(i,e,t,n){this.moveTo(i,e),this.lineTo(i+t,e),this.lineTo(i+t,e+n),this.lineTo(i,e+n),this.closePath()}roundRect(i,e,t,n,s){s=Math.min(s,t/2,n/2),this.moveTo(i,e+s),this.arc(i+s,e+s,s,Math.PI,1.5*Math.PI),this.lineTo(i+s,e),this.lineTo(i+t-s,e),this.arc(i+t-s,e+s,s,1.5*Math.PI,2*Math.PI),this.lineTo(i+t,e+s),this.lineTo(i+t,e+n-s),this.arc(i+t-s,e+n-s,s,0,Math.PI/2),this.lineTo(i+t-s,e+n),this.lineTo(i+s,e+n),this.arc(i+ +s,e+n-s,s,Math.PI/2,Math.PI),this.lineTo(i,e+n-s),this.closePath()}arc(i,e,t,n,s,r){this.openedPath=!0,this.path2d.arc(i,e,t,n,s,r),this.commands.push(2),this.params.push(i,e,t,n,s,r?1:0)}cubicCurveTo(i,e,t,n,s,r){this.openedPath||this.moveTo(i,e),this.path2d.bezierCurveTo(i,e,t,n,s,r),this.commands.push(3),this.params.push(i,e,t,n,s,r)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(i){i&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(i,e){let t=this.commands,n=this.params,s=t.length,r=-1e4,o=-1e4,a=NaN,l=NaN,c=0,d=0,u=0;for(let h=0,p=0;h<s;h++)switch(t[h]){case 0:u+=ia(a,l,c,d,r,o,i,e),c=n[p++],a=c,d=n[p++],l=d;break;case 1:u+=ia(c,d,n[p++],n[p++],r,o,i,e),c=n[p-2],d=n[p-1];break;case 3:u+=NN(c,d,n[p++],n[p++],n[p++],n[p++],n[p++],n[p++],r,o,i,e),c=n[p-2],d=n[p-1];break;case 2:{let f=n[p++],g=n[p++],y=n[p++],v=n[p++],b=n[p++],M=!!n[p++];if(u+=YI(f,g,y,v,b,M,r,o,i,e),!isNaN(a)){let I=f+Math.cos(v)*y,D=g+Math.sin(v)*y;u+=ia(c,d,I,D,r,o,i,e)}c=f+Math.cos(b)*y,d=g+Math.sin(b)*y;break}case 4:u+=ia(a,l,c,d,r,o,i,e);break}return u%2===1}distanceSquared(i,e){let t=1/0,n=this.commands,s=this.params,r=n.length,o=NaN,a=NaN,l=0,c=0;for(let d=0,u=0;d<r;d++)switch(n[d]){case 0:l=o=s[u++],c=a=s[u++];break;case 1:{let h=s[u++],p=s[u++];t=zl(i,e,l,c,h,p,t);break}case 3:R.error("Command.Curve distanceSquare not implemented");break;case 2:{let h=s[u++],p=s[u++],f=s[u++],g=s[u++],y=s[u++],v=h+Math.cos(g)*f,b=p+Math.sin(g)*f,M=!!s[u++];t=zl(i,e,l,c,v,b,t),t=tI(i,e,h,p,f,g,y,M,t),l=h+Math.cos(y)*f,c=p+Math.sin(y)*f;break}case 4:t=zl(i,e,l,c,o,a,t);break}return t}getPoints(){let{commands:i,params:e}=this,t=[],n=0;for(let s of i)switch(s){case 0:case 1:t.push({x:e[n++],y:e[n++]});break;case 3:n+=4,t.push({x:e[n++],y:e[n++]});break;case 2:t.push({x:e[n++],y:e[n++]}),n+=4;break;case 4:break}return t}toSVG(i=(e,t)=>({x:e,y:t})){let e=[],{commands:t,params:n}=this,s=(o,...a)=>{e.push(o);for(let l=0;l<a.length;l+=2){let{x:c,y:d}=i(a[l],a[l+1]);e.push(c,d)}},r=0;for(let o of t)switch(o){case 0:s("M",n[r++],n[r++]);break;case 1:s("L",n[r++],n[r++]);break;case 3:s("C",n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case 2:{let a=n[r++],l=n[r++],c=n[r++],d=n[r++],u=n[r++],h=n[r++],p=h?d-u:u-d;p<0&&(p+=Math.ceil(-p/(2*Math.PI))*2*Math.PI),h&&(p=-p);let f=Math.max(Math.ceil(Math.abs(p)/(Math.PI/2)),1),g=p/f,y=4/3*Math.tan(g/4),v=e.length===0?"M":"L";s(v,a+Math.cos(d)*c,l+Math.sin(d)*c);for(let b=0;b<f;b+=1){let M=d+g*(b+0),I=d+g*(b+1),D=c*Math.sin(M),A=c*Math.cos(M),w=c*Math.sin(I),C=c*Math.cos(I);s("C",a+A-y*D,l+D+y*A,a+C+y*w,l+w-y*C,a+C,l+w)}break}case 4:e.push("Z");break}return e.join(" ")}computeBBox(){let{commands:i,params:e}=this,[t,n,s,r]=[1/0,1/0,-1/0,-1/0],[o,a]=[NaN,NaN],[l,c]=[NaN,NaN],d=(h,p,f)=>{t=Math.min(p,t),n=Math.min(h,n),s=Math.max(h,s),r=Math.max(p,r),f&&([o,a]=[h,p])},u=0;for(let h of i)switch(h){case 0:d(e[u++],e[u++],!0),[l,c]=[o,a];break;case 1:d(e[u++],e[u++],!0);break;case 3:{let p=e[u++],f=e[u++],g=e[u++],y=e[u++],v=e[u++],b=e[u++];d(v,b,!0),WI(o,a,p,f,g,y,v,b).forEach(I=>{let D=nu(o,p,g,v,I),A=nu(a,f,y,b,I);d(D,A)});break}case 2:{let p=e[u++],f=e[u++],g=e[u++],y=Pt(e[u++]),v=Pt(e[u++]);e[u++]&&([y,v]=[v,y]);let M=(D,A)=>{let w=p+g*Math.cos(D),C=f+g*Math.sin(D);d(w,C,A)};M(y),M(v,!0);let I=[0,Math.PI/2,Math.PI,3*Math.PI/2];for(let D of I)(y<v&&y<=D&&D<=v||y>v&&(y<=D||D<=v))&&M(D);break}case 4:[o,a]=[l,c];break}return new G(n,t,s-n,r-t)}};function ot(i){let{redraw:e=3,changeCb:t,convertor:n}=i??{};return V({redraw:e,type:"path",convertor:n,changeCb:t})}var fi=(()=>{let i=class extends Cn{constructor(){super(...arguments),this.path=new ql,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(){return this.updatePathIfDirty(),super.preRender()}render(e){let{ctx:t,forceRender:n,stats:s}=e;if(this.dirty===0&&!n){s&&(s.nodesSkipped+=nn(this).count);return}if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();let r=this.strokeWidth/2;this._clipPath??(this._clipPath=new ql),this._clipPath.clear(),this._clipPath.rect(-r,-r,this._clipX+r,this._clipY+r+r),t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),t.restore()}else this._clipPath=void 0,this.drawPath(t);this.fillShadow?.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;let e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttribute("d",this.svgPathData()),e.setAttribute("fill",typeof this.fill=="string"?this.fill:"none"),e.setAttribute("fill-opacity",String(this.fillOpacity)),this.stroke!=null&&(e.setAttribute("stroke",this.stroke),e.setAttribute("stroke-opacity",String(this.strokeOpacity)),e.setAttribute("stroke-width",String(this.strokeWidth))),{elements:[e]}}};return i.className="Path",i})();m([ot()],fi.prototype,"clip",2);m([ot()],fi.prototype,"clipX",1);m([ot()],fi.prototype,"clipY",1);var Ad="ag-charts-focus-indicator",kN=class{constructor(i){this.domManager=i,this.div=An().createElement("div"),this.svg=An().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=An().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),this.element=i.addChild("series-area",Ad),this.element.classList.add(Ad),this.element.ariaHidden="true",this.element.append(this.svg)}destroy(){this.domManager.removeStyles(Ad),this.domManager.removeChild("series-area",Ad)}updateBounds(i){if(i!==void 0)if(i instanceof fi){let e=(t,n)=>ne.toCanvasPoint(i,t,n);this.path.setAttribute("d",i.svgPathData(e)),this.show(this.svg)}else qs(this.div,i),this.show(this.div)}show(i){this.element.innerHTML="",this.element.append(i)}getFocusableElement(){let i=this.element.parentElement;if(i==null||i.tabIndex!==0&&i.tabIndex!==-1)throw new Error("AG Charts - the focus indicator must be a child of a focusable element");return i}overrideFocusVisible(i){let e={true:"1",false:"0",undefined:""};this.getFocusableElement().style.setProperty("opacity",e[`${i}`])}isFocusVisible(){let i=this.getFocusableElement();return i!=null&&je().getComputedStyle(i).opacity==="1"}},RN=class{set textContent(i){this.textElement.textContent=i;let t=this.textElement.getBBox?.();t&&this.svgElement.setAttribute("viewBox",`${t.x} ${t.y} ${t.width} ${t.height}`)}get textContent(){return this.textElement.textContent}constructor(){this.textElement=Ff("http://www.w3.org/2000/svg","text"),this.textElement.role="presentation",this.svgElement=Ff("http://www.w3.org/2000/svg","svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.boundedContainer=Ot("div"),this.boundedContainer.appendChild(this.svgElement),this.boundedContainer.role="presentation"}remove(){this.boundedContainer.remove()}getContainer(){return this.boundedContainer}updateBounds(i){qs(this.boundedContainer,i)}};function wd(i,e){return e.params?.type===i}function ON(i){if(i==="button")return Ot("button");if(i==="slider")return Ot("input");if(["toolbar","group","list"].includes(i))return Ot("div");if(i==="text")return new RN;if(i==="listswitch")return{button:Ot("button"),listitem:Ot("div")};throw Error("AG Charts - error allocating meta")}function Y0(i){let e={params:i,result:void 0};return e.result=ON(e.params.type),e}var PN=class{constructor(i,e){this.localeManager=i,this.domManager=e,this.destroyFns=[]}destroy(){this.destroyFns.forEach(i=>i())}addLocalisation(i){i(),this.destroyFns.push(this.localeManager.addListener("locale-changed",i))}createProxyContainer(i){let e=Y0(i),{params:t,result:n}=e;return this.domManager.addChild("canvas-proxy",t.id,n),n.classList.add(...t.classList,"ag-charts-proxy-container"),n.role=t.type,"ariaOrientation"in t&&(n.ariaOrientation=t.ariaOrientation),typeof t.ariaHidden=="boolean"&&(n.ariaHidden=t.ariaHidden.toString()),this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(t.ariaLabel.id,t.ariaLabel.params)}),n}createProxyElement(i){let e=Y0(i);if(wd("button",e)){let{params:t,result:n}=e;if(this.initInteract(t,n),n.style.pointerEvents="auto",typeof t.textContent=="string")n.textContent=t.textContent;else{let{textContent:s}=t;this.addLocalisation(()=>{n.textContent=this.localeManager.t(s.id,s.params)})}this.setParent(t,n)}if(wd("slider",e)){let{params:t,result:n}=e;this.initInteract(t,n),n.type="range",n.role="presentation",n.style.margin="0px",n.ariaOrientation=t.ariaOrientation,this.addLocalisation(()=>{n.ariaLabel=this.localeManager.t(t.ariaLabel.id,t.ariaLabel.params)}),this.setParent(t,n)}if(wd("text",e)){let{params:t,result:n}=e;this.initElement(t,n.getContainer()),this.setParent(t,n.getContainer())}if(wd("listswitch",e)){let{params:t,result:{button:n,listitem:s}}=e;this.initInteract(t,n),n.style.width="100%",n.style.height="100%",n.textContent=t.textContent,n.role="switch",n.ariaChecked=t.ariaChecked.toString(),n.style.pointerEvents="auto",n.setAttribute("aria-describedby",t.ariaDescribedBy),s.role="listitem",s.style.position="absolute",s.replaceChildren(n),this.setParent(t,s)}return e.result}initElement(i,e){let{id:t}=i;e.id=t,e.classList.toggle("ag-charts-proxy-elem",!0)}initInteract(i,e){let{onclick:t,ondblclick:n,onmouseenter:s,onmouseleave:r,oncontextmenu:o,onchange:a,onfocus:l,onblur:c,tabIndex:d}=i;this.initElement(i,e),d!==void 0&&(e.tabIndex=d),t&&e.addEventListener("click",t),n&&e.addEventListener("dblclick",n),s&&e.addEventListener("mouseenter",s),r&&e.addEventListener("mouseleave",r),o&&e.addEventListener("contextmenu",o),l&&e.addEventListener("focus",l),c&&e.addEventListener("blur",c),a&&e.addEventListener("change",a)}setParent(i,e){let{id:t,parent:n}=i;if(typeof n=="string"){let s={where:n,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",t,e,s)}else n.appendChild(e)}},jN=/\$\{(\w+)}(?:\[(\w+)])?/gi,yf={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},FN=({defaultValue:i,variables:e})=>i?.replaceAll(jN,(t,n,s)=>{let r=e[n],o=s!=null?yf[s]:null;return s!=null&&o==null&&R.warnOnce(`Format style [${s}] is not supported`),o!=null?o.format(r):typeof r=="number"?yf.number.format(r):r instanceof Date?yf.datetime.format(r):String(r)}),zN=class extends bo{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(i){this.localeText!==i&&(this.localeText=i,this.dispatch("locale-changed"))}setLocaleTextFormatter(i){this.getLocaleText=i,this.getLocaleText!==i&&(this.getLocaleText=i,this.dispatch("locale-changed"))}t(i,e={}){let{localeText:t=OE,getLocaleText:n}=this,s=t[i];return n?.({key:i,defaultValue:s,variables:e})??FN({key:i,defaultValue:s,variables:e})??i}};function BN(){if(typeof navigator>"u")return!1;let i=/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/.exec(navigator.userAgent);if(i==null)return!1;let[e,t]=i[1].split("_").map(Number);return e<16||e===16&&t<6}var ZI=class qf{constructor(e){this.enabled=!0,this.width=600,this.height=300;let{width:t,height:n,pixelRatio:s,canvasElement:r,willReadFrequently:o=!1}=e;this.pixelRatio=BN()?1:s??je("devicePixelRatio"),this.element=r??Ot("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:o}),this.onEnabledChange(),this.resize(t??0,n??0),qf.debugContext(this.context)}static is(e){return e instanceof qf}drawImage(e,t=0,n=0){return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t){if(!(e>0&&t>0))return;let{element:n,context:s,pixelRatio:r}=this;n.width=Math.round(e*r),n.height=Math.round(t*r),s.setTransform(r,0,0,r,0,0),n.style.width=e+"px",n.style.height=t+"px",this.width=e,this.height=t}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(e){if(Wt.check("canvas")){let t=e.save.bind(e),n=e.restore.bind(e),s=0;Object.assign(e,{save(){t(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}};m([ti(i=>i.onEnabledChange())],ZI.prototype,"enabled",2);var ng=ZI,VN=class $I{constructor(e,t){this.canvas=e,this.markDirty=t,this.debug=Wt.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(e,t){return ZM([e.zIndex,...e.zIndexSubOrder??[void 0,void 0],e.id],[t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],WM)}get size(){return this.layersMap.size}forEach(e){Array.from(this.layersMap.values()).sort($I.sortLayers).forEach(e)}resize(e,t){this.canvas.resize(e,t),this.layersMap.forEach(({canvas:n})=>n.resize(e,t))}addLayer(e){let{width:t,height:n,pixelRatio:s}=this.canvas,{zIndex:r=this.nextZIndex++,name:o,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}=e,d=new ng({width:t,height:n,pixelRatio:s});return r>=this.nextZIndex&&(this.nextZIndex=r+1),this.layersMap.set(d,{id:this.nextLayerId++,name:o,canvas:d,zIndex:r,zIndexSubOrder:a,getComputedOpacity:l,getVisibility:c}),this.debug("Scene.addLayer() - layers",this.layersMap),d}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(e,t,n){let s=this.layersMap.get(e);s&&(s.zIndex=t,s.zIndexSubOrder=n,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}},UN=(()=>{let i=class KI{constructor(){this.offscreenCanvas=new OffscreenCanvas(1,1),KI.offscreenCanvasCount++;let t=this.offscreenCanvas.getContext("2d");if(t==null)throw new TypeError("AG Charts - invalid 2d context");this.renderCtx={ctx:t,devicePixelRatio:1,forceRender:!0,resized:!1,debugNodes:{}}}resize({spritePixelRatio:t,spriteWidth:n,spriteHeight:s}){this.offscreenCanvas.width=Math.max(n,0)*t,this.offscreenCanvas.height=Math.max(s,0)*t}renderSprite(t,n){t=iM(t);let{renderCtx:s,renderCtx:{ctx:r},offscreenCanvas:o}=this,{scale:a=1,translateX:l=0,translateY:c=0}=n??{};r.resetTransform(),r.clearRect(0,0,o.width,o.height),r.save(),r.beginPath(),r.setTransform(a,0,0,a,l,c);for(let d of t)d.preRender(),d.render(s);return r.closePath(),r.restore(),o.transferToImageBitmap()}};return i.offscreenCanvasCount=0,i})(),XI=UN;function W0(i,e,t,n,s={},r=G.zero){if(!Wt.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:o=0,layersSkipped:a=0,nodesRendered:l=0,nodesSkipped:c=0}=n??{},d=performance.now(),w=e,{start:u}=w,h=_t(w,["start"]),p=Object.entries(h).map(([C,_])=>$0(C,_)).filter(C=>C!=null).join(" + "),f=Object.entries(s).map(([C,_])=>`${C}: ${_}`).join(" ; "),g=Wt.check("scene:stats:verbose"),y=[`${$0("\u23F1\uFE0F",u,d)} (${p})`,`${f}`,`Layers: ${g?Z0(o,a):i.size}; Sprites: ${XI.offscreenCanvasCount}`,g?`Nodes: ${Z0(l,c)}`:null].filter(Mi),v=new $m(C=>t.measureText(C)),b=new Map(y.map(C=>[C,v.measureLines(C)])),M=Math.max(...Array.from(b.values(),C=>C.width)),I=$N(b.values(),C=>C.height),D=2+r.x;t.save(),t.fillStyle="white",t.fillRect(D,0,M,I),t.fillStyle="black";let A=0;for(let[C,_]of b.entries())A+=_.height,t.fillText(C,D,A);t.restore()}function GN(i){let e=Qd(je("agChartsSceneDebug")),t=[];for(let n of e)n==="layout"?t.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):t.push(n);i.debugNodeSearch=t}function HN(i,e){i.save();for(let[t,n]of Object.entries(e)){let s=ne.toCanvas(n);if(!s){R.log(`Scene.render() - no bbox for debugged node [${t}].`);continue}i.globalAlpha=.8,i.strokeStyle="red",i.lineWidth=1,i.strokeRect(s.x,s.y,s.width,s.height),i.fillStyle="red",i.strokeStyle="white",i.font="16px sans-serif",i.textBaseline="top",i.textAlign="left",i.lineWidth=2,i.strokeText(t,s.x,s.y,s.width),i.fillText(t,s.x,s.y,s.width)}i.restore()}var YN=new Set,WN=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function ZN(i){let e=_t(i,[]);for(let t in e)WN.has(t)||typeof e[t]!="number"&&typeof e[t]!="string"&&typeof e[t]!="boolean"&&(YN.add(t),delete e[t]);return e}function Vd(i,e){if(!Wt.check(!0,"scene"))return{};let{parentNode:t}=i,n=0;return S(S({node:e==="json"?ZN(i):i,name:i.name??i.id,dirty:Js[i.dirty]},t?.isVirtual?{virtualParentDirty:Js[t.dirty],virtualParent:t}:{}),Array.from(i.children(!1),s=>Vd(s,e)).reduce((s,r)=>{let{name:o}=r,{node:{visible:a,opacity:l,zIndex:c,zIndexSubOrder:d,translationX:u,translationY:h,rotation:p,scalingX:f,scalingY:g},node:y,virtualParent:v}=r;(!a||l<=0)&&(o=`(${o})`),Wn.is(y)&&(o=`*${o}*`);let b=d?.map(A=>typeof A=="function"?`${A()} (fn)`:A).join(" / "),M=[`${(n++).toString().padStart(3,"0")}|`,`${o??"<unknown>"}`,`z: ${c}`,b&&`zo: ${b}`,v&&"(virtual parent)",u&&`x: ${u}`,h&&`y: ${h}`,p&&`r: ${p}`,f!=null&&f!==1&&`sx: ${f}`,g!=null&&g!==1&&`sy: ${g}`].filter(A=>!!A).join(" "),I=M,D=1;for(;s[I]!=null&&D<100;)I=`${M} (${D++})`;return s[I]=r,s},{}))}function QI(i){if(i.dirty===0)return{dirtyTree:{},paths:[]};let e=Array.from(i.children(),s=>QI(s)).filter(s=>s.paths.length>0),t=ut.is(i)?i.name??i.id:i.id,n=e.length?e.flatMap(s=>s.paths).map(s=>`${t}.${s}`):[t];return{dirtyTree:S({name:t,node:i,dirty:Js[i.dirty]},e.map(s=>s.dirtyTree).filter(s=>s.dirty!=null).reduce((s,r)=>(s[r.name??"<unknown>"]=r,s),{})),paths:n}}function Z0(i,e){let t=i+e;return`${i} / ${t} (${Math.round(100*i/t)}%)`}function $0(i,e,t){let n=t!=null?t-e:e;return`${i}: ${Math.round(n*100)/100}ms`}function $N(i,e){let t=0;for(let n of i)t+=e(n);return t}var qI=(()=>{let i=class{constructor(e){this.debug=Wt.create(!0,"scene"),this.id=dn(this),this.root=null,this.pendingSize=null,this.isDirty=!1,this.canvas=new ng(e),this.layersManager=new VN(this.canvas,()=>{this.isDirty=!0})}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(e){let{element:t}=this.canvas;return t.parentElement?.removeChild(t),e.appendChild(t),this}setRoot(e){return this.root===e?this:(this.isDirty=!0,this.root?._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){nM(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)?(this.pendingSize=[e,t],this.isDirty=!0,!0):!1}async render(e){let{debugSplitTimes:t={start:performance.now()},extraDebugStats:n,seriesRect:s}=e??{},{canvas:r,canvas:{context:o}={},root:a,pendingSize:l}=this;if(!o)return;let c=performance.now();if(l&&(this.layersManager.resize(...l),this.pendingSize=null),a&&!a.visible){this.isDirty=!1;return}if(a&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:Js[a.dirty],tree:Vd(a,"console")}),W0(this.layersManager,t,o,void 0,n,s);return}let d={ctx:o,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!l,debugNodes:{}};Wt.check("scene:stats:verbose")&&(d.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0}),GN(d);let u=!1;if((!a||a.dirty>=1)&&(u=!0,r.clear()),a&&Wt.check("scene:dirtyTree")){let{dirtyTree:h,paths:p}=QI(a);Wt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:h,paths:p})}if(a&&u){if(a.visible&&a.preRender(),this.debug.check()){let h=Vd(a,"console");this.debug("Scene.render() - before",{redrawType:Js[a.dirty],canvasCleared:u,tree:h})}a.visible&&(o.save(),a.render(d),o.restore())}if(t["\u270D\uFE0F"]=performance.now()-c,this.layersManager.size&&u){let h=performance.now();o.save(),o.resetTransform(),this.layersManager.forEach(p=>{p.canvas.enabled&&p.getVisibility()&&(o.globalAlpha=p.getComputedOpacity(),p.canvas.drawImage(o))}),o.restore(),t["\u26D9"]=performance.now()-h}o.verifyDepthZero?.(),this.isDirty=!1,W0(this.layersManager,t,o,d.stats,n,s),HN(o,d.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:Js[a.dirty],tree:Vd(a,"console"),canvasCleared:u})}toSVG(){let e=this.root?.toSVG();if(e==null)return;let t=document.createElementNS("http://www.w3.org/2000/svg","svg");if(t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),e.defs!=null){let n=document.createElementNS("http://www.w3.org/2000/svg","defs");n.append(...e.defs),t.append(n)}return t.append(...e.elements),t.outerHTML}strip(){let{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};return i.className="Scene",i})(),KN=class{constructor(){this.cache=new WeakMap}call(i,...e){let t,n=this.cache.get(i);try{t=JSON.stringify(e)}catch{return this.invoke(i,e,n)}return n==null&&(n=new Map,this.cache.set(i,n)),n.has(t)?n.get(t):this.invoke(i,e,n,t)}invoke(i,e,t,n){try{let s=i(...e);return t&&n!=null&&t.set(n,s),s}catch(s){R.warnOnce("User callback errored, ignoring",s);return}}invalidateCache(){this.cache=new WeakMap}},XN=class extends Qn{constructor(i){super(),this.annotationRoot=i,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(i){return qt(i)}restoreMemento(i,e,t){this.annotations=this.cleanData(t).map(n=>{let s=this.getAnnotationTypeStyles(n.type);return xt(n,s)}),this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:this.annotations})}updateData(i){this.annotations=this.cleanData(i??[])}attachNode(i){return this.annotationRoot.append(i),()=>(this.annotationRoot?.removeChild(i),this)}setAnnotationStyles(i){this.styles=i}getAnnotationTypeStyles(i){return this.styles?.[i]}cleanData(i){for(let e of i)"textAlign"in e&&delete e.textAlign;return i}},QN=class{constructor(i){this.sceneRoot=i,this.axes=new Map,this.axisGridGroup=new Wn({name:"Axes-Grids",zIndex:1}),this.axisGroup=new Wn({name:"Axes",zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(i,e){for(let t of i)e.includes(t)||(t.detachAxis(this.axisGroup,this.axisGridGroup),t.destroy());for(let t of e)i?.includes(t)||t.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(let t of e){let n=t.createAxisContext();this.axes.has(n.direction)?this.axes.get(n.direction)?.push(n):this.axes.set(n.direction,[n])}}getAxisContext(i){return this.axes.get(i)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},Vu=class extends bo{constructor(i){super(),this.animationManager=i,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=Wt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(i){typeof i=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=i,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(i){this.isLoadingData=!0,this.throttledFetch(i)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(i){return S0(e=>this.fetch(e),i,{leading:!1,trailing:!0})}createThrottledDispatch(i){return S0((e,t)=>{this.debug(`DataService - dispatching 'data-load' | ${e}`),this.dispatch("data-load",{type:"data-load",data:t})},i,{leading:!0,trailing:!0})}async fetch(i){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let e=performance.now(),t=this.requestCounter++;this.debug(`DataService - requesting | ${t}`),this.freshRequests.push(t);let n;try{n=await this.dataSourceCallback(i),this.debug(`DataService - response | ${performance.now()-e}ms | ${t}`)}catch(r){this.debug(`DataService - request failed | ${t}`),R.errorOnce(`DataService - request failed | [${r}]`)}this.isLoadingInitialData=!1;let s=this.freshRequests.findIndex(r=>r===t);if(s===-1||this.dispatchOnlyLatest&&s!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${t}`);return}this.freshRequests=this.freshRequests.slice(s+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(n)?this.throttledDispatch(t,n):this.dispatch("data-error")}};m([pi({newValue(i){this.throttledDispatch=this.createThrottledDispatch(i)}})],Vu.prototype,"dispatchThrottle",2);m([pi({newValue(i){this.throttledFetch=this.createThrottledFetch(i)}})],Vu.prototype,"requestThrottle",2);var K0=class{constructor(i){this.maxAnimationTime=i,this.debug=Wt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Xo.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Xo[this.currentPhase])??[]}checkOverlappingId(i){i!=null&&this.controllers.has(i)&&(this.controllers.get(i).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${i}`),this.skip())}addAnimation(i){if(i.isComplete)return;if(Xo.indexOf(i.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",i.id),i.stop();return}this.controllers.set(i.id,i),this.phases.get(i.phase)?.push(i)}removeAnimation(i){this.controllers.delete(i.id);let e=this.phases.get(i.phase),t=e?.indexOf(i);t!=null&&t>=0&&e?.splice(t,1)}progress(i){if(!this.isReady)return;let e=i===0?.01:i,t=()=>{let c=Xo[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:c,phaseMeta:$l[c]}},{phase:n,phaseControllers:s,phaseMeta:r}=t(),o=()=>Xo[this.currentPhase]==null,a=()=>{for({phase:n,phaseControllers:s,phaseMeta:r}=t();!o()&&s.length===0;)this.currentPhase++,{phase:n,phaseControllers:s,phaseMeta:r}=t(),this.debug(`AnimationBatch - phase changing to ${n}`,{unusedTime:e},s)},l=this.controllers.size;this.debug(`AnimationBatch - ${i}ms; phase ${n} with ${s?.length} of ${l}`);do{let c=e,d=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,u=0;for(let h of s)d?h.stop():e=Math.min(h.update(c),e),h.isComplete&&(u++,this.removeAnimation(h));this.animationTimeConsumed+=c-e,this.debug(`AnimationBatch - updated ${s.length} controllers; ${u} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),a()}while(e>0&&!o());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let i=!0;for(let[,e]of this.controllers)if(e.duration>0&&$l[e.phase].skipIfNoEarlierAnimations!==!0){i=!1;break}if(!i)for(let[,e]of this.controllers)e.autoplay&&e.play(!0)}skip(i=!0){if(this.skipAnimations===!1&&i===!0){for(let e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=i}play(){for(let i of this.controllers.values())i.play()}pause(){for(let i of this.controllers.values())i.pause()}stop(){for(let i of this.controllers.values())try{i.stop(),this.removeAnimation(i)}catch(e){R.error("Error during animation stop",e)}this.dispatchStopped()}stopByAnimationId(i){if(i!=null&&this.controllers.has(i)){let e=this.controllers.get(i);e&&(e.stop(),this.removeAnimation(e))}}stopByAnimationGroupId(i){for(let e of this.controllers.values())e.groupId===i&&this.stopByAnimationId(e.id)}dispatchStopped(){this.stoppedCbs.forEach(i=>i()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function vc(i){let e=E(S({},i),{preventDefault(){e.sourceEvent?.preventDefault()}});return e}function JI(i,e){i.dispatchWrapHandlers(e.type,(t,n)=>t(n),vc(e))}var sg=["drag-start","drag","drag-end"],rg=[...sg,"click","dblclick","contextmenu","hover","leave","enter","page-left","wheel"],qN=["blur","focus"],JN=["keydown","keyup"],bf=["mousemove","mouseup"],X0=["pagehide","mousemove","mouseup"],Q0=["dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"];function tk(i){return rg.includes(i)}function ek(i){return qN.includes(i)}function ik(i){return JN.includes(i)}var tS=class Jf extends RI{constructor(e,t){super(),this.keyboardOptions=e,this.domManager=t,this.debug=Wt.create(!0,"interaction"),this.eventHandler=n=>this.processEvent(n),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=34,this.rootElement=this.domManager.getShadowDocumentRoot();for(let n of Q0)n.startsWith("touch")||n==="wheel"?this.domManager.addEventListener(n,this.eventHandler,{passive:!1}):this.domManager.addEventListener(n,this.eventHandler);for(let n of X0)je().addEventListener(n,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(e=!1){let t=this.domManager.getShadowDocumentRoot();if(!(!e&&t===this.rootElement)){for(let n of bf)this.rootElement?.removeEventListener(n,this.eventHandler);this.rootElement=t,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(let n of bf)this.rootElement?.addEventListener(n,this.eventHandler)}}destroy(){super.destroy();for(let e of X0)je().removeEventListener(e,this.eventHandler);for(let e of bf)this.rootElement?.removeEventListener(e,this.eventHandler);for(let e of Q0)this.domManager.removeEventListener(e,this.eventHandler);this.domManager.removeStyles("interactionManager")}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}getState(){return this.stateQueue&-this.stateQueue}processEvent(e){this.debug("Received raw event",e);let t=this.decideInteractionEventTypes(e);t!=null&&!Array.isArray(t)&&(t=[t]);for(let n of t??[])this.dispatchEvent(e,n).catch(s=>R.errorOnce(s))}async dispatchEvent(e,t){if(tk(t)){this.dispatchPointerEvent(e,t);return}let{relatedElement:n,targetElement:s}=this.extractElements(e);if(ek(t)){let r=e;this.dispatchTypedEvent(this.listeners,{type:t,sourceEvent:r,relatedElement:n,targetElement:s})}else if(ik(t)){let r=e;this.dispatchTypedEvent(this.listeners,{type:t,sourceEvent:r,relatedElement:n,targetElement:s})}}dispatchTypedEvent(e,t){let n=vc(t);this.debug("Dispatching typed event",n,this.getState()),e.dispatchWrapHandlers(t.type,(s,r)=>s(r),n)}extractElements(e){let t,n;return"relatedTarget"in e&&e.relatedTarget instanceof HTMLElement&&(t=e.relatedTarget),"target"in e&&e.target instanceof HTMLElement&&(n=e.target),{relatedElement:t,targetElement:n}}dispatchPointerEvent(e,t){let n=this.calculateCoordinates(e);if(n==null)return;let s=this.buildPointerEvent(S({type:t,event:e},n));this.debug("Dispatching pointer event",s,this.getState()),JI(this.listeners,s)}getEventHTMLTarget(e){if(e.target instanceof HTMLElement)return e.target;if(e.currentTarget instanceof HTMLElement)return e.currentTarget}recordDown(e){e instanceof MouseEvent&&(Kr(["offsetX","offsetY"],this.clickHistory[0],e),Kr(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),Kr(["offsetX","offsetY"],this.dblclickHistory[0],e)),this.dragPreStartElement=this.getEventHTMLTarget(e)}recordUp(e){return e instanceof MouseEvent&&Kr(["offsetX","offsetY"],this.dblclickHistory[1],e),this.dragPreStartElement=void 0,this.dragStartElement?(this.dragStartElement=void 0,!0):!1}decideInteractionEventTypes(e){let t="drag-start";switch(e.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?e.type:void 0;case"dblclick":return e.type;case"contextmenu":case"wheel":return e.type;case"mousedown":if(!this.isEventOverElement(e))return;this.mouseDown=!0,this.recordDown(e);return;case"touchstart":if(!this.isEventOverElement(e))return;this.touchDown=!0,this.recordDown(e);return;case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(e)?void 0:!this.mouseDown&&!this.touchDown?"hover":this.dragStartElement?"drag":(this.dragStartElement=this.dragPreStartElement,this.dragPreStartElement=void 0,[t,"drag"]);case"mouseup":return!this.mouseDown&&!this.isEventOverElement(e)?void 0:(this.mouseDown=!1,this.recordUp(e)?"drag-end":"click");case"touchend":return!this.touchDown&&!this.isEventOverElement(e)?void 0:(this.touchDown=!1,this.recordUp(e)?"drag-end":"click");case"mouseleave":case"touchcancel":return"leave";case"mouseenter":return"enter";case"pagehide":return"page-left"}}isEventOverElement(e){return this.domManager.isEventOverElement(e)}calculateCoordinates(e){if(e instanceof MouseEvent)return this.getMouseEventCoords(e);if(typeof TouchEvent<"u"&&e instanceof TouchEvent){let t=e.touches[0]??e.changedTouches[0],{clientX:n,clientY:s,pageX:r,pageY:o}=t;return E(S({},Jf.NULL_COORDS),{clientX:n,clientY:s,pageX:r,pageY:o})}else if(e instanceof PageTransitionEvent)return e.persisted?void 0:Jf.NULL_COORDS}getMouseEventCoords(e){let{clientX:t,clientY:n,pageX:s,pageY:r}=e,{offsetX:o,offsetY:a}=e,l=this.getEventHTMLTarget(e),{x:c=0,y:d=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&e.target!==this.dragStartElement){let u=this.domManager.calculateCanvasPosition(this.dragStartElement);o-=u.x-c,a-=u.y-d}else o+=c,a+=d;return{clientX:t,clientY:n,pageX:s,pageY:r,offsetX:o,offsetY:a}}isWheelEvent(e){return e.type==="wheel"}buildPointerEvent(e){let{type:t,event:n,clientX:s,clientY:r}=e,{offsetX:o,offsetY:a,pageX:l,pageY:c}=e;if(!It(o)||!It(a)){let v=this.domManager.getBoundingClientRect();o=s-v.left,a=r-v.top}if(!It(l)||!It(c)){let v=this.rootElement?.getBoundingClientRect();l=s-(v?.left??0),c=r-(v?.top??0)}let[d,u]=[NaN,NaN];if(this.isWheelEvent(n)){let v=n.deltaMode===0?.01:1;d=n.deltaX*v,u=n.deltaY*v}let h=[];n.type==="click"?h=this.clickHistory:n.type==="dblclick"&&(h=this.dblclickHistory);let{relatedElement:p,targetElement:f}=this.extractElements(n),g="button"in n?Number(n.button):0,y={type:t,offsetX:o,offsetY:a,pageX:l,pageY:c,deltaX:d,deltaY:u,button:g,pointerHistory:h,sourceEvent:n,relatedElement:p,targetElement:f};return this.debug("InteractionManager - builtEvent: ",y,this.getState()),y}};tS.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var eS=tS;function q0(i){return i==null?!0:!isNaN(i)&&i>=0&&i<=2}var iS=class{constructor(i,e){this.interactionManager=i,this.chartUpdateMutex=e,this.defaultDuration=1e3,this.batch=new K0(this.defaultDuration*1.5),this.debug=Wt.create(!0,"animation"),this.events=new NI,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(i,e){return this.events.on(i,e)}animate(i){let e=this.batch;try{e.checkOverlappingId(i.id)}catch(a){this.failsafeOnError(a);return}let{id:t}=i;t==null&&(t=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let n=this.isSkipped()||i.phase==="none";n&&this.debug("AnimationManager - skipping animation");let{delay:s,duration:r}=i;if(!q0(s))throw new Error(`Animation delay of ${s} is unsupported (${t})`);if(!q0(r))throw new Error(`Animation duration of ${r} is unsupported (${t})`);let o=new xM(E(S({},i),{id:t,skip:n,autoplay:this.isPlaying?i.autoplay:!1,phase:i.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(o,this.defaultDuration))return this.batch.addAnimation(o),o}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(i){this.failsafeOnError(i)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(i){this.failsafeOnError(i)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(i){try{this.batch.stopByAnimationId(i)}catch(e){this.failsafeOnError(e)}}stopByAnimationGroupId(i){try{this.batch.stopByAnimationGroupId(i)}catch(e){this.failsafeOnError(e)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(i=!0){this.skipAnimations=i}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(i){this.requestId=je().requestAnimationFrame(i)}forceTimeJump(i,e){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let i,e=async t=>{let n=async()=>{let s=t-(i??t);i=t,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:s}),this.interactionManager.pushState(2);try{this.batch.progress(s)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:s})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(n):await this.chartUpdateMutex.acquire(n),this.batch.isActive()?this.scheduleAnimationFrame(e):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(e)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(i,e=!0){R.error("Error during animation, skipping animations",i),e&&this.cancelAnimation()}startBatch(i){this.debug(`AnimationManager - startBatch() with skipAnimations=${i}.`),this.reset(),this.batch.destroy(),this.batch=new K0(this.defaultDuration*1.5),i===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(i){this.batch.stoppedCbs.add(i)}destroy(){this.stop(),this.events.clear()}},nS=class extends Qn{legendItemClick(i,e,t,n){let s={type:"legend-item-click",series:i,itemId:e,enabled:t,legendItemName:n};this.listeners.dispatch("legend-item-click",s)}legendItemDoubleClick(i,e,t,n,s){let r={type:"legend-item-double-click",series:i,itemId:e,enabled:t,legendItemName:s,numVisibleItems:n};this.listeners.dispatch("legend-item-double-click",r)}axisHover(i,e){let t={type:"axis-hover",axisId:i,direction:e};this.listeners.dispatch("axis-hover",t)}},sS=class rS{constructor(e){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new bo;let{Default:t,ContextMenu:n}=Bu;this.destroyFns=[e.listenAll("contextmenu",s=>this.onContextMenu(s),t|n)]}destroy(){this.destroyFns.forEach(e=>e())}onContextMenu(e){rS.toContextType(e.region)==="all"&&this.dispatchContext("all",e,{})}static toContextType(e){return e==="legend"||e==="series"?e:"all"}static check(e,t){return t.type===e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,s){let{sourceEvent:r}=t,o=s?.x??t.offsetX,a=s?.y??t.offsetY;r.stopPropagation(),this.listeners.dispatch("",vc({type:e,x:o,y:a,context:n,sourceEvent:r}))}addListener(e){return this.listeners.addListener("",e)}filterActions(e){return this.defaultActions.filter(t=>t.id&&!this.hiddenActions.has(t.id)&&["all",e].includes(t.type))}registerDefaultAction(e){let t=e.id!=null&&!this.defaultActions.some(({id:n})=>n===e.id);return t&&this.defaultActions.push(e),()=>{let n=t?this.defaultActions.findIndex(({id:s})=>s===e.id):-1;n!==-1&&this.defaultActions.splice(n,1)}}enableAction(e){this.disabledActions.delete(e)}disableAction(e){this.disabledActions.add(e)}showAction(e){this.hiddenActions.add(e)}hideAction(e){this.hiddenActions.delete(e)}isDisabled(e){return this.disabledActions.has(e)}},ga=class extends Map{constructor(i,e){super(),this.defaultValue=i,this.defaultState=e}set(i,e){return this.delete(i),typeof e<"u"&&super.set(i,e),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},oS=(i=>(i.Auto="auto",i.Default="default",i.Grab="grab",i.Grabbing="grabbing",i.Move="move",i.NotAllowed="not-allowed",i.Pointer="pointer",i.EWResize="ew-resize",i.NSResize="ns-resize",i.ZoomIn="zoom-in",i.ZoomOut="zoom-out",i))(oS||{}),aS=class{constructor(i){this.domManager=i,this.stateTracker=new ga("default")}updateCursor(i,e){this.stateTracker.set(i,e),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function nk(i,e){let t=i.screenX-e.screenX,n=i.screenY-e.screenY;return t*t+n*n}function J0(i,e){return Math.sqrt(nk(i,e))}var sk=1,lS=class extends Qn{constructor(i){super(),this.domManager=i,this.touchstart=e=>this.onTouchStart(e),this.touchmove=e=>this.onTouchMove(e),this.touchend=e=>this.onTouchEnd(e),this.touchcancel=e=>this.onTouchCancel(e),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(i){let{touches:e}=i,{finger1:t,finger2:n}=this.pinch;if(this.pinch.status!==0&&e.length===2){if(e[0].identifier===t.identifier&&e[1].identifier===n.identifier)return[e[0],e[1]];if(e[0].identifier===n.identifier&&e[1].identifier===t.identifier)return[e[1],e[0]]}}copyTouchData(i){let e=["identifier","screenX","screenY"];Kr(e,this.pinch.finger1,i.touches[0]),Kr(e,this.pinch.finger2,i.touches[1]),this.pinch.distance=J0(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(i,e,t){let{finger1:n,finger2:s,origin:r}=this.pinch;this.listeners.dispatch(i,vc({sourceEvent:t,type:i,finger1:n,finger2:s,deltaDistance:e,origin:r}))}onTouchStart(i){this.stopPinchTracking(i);let{pinch:e}=this;i.touches.length===2&&(e.status=1,this.copyTouchData(i),e.origin.x=(i.touches[0].clientX+i.touches[1].clientX)/2,e.origin.y=(i.touches[0].clientY+i.touches[1].clientY)/2)}onTouchMove(i){let e=this.findPinchTouches(i);if(e!==void 0){let[t,n]=e,{pinch:s}=this,r=J0(t,n),o=r-s.distance;s.status===1?Math.abs(o)>sk&&(s.status=2,this.copyTouchData(i),this.dispatchPinchEvent("pinch-start",0,i)):s.status===2?(s.distance=r,this.copyTouchData(i),this.dispatchPinchEvent("pinch-move",o,i)):R.error(`unexpected pinch.status: ${s.status}`)}}onTouchEnd(i){this.stopPinchTracking(i)}onTouchCancel(i){this.stopPinchTracking(i)}stopPinchTracking(i){let{pinch:e}=this;e.status===2&&this.dispatchPinchEvent("pinch-end",0,i),this.pinch.status=0}},cS=class extends Qn{constructor(){super(...arguments),this.highlightStates=new ga}updateHighlight(i,e){let{activeHighlight:t}=this;this.highlightStates.set(i,e),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,t)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:t,callerId:i})}getActiveHighlight(){return this.activeHighlight}isEqual(i,e){return i===e||i!=null&&e!=null&&i?.series===e?.series&&i?.itemId===e?.itemId&&i?.datum===e?.datum}},dS=class extends RI{constructor(i,e,t){super(),this.focusIndicator=i,this.interactionManager=e,this.previousInputDevice="keyboard";let n=41;this.destroyFns.push(e.addListener("click",()=>this.onClick(),n),e.addListener("hover",()=>this.onMouse(),n),e.addListener("drag-start",()=>this.onMouse(),n),e.addListener("blur",s=>this.onBlur(s),63),e.addListener("focus",s=>this.onFocus(s),63),e.addListener("keydown",s=>this.onKeyDown(s),63)),this.focusIndicator.overrideFocusVisible(t==="integrated"?!1:void 0)}getState(){return this.interactionManager.getState()}destroy(){super.destroy()}onClick(){this.focusIndicator.overrideFocusVisible(!1),this.previousInputDevice="mouse"}onMouse(){this.previousInputDevice="mouse"}onBlur(i){this.focusIndicator.overrideFocusVisible(void 0),this.dispatch("blur",0,i)}onFocus(i){this.dispatch("focus",0,i)}onKeyDown(i){let e=this.getState(),{key:t,code:n,altKey:s,shiftKey:r,metaKey:o,ctrlKey:a}=i.sourceEvent;if(a||o){if(t==="y"||t==="z"&&r)return this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),this.dispatch("redo",0,i);if(t==="z")return this.focusIndicator.overrideFocusVisible(this.previousInputDevice==="keyboard"),this.dispatch("undo",0,i)}if(e&9){this.focusIndicator.overrideFocusVisible(!1);return}switch(t){case"+":return this.dispatch("nav-zoom",1,i);case"-":return this.dispatch("nav-zoom",-1,i)}if(!(s||r||o||a))switch(this.focusIndicator.overrideFocusVisible(!0),n){case"ArrowDown":return this.dispatch("nav-vert",1,i);case"ArrowUp":return this.dispatch("nav-vert",-1,i);case"ArrowLeft":return this.dispatch("nav-hori",-1,i);case"ArrowRight":return this.dispatch("nav-hori",1,i);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,i);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,i);case"Space":case"Enter":return this.dispatch("submit",0,i)}}dispatch(i,e,t){let{previousInputDevice:n}=this;JI(this.listeners,{type:i,delta:e,sourceEvent:t,previousInputDevice:n});let s=["redo","undo","nav-zoom"];t.type==="keydown"&&!s.includes(i)&&(this.previousInputDevice="keyboard")}},uS=(i=>(i.NAVIGATOR="navigator",i.ROOT="root",i.SERIES="series",i.HORIZONTAL_AXES="horizontal-axes",i.VERTICAL_AXES="vertical-axes",i))(uS||{}),Bl=class{constructor(i,e){this.node=i,this.overrideId=e}get id(){return this.overrideId??this.node.id}get visible(){return this.node.visible}toCanvasBBox(){return ne.toCanvas(this.node)}fromCanvasPoint(i,e){return ne.fromCanvasPoint(this.node,i,e)}},hS=class extends Bl{constructor(i,e,t){super(i,t),this.bboxFn=e}toCanvasBBox(){return this.bboxFn()}},tx=class extends bo{};function ex(i,e,t,n,s=32){return i?.addListener(t,r=>{e.getState()&s&&n(r)})??(()=>{})}function ix(i){return i instanceof rr?new Bl(i):i instanceof Bl?i:new Bl(i.node,i.id)}function rk(i){if(i==null||!(i instanceof HTMLElement))return;let e=i;for(;e!=null&&!e?.classList.contains("ag-charts-wrapper");){if(e.classList.contains("ag-chart-tooltip"))return e;e=e.parentElement}}function ok(i){let{type:e,sourceEvent:t}=i,{id:n,className:s,classList:r,ariaHidden:o}=t?.target??{};if(!(r instanceof DOMTokenList))return"leave";let a=sg;return r.contains("ag-charts-annotations__axis-button-icon")&&!a.includes(e)||s==="ag-charts-series-area"||s==="ag-charts-canvas-proxy"||s==="ag-charts-proxy-elem"&&!n?.toString().startsWith("ag-charts-legend-item-")||t?.target instanceof HTMLCanvasElement?"none":rk(t.target)&&o!=="true"?"wait":"leave"}var pS=class{constructor(i){this.interactionManager=i,this.debug=Wt.create(!0,"region"),this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new tx,this.destroyFns.push(...rg.map(e=>i.addListener(e,this.processPointerEvent.bind(this),63)))}destroy(){this.destroyFns.forEach(i=>i()),this.current=void 0;for(let i of this.regions.values())i.listeners.destroy();this.regions.clear()}addRegion(i,...e){if(this.regions.has(i))throw new Error(`AG Charts - Region: ${i} already exists`);let t={properties:{name:i,bboxproviders:e.map(ix)},listeners:new tx};return this.regions.set(i,t),this.makeObserver(t)}updateRegion(i,...e){let t=this.regions.get(i);if(t)t.properties.bboxproviders=e.map(ix);else throw new Error("AG Charts - unknown region: "+i)}getRegion(i){return this.makeObserver(this.regions.get(i))}listenAll(i,e,t=32){return ex(this.allRegionsListeners,this.interactionManager,i,e,t)}makeObserver(i){let{interactionManager:e}=this;class t{addListener(s,r,o=32){return ex(i?.listeners,e,s,r,o)}}return new t}checkPointerHistory(i,e){for(let t of e.pointerHistory){let{region:n}=this.pickRegion(t.offsetX,t.offsetY)??{};if(i.properties.name!==n?.properties.name)return!1}return!0}dispatch(i,e){if(i==null)return;let t=i.region.properties.bboxproviders[0],n=0,s=0;if("offsetX"in e&&"offsetY"in e)({x:n,y:s}=t.fromCanvasPoint(e.offsetX,e.offsetY));else{let o=t.toCanvasBBox();n=o.width/2,s=o.height/2}let r=vc(E(S({},e),{region:i.region.properties.name,bboxProviderId:i.bboxProvider?.id,regionOffsetX:n,regionOffsetY:s}));this.debug("Dispatching region event: ",r),this.allRegionsListeners.dispatch(r.type,r),i.region.listeners.dispatch(r.type,r)}handleDragging(i){let{current:e}=this;switch(i.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(e,i),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(e,i),this.leftCanvas&&this.dispatch(e,E(S({},i),{type:"leave"})),!0;break}return!1}processPointerEvent(i){if(this.handleDragging(i))return;let{current:e}=this,t=ok(i),n;switch(t){case"wait":return;case"none":n=this.pickRegion(i.offsetX,i.offsetY);break;case"leave":n=void 0;break}let s=n?.region;e!==void 0&&s?.properties.name!==e.region.properties.name&&this.dispatch(e,E(S({},i),{type:"leave"})),s!==void 0&&s.properties.name!==e?.region.properties.name&&this.dispatch(n,E(S({},i),{type:"enter"})),s!==void 0&&this.checkPointerHistory(s,i)&&this.dispatch(n,i),this.current=n}pickRegion(i,e){let t=1/0,n,s;for(let r of this.regions.values())for(let o of r.properties.bboxproviders){if(o.visible===!1)continue;let a=o.toCanvasBBox(),l=a.width*a.height;l<t&&a.containsPoint(i,e)&&(t=l,n=r,s=o)}return n?{region:n,bboxProvider:s}:void 0}},og=["start","center","end"],Ud=["seriesType","annotations","annotationOptions","ranges","zoom"],tm={seriesType:0,annotations:1,annotationOptions:2,ranges:3,zoom:4},oa=(i=>(i.Top="top",i.Left="left",i.Right="right",i.Bottom="bottom",i.Floating="floating",i.FloatingTop="floating-top",i.FloatingBottom="floating-bottom",i))(oa||{}),Xr=Object.values(oa);function em(i){return["floating-top","floating-bottom"].includes(i)}var fS=class extends Qn{static isGroup(i,e){return e.group===i}static isChildElement(i,e){for(let t of Xr)if(i.isManagedChildDOMElement(e,"canvas-overlay",`toolbar-${t}`))return!0;return!1}pressButton(i,e,t,n,s){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:i,id:e,value:t,rect:n,sourceEvent:s})}cancel(i){this.listeners.dispatch("cancelled",{type:"cancelled",group:i})}toggleButton(i,e,t){let{active:n=!1,enabled:s=!0,visible:r=!0,checked:o=!1}=t;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:i,id:e,active:n,enabled:s,visible:r,checked:o})}updateButton(i,e,t){this.listeners.dispatch("button-updated",S({type:"button-updated",group:i,id:e},t))}toggleGroup(i,e,t){let{active:n,visible:s}=t;this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:i,group:e,active:n,visible:s})}updateGroup(i){this.listeners.dispatch("group-updated",{type:"group-updated",group:i})}groupMoved(i){this.listeners.dispatch("group-moved",{type:"group-moved",group:i})}changeFloatingAnchor(i,e){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:i,anchor:e})}buttonMoved(i,e,t,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:i,value:e,rect:t,groupRect:n})}proxyGroupOptions(i,e,t){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:i,group:e,options:t})}},ou=class{constructor(i,e){this.domManager=i,this.tooltip=e,this.stateTracker=new ga,this.suppressState=new ga(!1),this.appliedState=null,e.setup(i),i.addListener("hidden",()=>this.tooltip.toggle(!1))}updateTooltip(i,e,t){this.tooltip.enabled&&(t??(t=this.stateTracker.get(i)?.content),this.stateTracker.set(i,{content:t,meta:e}),this.applyStates())}removeTooltip(i){this.tooltip.enabled&&(this.stateTracker.delete(i),this.applyStates())}suppressTooltip(i){this.suppressState.set(i,!0)}unsuppressTooltip(i){this.suppressState.delete(i)}getTooltipMeta(i){return this.stateTracker.get(i)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){let i=this.stateTracker.stateId(),e=i?this.stateTracker.get(i):null;if(this.suppressState.stateValue()||e?.meta==null||e?.content==null){this.appliedState=null,this.tooltip.toggle(!1);return}let t=this.domManager.getBoundingClientRect(),n=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():t;if(this.appliedState?.content===e?.content){let s=this.tooltip.isVisible();this.tooltip.show(n,t,e?.meta,null,s)}else this.tooltip.show(n,t,e?.meta,e?.content);this.appliedState=e}static makeTooltipMeta(i,e){let{offsetX:t,offsetY:n}=i,s=e.series.properties.tooltip,r={offsetX:t,offsetY:n,enableInteraction:s.interaction?.enabled??!1,lastPointerEvent:{type:i.type,offsetX:t,offsetY:n},showArrow:s.showArrow,position:{type:s.position.type,xOffset:s.position.xOffset,yOffset:s.position.yOffset}},o=e.yBar?.upperPoint??e.midPoint??e.series.datumMidPoint?.(e);if((s.position.type==="node"||s.position.type==="sparkline")&&o){let{x:a,y:l}=o,c=ne.toCanvasPoint(e.series.contentGroup,a,l);return E(S({},r),{offsetX:Math.round(c.x),offsetY:Math.round(c.y)})}return r}},mS=class extends Qn{constructor(){super(...arguments),this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new ga(void 0,"initial"),this.rejectCallbacks=new Map}addLayoutListeners(i){this.destroyFns.push(i.addListener("layout:complete",e=>{this.axes=e.axes}))}createMemento(){let i=this.getDefinedZoom();return{rangeX:this.getRangeDirection(i,"x"),rangeY:this.getRangeDirection(i,"y"),ratioX:{start:i.x.min,end:i.x.max},ratioY:{start:i.y.min,end:i.y.max}}}guardMemento(i){return hi(i)&&(i.ratioX!=null||i.ratioY!=null||i.rangeX!=null||i.rangeY!=null)}restoreMemento(i,e,t){this.listeners.dispatch("restore-zoom",E(S({},t),{type:"restore-zoom"}))}updateAxes(i){let e=new Map(i.map(t=>[t.id,this.axisZoomManagers.get(t.id)]));this.axisZoomManagers.clear();for(let t of i)this.axisZoomManagers.set(t.id,e.get(t.id)??new ak(t));this.state.size>0&&i.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(i,e,t=!0,n){if(n&&this.rejectCallbacks.set(i,n),this.axisZoomManagers.size===0){let s=this.state.stateId();s==="initial"||s===i||t?(this.state.set(i,e),s!==i&&this.rejectCallbacks.get(s)?.(i)):n?.(s);return}this.state.set(i,e),this.axisZoomManagers.forEach(s=>{s.updateZoom(i,e?.[s.getDirection()])}),this.applyChanges(i)}updateAxisZoom(i,e,t){this.axisZoomManagers.get(e)?.updateZoom(i,t),this.applyChanges(i)}fireZoomPanStartEvent(i){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:i})}getZoom(){let i,e;if(this.axisZoomManagers.forEach(t=>{t.getDirection()==="x"?i??(i=t.getZoom()):t.getDirection()==="y"&&(e??(e=t.getZoom()))}),i||e)return{x:i,y:e}}getAxisZoom(i){return this.axisZoomManagers.get(i)?.getZoom()??{min:0,max:1}}getAxisZooms(){let i={};for(let[e,t]of this.axisZoomManagers.entries())i[e]={direction:t.getDirection(),zoom:t.getZoom()};return i}applyChanges(i){if(!Array.from(this.axisZoomManagers.values(),n=>n.applyChanges()).some(Boolean))return;let t={};for(let[n,s]of this.axisZoomManagers.entries())t[n]=s.getZoom();this.listeners.dispatch("zoom-change",E(S({type:"zoom-change"},this.getZoom()),{axes:t,callerId:i}))}getRangeDirection(i,e){for(let t of this.axes??[]){if(t.direction!==e)continue;let n=t.scale.getDomain?.(),s=t.scale.convert?.(n?.at(0)),r=t.scale.convert?.(n?.at(-1));if(!It(s)||!It(r))return;let o,a;if(s<=r){let l=r-s;o=t.scale.invert?.(0),a=t.scale.invert?.(s+l*i[e].max)}else{let l=s-r;o=t.scale.invert?.(s-l*i[e].min),a=t.scale.invert?.(0)}return{start:o,end:a}}}getDefinedZoom(){let i=this.getZoom();return{x:{min:i?.x?.min??0,max:i?.x?.max??1},y:{min:i?.y?.min??0,max:i?.y?.max??1}}}},ak=class{constructor(i){this.axis=i;let[e=0,t=1]=i.visibleRange;this.state=new ga({min:e,max:t}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(i,e){this.state.set(i,e)}getZoom(){return Pe(this.state.stateValue())}applyChanges(){let i=this.currentZoom;return this.currentZoom=this.state.stateValue(),i.min!==this.currentZoom.min||i.max!==this.currentZoom.max}},lk=class{constructor(){this.groups={}}registerSeries({internalId:i,seriesGrouping:e,visible:t,type:n}){var s;e&&((s=this.groups)[n]??(s[n]={}),this.groups[n][i]={grouping:e,visible:t})}updateSeries({internalId:i,seriesGrouping:e,visible:t,type:n}){if(!e)return;let s=this.groups[n]?.[i];s&&(s.grouping=e,s.visible=t)}deregisterSeries({internalId:i,type:e}){this.groups[e]&&delete this.groups[e][i],this.groups[e]&&Object.keys(this.groups[e]).length===0&&delete this.groups[e]}getVisiblePeerGroupIndex({type:i,seriesGrouping:e,visible:t}){if(!e)return{visibleGroupCount:t?1:0,visibleSameStackCount:t?1:0,index:0};let n=new Set,s=new Set;for(let o of Object.values(this.groups[i]??{}))o.visible&&(n.add(o.grouping.groupIndex),o.grouping.groupIndex===e.groupIndex&&s.add(o.grouping.stackIndex));let r=Array.from(n);return r.sort((o,a)=>o-a),{visibleGroupCount:r.length,visibleSameStackCount:s.size,index:r.indexOf(e.groupIndex)}}},Vl=(i=>(i[i.FULL=0]="FULL",i[i.UPDATE_DATA=1]="UPDATE_DATA",i[i.PROCESS_DATA=2]="PROCESS_DATA",i[i.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",i[i.SERIES_UPDATE=4]="SERIES_UPDATE",i[i.PRE_SCENE_RENDER=5]="PRE_SCENE_RENDER",i[i.SCENE_RENDER=6]="SCENE_RENDER",i[i.NONE=7]="NONE",i))(Vl||{}),gS=class extends bo{constructor(i){super(),this.updateCallback=i}update(i=0,e){this.updateCallback(i,e)}dispatchUpdateComplete(i){this.dispatch("update-complete",{type:"update-complete",minRect:i?.minRect,minVisibleRect:i?.minVisibleRect})}dispatchPreDomUpdate(){this.dispatch("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(i){this.dispatch("pre-scene-render",S({type:"pre-scene-render"},i))}},ck=class{constructor(i,e){this.callbackCache=new KN,this.chartEventManager=new nS,this.highlightManager=new cS,this.layoutManager=new kI,this.localeManager=new zN,this.seriesStateManager=new lk,this.stateManager=new yN,this.toolbarManager=new fS,this.zoomManager=new mS;let{scene:t,root:n,syncManager:s,container:r,updateCallback:o,updateMutex:a,pixelRatio:l}=e;this.chartService=i,this.syncManager=s,this.domManager=new HI(r);let c=this.domManager.addChild("canvas","scene-canvas",t?.canvas.element);this.scene=t??new qI({pixelRatio:l,canvasElement:c}),this.scene.setRoot(n),this.axisManager=new QN(n),this.annotationManager=new XN(i.annotationRoot),this.cursorManager=new aS(this.domManager),this.interactionManager=new eS(i.keyboard,this.domManager),this.focusIndicator=new kN(this.domManager),this.keyNavManager=new dS(this.focusIndicator,this.interactionManager,i.mode),this.regionManager=new pS(this.interactionManager),this.contextMenuRegistry=new sS(this.regionManager),this.gestureDetector=new lS(this.domManager),this.updateService=new gS(o),this.proxyInteractionService=new PN(this.localeManager,this.domManager),this.historyManager=new gN(this.keyNavManager),this.animationManager=new iS(this.interactionManager,a),this.dataService=new Vu(this.animationManager),this.tooltipManager=new ou(this.domManager,i.tooltip),this.zoomManager.addLayoutListeners(this.layoutManager)}destroy(){this.animationManager.destroy(),this.highlightManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.chartEventManager.destroy(),this.contextMenuRegistry.destroy(),this.domManager.destroy(),this.highlightManager.destroy(),this.interactionManager.destroy(),this.keyNavManager.destroy(),this.focusIndicator.destroy(),this.proxyInteractionService.destroy(),this.regionManager.destroy(),this.syncManager.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy()}},yS=class extends ft{constructor(){super(...arguments),this.range="tooltip"}};m([x(Ft(["tooltip","node"],"a range"))],yS.prototype,"range",2);var nx=class bS{constructor(){this.domain=new Set}static is(e){return e instanceof bS}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},qo=class vS{constructor(){this.domain=[1/0,-1/0]}static is(e){return e instanceof vS}static extendDomain(e,t=[1/0,-1/0]){for(let n of e)typeof n=="number"&&(t[0]>n&&(t[0]=n),t[1]<n&&(t[1]=n));return t}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}};function dk(i){return i.map(e=>hi(e)?JSON.stringify(e):e).join("-")}function uk(i){return Number.isInteger(i)?i:Math.abs(i)>1e4?Math.trunc(i):Math.round(i*1e4)/1e4}function Si(i){if(i==null)return[];let[e,t]=i.map(Number);return e===0&&t===0?[0,1]:It(e)&&It(t)?[e,t]:[]}function ag(i,e){return e?.get(i.id)??0}var jr=Symbol("invalid");function xS(i){let e=[],t=0,n,s=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|\\')*'|"(?:[^"]|\\")*"|-?\d+)\s*\])\s*)/g;for(;n=s.exec(i);){if(n.index!==t)return;t=n.index+n[0].length;let r=n[1].trim();if(r.startsWith("."))e.push(r.slice(1).trim());else if(r.startsWith("[")){let o=r.slice(1,-1).trim();o.startsWith("'")?e.push(o.slice(1,-1).replace(/\\'/g,"'")):o.startsWith('"')?e.push(o.slice(1,-1).replace(/\\"/g,'"')):e.push(o)}else e.push(r)}if(t===i.length)return e}function hk(i){return e=>{let t=e;for(let n of i)t=t[n];return t}}var MS=class{constructor(i,e="standalone"){this.opts=i,this.mode=e,this.debug=Wt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let t=!0;for(let s of i.props){if(s.type==="key"&&!t)throw new Error("AG Charts - internal config error: keys must come before values.");s.type==="value"&&t&&(t=!1)}let n=({matchGroupIds:s=[]})=>{for(let r of s)if(this.values.every(o=>o.groupId!==r))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${r}).`)};for(let s of i.props)switch(s.type){case"key":this.keys.push(E(S({},s),{index:this.keys.length,missing:new Map}));break;case"value":if(s.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);this.values.push(E(S({},s),{index:this.values.length,missing:new Map}));break;case"aggregate":n(s),this.aggregates.push(E(S({},s),{index:this.aggregates.length}));break;case"group-value-processor":n(s),this.groupProcessors.push(E(S({},s),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(E(S({},s),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(E(S({},s),{index:this.reducers.length}));break;case"processor":this.processors.push(E(S({},s),{index:this.processors.length}));break}}resolveProcessedDataDefById(i,e){let t=this.scopeCache.get(i.id)?.get(e);if(!t)throw new Error(`AG Charts - didn't find property definition for [${e}, ${i.id}]`);return{index:t.index,def:t}}resolveProcessedDataIndexById(i,e){return this.resolveProcessedDataDefById(i,e).index}resolveProcessedDataDefsByIds(i,e){return e.map(t=>[t,this.resolveProcessedDataDefById(i,t)])}resolveProcessedDataDefsValues(i,{keys:e,values:t}){let n={};for(let[s,{index:r,def:o}]of i){let a=o.type==="key"?e:t;n[s]=a[r]}return n}getDomain(i,e,t="value",n){return this.getDomainsByType(t,n)?.[this.resolveProcessedDataIndexById(i,e)]??[]}getDomainsByType(i,e){switch(i){case"key":return e.domain.keys;case"value":return e.domain.values;case"aggregate":return e.domain.aggValues;case"group-value-processor":return e.domain.groups;default:return null}}processData(i,e){let{opts:{groupByKeys:t,groupByFn:n},aggregates:s,groupProcessors:r,reducers:o,processors:a,propertyProcessors:l}=this,c=performance.now();if(t&&this.keys.length===0)return;let d=this.extractData(i,e);if(t?d=this.groupData(d):n&&(d=this.groupData(d,n(d))),r.length>0&&this.postProcessGroups(d),s.length>0&&this.aggregateData(d),l.length>0&&this.postProcessProperties(d),o.length>0&&this.reduceData(d),a.length>0&&this.postProcessData(d),i.length>0){for(let h of Xs(this.keys,this.values))for(let[p,f]of h.missing)if(f>=i.length){let g=p==null?"":` for ${p}`;R.warnOnce(`the key '${h.property}' was not found in any data element${g}.`)}}let u=performance.now();d.time=u-c,this.debug.check()&&pk(d),this.scopeCache.clear();for(let h of Xs(this.keys,this.values,this.aggregates))if(h.idsMap)for(let[p,f]of h.idsMap)for(let g of f)if(!this.scopeCache.has(p))this.scopeCache.set(p,new Map([[g,h]]));else{if(this.scopeCache.get(p)?.has(g))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(p).set(g,h)}return d}valueGroupIdxLookup({matchGroupIds:i}){let e=[];for(let[t,n]of this.values.entries())(!i||n.groupId&&i.includes(n.groupId))&&e.push(t);return e}valueIdxLookup(i,e){let t=i==null||i.length===0,n=typeof e=="string"?e:e.id,s=o=>{if(o.idsMap){for(let[a,l]of o.idsMap)if(i?.includes(a)&&l.has(n))return!0}return!1},r=this.values.findIndex(o=>(o.scopes==null||t&&!o.scopes.length||o.scopes.some(l=>i?.includes(l)))&&(o.property===n||o.id===n||s(o)));if(r===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(e)} in scope(s) ${JSON.stringify(i)}`);return r}extractData(i,e){let{dataDomain:t,processValue:n,scopes:s,allScopesHaveSameDefs:r}=this.initDataDomainProcessor(),o=new Map(e?.map(p=>[p.id,p])),{keys:a,values:l}=this,c=new Array(i.length),d=0,u=0;for(let[p,f]of i.entries()){let g={},y=s.size>0?new Set(s):void 0,v=new Array(a.length),b=0,M;for(let w of a){if(M=n(w,f,M),M===jr)break;v&&(v[b++]=M)}if(M===jr)continue;let I=l.length>0?new Array(l.length):void 0,D;for(let[w,C]of l.entries()){for(let _ of C.scopes??s){let T=o.get(_),N=T?.data[p]??f;if(D=n(C,N,D,_),!(D===jr||!I)){if(T!=null&&C.includeProperty!==!1){let j=C.includeProperty&&C.id!=null?C.id:C.property;g[_]??(g[_]={}),g[_][j]=D}I[w]=D}}if(D===jr){if(r)break;for(let _ of C.scopes??s)y?.delete(_);if(y?.size===0)break}}if(D===jr&&r||y?.size===0)continue;let A={datum:S(S({},f),g),keys:v,values:I};!r&&y&&y.size<s.size&&(u++,A.validScopes=new Set(y)),c[d++]=A}c.length=d;let h=p=>{let f=t.get(p),g=f.getDomain();return qo.is(f)&&g[0]>g[1]?[]:g};return{type:"ungrouped",input:{count:i.length},data:c,domain:{keys:a.map(h),values:l.map(h)},defs:{allScopesHaveSameDefs:r,keys:a,values:l},partialValidDataCount:u,time:0}}groupData(i,e){let t=new Map;for(let o of i.data){let{keys:a,values:l,datum:c,validScopes:d}=o,u=e?.(o)??a,h=dk(u);if(t.has(h)){let p=t.get(h);if(p.values.push(l),p.datum.push(c),d!=null&&p.validScopes!=null)for(let f of p.validScopes)d.has(f)||p.validScopes.delete(f)}else t.set(h,{keys:u,values:[l],datum:[c],validScopes:d})}let n=new Array(t.size),s=new Array(t.size),r=0;for(let{keys:o,values:a,datum:l,validScopes:c}of t.values())c?.size!==0&&(s[r]=o,n[r++]={keys:o,values:a,datum:l,validScopes:c});return E(S({},i),{type:"grouped",data:n,domain:E(S({},i.domain),{groups:s})})}aggregateData(i){let e=i.type==="ungrouped";i.domain.aggValues=[];for(let[t,n]of this.aggregates.entries()){let s=this.valueGroupIdxLookup(n),r=[1/0,-1/0];for(let o of i.data){if(o.aggValues??(o.aggValues=new Array(this.aggregates.length)),o.validScopes)continue;let a=e?[o.values]:o.values,l=n.groupAggregateFunction?.()??[1/0,-1/0];for(let d of a){let u=s.map(p=>d[p]),h=n.aggregateFunction(u,o.keys);h&&(l=n.groupAggregateFunction?.(h,l)??qo.extendDomain(h,l))}let c=(n.finalFunction?.(l)??l).map(d=>uk(d));o.aggValues[t]=c,qo.extendDomain(c,r)}i.domain.aggValues.push(r)}}postProcessGroups(i){let{groupProcessors:e}=this,t=new Set,n=new Map,s=new Map,r=new Map;for(let a of e){let l=this.valueGroupIdxLookup(a);s.set(a,l),r.set(a,a.adjust());for(let c of l){let u=this.values[c].valueType==="category";t.add(c),n.set(c,u?new nx:new qo)}}let o=a=>{for(let l of t)n.get(l)?.extend(a[l])};for(let a of i.data){for(let l of e){if(a.validScopes)continue;let c=s.get(l)??[],d=r.get(l)?.();if(d)if(i.type==="grouped")for(let u of a.values)u&&d(u,c);else a.values&&d(a.values,c)}if(i.type==="grouped")for(let l of a.values)o(l);else o(a.values)}for(let[a,l]of n)i.domain.values[a]=l.getDomain()}postProcessProperties(i){for(let{adjust:e,property:t,scopes:n}of this.propertyProcessors)e()(i,this.valueIdxLookup(n,t))}reduceData(i){i.reduced??(i.reduced={});for(let e of this.reducers){let t=e.reducer(),n=e.initialValue;for(let s of i.data)(!s.validScopes||e.scopes?.some(r=>s.validScopes?.has(r)))&&(n=t(n,s));i.reduced[e.property]=n}}postProcessData(i){i.reduced??(i.reduced={});for(let e of this.processors)i.reduced[e.property]=e.calculate(i)}initDataDomainProcessor(){let{keys:i,values:e}=this,t=new Set;for(let c of e)if(c.scopes)for(let d of c.scopes)t.add(d);let n=new Map,s=new Map,r=!0,o=()=>{for(let c of Xs(i,e))c.valueType==="category"?n.set(c,new nx):(n.set(c,new qo),r&&(r=(c.scopes??[]).length===t.size))};o();let a=this.buildAccessors(Xs(i,e));return{dataDomain:n,processValue:(c,d,u,h)=>{let p,f;if(a.has(c.property)){try{f=a.get(c.property)(d)}catch{}p=f!=null}else p=c.property in d,f=p?d[c.property]:c.missingValue;c.forceValue!=null&&(f=p&&oc(f)?-1*c.forceValue:c.forceValue,p=!0);let g="missingValue"in c;if(!p&&!g){let y=c.missing.get(h)??0;c.missing.set(h,y+1)}if(n.has(c)||o(),p&&c.validation?.(f,d)===!1)if("invalidValue"in c)f=c.invalidValue;else return this.mode!=="integrated"&&R.warnOnce(`invalid value of type [${typeof f}] for [${c.scopes} / ${c.id}] ignored:`,`[${f}]`),jr;return c.processor&&(s.has(c)||s.set(c,c.processor()),f=s.get(c)?.(f,u===jr?void 0:u)),n.get(c)?.extend(f),f},initDataDomain:o,scopes:t,allScopesHaveSameDefs:r}}buildAccessors(i){let e=new Map;if(this.mode==="integrated")return e;for(let t of i){if(!(t.property.includes(".")||t.property.includes("[")))continue;let s=xS(t.property);if(s==null){R.warnOnce("Invalid property path [%s]",t.property);continue}let r=hk(s);e.set(t.property,r)}return e}};function pk(i){let e=(t,n)=>{n.length>0&&(R.log(`DataModel.processData() - ${t}`),R.table(n))};if(R.log("DataModel.processData() - processedData",i),e("Key Domains",i.domain.keys),e("Group Domains",i.domain.groups??[]),e("Value Domains",i.domain.values),e("Aggregate Domains",i.domain.aggValues??[]),i.type==="grouped"){let t=i.data.reduce((n,s)=>{let r=s.keys??[],o=s.aggValues??[],a=s.keys.map(()=>{}),l=o?.map(()=>{});return n.push(...s.values.map((c,d)=>[...d===0?r:a,...c??[],...d==0?o:l])),n},[]);e("Values",t)}else{let t=i.data.reduce((n,s)=>{let r=s.aggValues??[];return n.push([...s.keys,...s.values,...r]),n},[]);e("Values",t)}}var fk=(()=>{let i=class us{constructor(t){this.mode=t,this.debug=Wt.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,n,s){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((r,o)=>{this.requested.push({id:t,opts:s,data:n,resolve:r,reject:o})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);let n=this.mergeRequested(t);this.debug("DataController.execute() - merged",n),this.debug.check()&&(je().processedData=[]);let s=this.requested.map(({id:o})=>o),r=this.hasMultipleDataSources(t);for(let{opts:o,data:a,resolves:l,rejects:c,ids:d}of n)try{let u=new MS(o,this.mode),h=u.processData(a,t);this.debug.check()&&je("processedData").push(h),h?.partialValidDataCount===0?l.forEach((p,f)=>p({dataModel:u,processedData:this.processScopedData(d[f],h,s,r)})):h?this.splitResult(u,h,d,l):c.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(u){c.forEach(h=>h(u))}}hasMultipleDataSources(t){if(t.length){let[{data:n},...s]=t;return s.some(r=>n!==r.data)}return!1}processScopedData(t,n,s,r){let o=l=>{if(Array.isArray(l))return l.map(o);let c=r?S(S({},l),l[t]):l;for(let d of s)delete c[d];return c},a=l=>Array.isArray(l)?l.map(a):l?.[t]??l;return E(S({},n),{data:n.data.map(l=>E(S({},l),{datum:o(l.datum),values:r?l.values?.map(a):l.values}))})}validateRequests(t){let n=[];for(let[s,r]of t.entries())s>0&&r.data.length!==t[0].data.length&&r.opts.groupByData===!1?r.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(r);return n}mergeRequested(t){let n=[];for(let s of t){let r=n.find(us.groupMatch(s));r?r.push(s):n.push([s])}return n.map(us.mergeRequests)}splitResult(t,n,s,r){for(let o=0;o<s.length;o++){let a=s[o],l=r[o];l({dataModel:t,processedData:E(S({},n),{data:n.data.filter(({validScopes:c})=>c?.has(a)??!0)})})}}static groupMatch({data:t,opts:n}){function s(r){return r.filter(o=>o.type==="key").map(o=>o.property).join(";")}return([r])=>(n.groupByData===!1||r.data===t)&&r.opts.groupByKeys===n.groupByKeys&&r.opts.groupByFn===n.groupByFn&&s(r.opts.props)===s(n.props)}static mergeRequests(t){return t.reduce((n,d)=>{var{id:s,data:r,resolve:o,reject:a,opts:u}=d,h=u,{props:l}=h,c=_t(h,["props"]);n.ids.push(s),n.rejects.push(a),n.resolves.push(o),n.data??(n.data=r),n.opts??(n.opts=E(S({},c),{props:[]}));for(let p of l){let f=E(S({},p),{scopes:[s]});us.createIdsMap(s,f);let g=n.opts.props.find(y=>y.type===f.type&&us.deepEqual(y,f));if(!g){n.opts.props.push(f);continue}g.scopes??(g.scopes=[]),g.scopes.push(...f.scopes??[]),(g.type==="key"||g.type==="value")&&f.idsMap?.size&&us.mergeIdsMap(f.idsMap,g.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,n){for(let[s,r]of t){let o=n.get(s);if(o!=null)for(let a of r)o.add(a);else n.set(s,new Set(r))}}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let s,r;if(Array.isArray(t)){if(r=t.length,r!==n.length)return!1;for(s=r-1;s>=0;s--)if(!us.deepEqual(t[s],n[s]))return!1;return!0}let o=Object.keys(t);if(r=o.length,r!==Object.keys(n).length)return!1;for(s=r-1;s>=0;s--){let a=o[s];if(!us.skipKeys.has(a)&&(!Object.hasOwn(n,a)||!us.deepEqual(t[a],n[a])))return!1}return!0}return!1}};return i.skipKeys=new Set(["id","idsMap","type","scopes"]),i})(),IS=fk,mk=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(i,e){this.axesMap.set(i,e.moduleFactory),e.themeTemplate&&this.setThemeTemplate(i,e.themeTemplate),e.hidden&&this.hidden.add(i)}create(i,e){let t=this.axesMap.get(i);if(t)return t(e);throw new Error(`AG Charts - unknown axis type: ${i}`)}has(i){return this.axesMap.has(i)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(i=>!this.hidden.has(i))}setThemeTemplate(i,e){return this.themeTemplates.set(i,e),this}getThemeTemplate(i){return this.themeTemplates.get(i)}},gs=new mk,wa=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["gauge"],identifier:"radial-gauge"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function gk(i){return wa.some(e=>e.type==="series"&&e.identifier===i)}function vo(i){return wa.find(e=>e.type==="series"&&e.identifier===i)?.chartTypes}function yk(i){return vo(i)?.find(t=>t==="cartesian")==="cartesian"}function bk(i){return vo(i)?.find(t=>t==="polar")==="polar"}function vk(i){return vo(i)?.find(t=>t==="hierarchy")==="hierarchy"}function xk(i){return vo(i)?.find(t=>t==="topology")==="topology"}function Mk(i){return vo(i)?.find(t=>t==="flow-proportion")==="flow-proportion"}function Ik(i){return vo(i)?.find(t=>t==="standalone")==="standalone"}function Sk(i){return vo(i)?.find(t=>t==="gauge")==="gauge"}function Dk(i){return i.packageType==="enterprise"}function Ak(i){if(!Dk(i))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let e=wa.find(t=>t.type===i.type&&t.optionsKey===i.optionsKey&&t.identifier===i.identifier&&i.chartTypes.every(n=>t.chartTypes.includes(n)));return e&&(e.useCount??(e.useCount=0),e.useCount++),e!=null}function wk(){return wa.filter(({useCount:i})=>i==null||i===0)}var Ck=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(i,{optionsKey:e,moduleFactory:t,themeTemplate:n}){this.legendMap.set(i,{optionsKey:e,moduleFactory:t}),this.themeTemplates.set(e,n)}create(i,e){let t=this.legendMap.get(i)?.moduleFactory;if(t)return t(e);throw new Error(`AG Charts - unknown legend type: ${i}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((i,[e,t])=>(i[e]=t.optionsKey,i),{})}},lg=new Ck,SS=class extends Map{get(i){return super.get(i)??"unknown"}isCartesian(i){return this.get(i)==="cartesian"}isPolar(i){return this.get(i)==="polar"}isHierarchy(i){return this.get(i)==="hierarchy"}isTopology(i){return this.get(i)==="topology"}isFlowProportion(i){return this.get(i)==="flow-proportion"}isStandalone(i){return this.get(i)==="standalone"}isGauge(i){return this.get(i)==="gauge"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(i=>this.isCartesian(i))}get polarTypes(){return this.seriesTypes.filter(i=>this.isPolar(i))}get hierarchyTypes(){return this.seriesTypes.filter(i=>this.isHierarchy(i))}get topologyTypes(){return this.seriesTypes.filter(i=>this.isTopology(i))}get flowProportionTypes(){return this.seriesTypes.filter(i=>this.isFlowProportion(i))}get standaloneTypes(){return this.seriesTypes.filter(i=>this.isStandalone(i))}get gaugeTypes(){return this.seriesTypes.filter(i=>this.isGauge(i))}},_k=class extends Map{set(i,e){return super.set(i,xt(e,this.get(i)))}},Zt=new SS,DS=new SS,im=new _k,Ek=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(i,{chartTypes:[e],moduleFactory:t,tooltipDefaults:n,defaultAxes:s,themeTemplate:r,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:d,hidden:u}){this.setThemeTemplate(i,r),this.seriesMap.set(i,{moduleFactory:t,tooltipDefaults:n,defaultAxes:s,paletteFactory:o,solo:a,stackable:l,groupable:c,stackedByDefault:d}),Zt.set(i,e),u||DS.set(i,e)}create(i,e){let t=this.seriesMap.get(i)?.moduleFactory;if(t)return t(e);throw new Error(`AG Charts - unknown series type: ${i}`)}cloneDefaultAxes(i,e){let t=this.seriesMap.get(i)?.defaultAxes;if(t==null)return null;let n=typeof t=="function"?t(e):t;return{axes:Pe(n)}}setThemeTemplate(i,e){let t=this.themeTemplates.get(i);this.themeTemplates.set(i,xt(e,t))}getThemeTemplate(i){return this.themeTemplates.get(i)}getPaletteFactory(i){return this.seriesMap.get(i)?.paletteFactory}getTooltipDefauls(i){return this.seriesMap.get(i)?.tooltipDefaults}isSolo(i){return this.seriesMap.get(i)?.solo??!1}isGroupable(i){return this.seriesMap.get(i)?.groupable??!1}isStackable(i){return this.seriesMap.get(i)?.stackable??!1}isStackedByDefault(i){return this.seriesMap.get(i)?.stackedByDefault??!1}},Ri=new Ek,cg=class $r extends Qn{constructor(e){super(),this.chart=e}subscribe(e=$r.DEFAULT_GROUP){let t=this.get(e);return t||(t=new Set,$r.chartsGroups.set(e,t)),t.add(this.chart),this}unsubscribe(e=$r.DEFAULT_GROUP){return this.get(e)?.delete(this.chart),this}getChart(){return this.chart}getGroup(e=$r.DEFAULT_GROUP){let t=this.get(e);return t?Array.from(t):[]}getGroupSiblings(e=$r.DEFAULT_GROUP){return this.getGroup(e).filter(t=>t!==this.chart)}get(e){return $r.chartsGroups.get(e)}};cg.chartsGroups=new Map;cg.DEFAULT_GROUP=Symbol("sync-group-default");var Tk=cg,dg=class extends ft{constructor(){super(...arguments),this.enabled=!1}};m([x(et)],dg.prototype,"enabled",2);m([x(Gt)],dg.prototype,"tabIndex",2);var AS=["top","right","bottom","left"];function Lk(i){return typeof i=="string"&&AS.includes(i)}function Nk(i){let e=[],t=[],n=[...AS];for(let s of i)s instanceof ar&&(Lk(s.position)?t.push(s.position):e.push(s));for(let s of e){let r;do r=n.pop();while(r&&t.includes(r));if(r==null)break;s.position=r}}var kk=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function Rk(i,e,t){let n=(d,u,h)=>{let p=[d];for(let f of kk)f in u&&u[f]!=null&&p.push(`${f}=${u[f]}`);return h?.seriesGrouping&&p.push(`seriesGrouping.groupId=${h?.seriesGrouping.groupId}`),p.join(";")},s=new Map,r=0;for(let d of i){let u=n(d.type,d.properties,t?.[r]);s.has(u)||s.set(u,[]),s.get(u)?.push([d,r++])}let o=new Map;for(let d of e){let u=n(d.type,d,d);o.has(u)||o.set(u,[]),o.get(u)?.push(d)}if(![...s.keys()].some(d=>o.has(d)))return{status:"no-overlap",oldKeys:s.keys(),newKeys:o.keys()};let l=[],c=-1;for(let[d,u]of o.entries())for(let h of u){c++;let p=s.get(d);if(p==null||p.length<1){l.push({opts:h,idx:c,status:"add"}),s.delete(d);continue}let[f,g]=p.shift(),y=t?.[g]??{},v=cn(y,h??{}),{groupIndex:b,stackIndex:M}=v?.seriesGrouping??{};b!=null||M!=null?l.push({opts:h,series:f,diff:v,idx:g,status:"series-grouping"}):v?l.push({opts:h,series:f,diff:v,idx:g,status:"update"}):l.push({opts:h,series:f,idx:g,status:"no-op"}),p.length===0&&s.delete(d)}for(let d of s.values())for(let[u,h]of d)l.push({series:u,idx:h,status:"remove"});return{status:"overlap",changes:l}}function ws(i){let{series:e}=i;if(e)return e[0]?.type??"line"}function ya(i){let e=ws(i);return e==null?!1:Zt.isCartesian(e)||yk(e)}function Uu(i){let e=ws(i);return e==null?!1:e==="polar"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isPolar(e)||bk(e)}function ug(i){let e=ws(i);return e==null?!1:e==="hierarchy"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isHierarchy(e)||vk(e)}function hg(i){let e=ws(i);return e==null?!1:e==="topology"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isTopology(e)||xk(e)}function pg(i){let e=ws(i);return e==null?!1:e==="flow-proportion"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isFlowProportion(e)||Mk(e)}function fg(i){let e=ws(i);return e==null?!1:e==="standalone"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isStandalone(e)||Ik(e)}function Gu(i){let e=ws(i);return e==null?!1:e==="gauge"?(R.warnOnce(`type '${e}' is deprecated, use a series type instead`),!0):Zt.isGauge(e)||Sk(e)}function Ok(i){let e=ws(i);return Uu(i)&&e!=="pie"&&e!=="donut"}function Pk(i){return i==null?!1:Zt.has(i)}function jk(i){return i==null?!1:gs.has(i)}var Fk=class extends Vm{applyOptions(i){for(let e of this.moduleMap.values())e.module.optionsKey in i&&Yn(e.moduleInstance)&&e.moduleInstance.set(i[e.module.optionsKey])}*legends(){for(let{module:i,moduleInstance:e}of this.moduleMap.values())i.type==="legend"&&(yield{legendType:i.identifier,legend:e})}},nm="ag-chart-overlay",sx="ag-chart-dark-overlay",Ul=class extends ft{constructor(i,e){super(),this.className=i,this.defaultMessageId=e}getText(i){return i.t(this.text??this.defaultMessageId)}getElement(i,e,t){if(this.content?.remove(),this.focusBox=t,this.renderer){let n=this.renderer();if(n instanceof HTMLElement)this.content=n;else{let s=Ot("div");s.innerHTML=n,this.content=s.firstElementChild}}else{let n=Ot("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});n.innerText=this.getText(e),this.content=n,i?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(s){n.style.opacity=String(s)},onStop(){n.style.opacity="1"}})}return this.content}removeElement(i=()=>this.content?.remove(),e){if(this.content){if(e){let{content:t}=this;e.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(n){t.style.opacity=String(n)},onStop(){i?.()}})}else i?.();this.content=void 0,this.focusBox=void 0}}};m([x(P,{optional:!0})],Ul.prototype,"text",2);m([x(wi,{optional:!0})],Ul.prototype,"renderer",2);var xc=class extends ft{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Ul("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Ul("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Ul("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(i){for(let e of[this.loading,this.noData,this.noVisibleSeries])if(e.focusBox!==void 0)return{text:e.getText(i),rect:e.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};m([x(et)],xc.prototype,"darkTheme",2);m([x(Y)],xc.prototype,"loading",2);m([x(Y)],xc.prototype,"noData",2);m([x(Y)],xc.prototype,"noVisibleSeries",2);function zk(i,e){let{animationDuration:t}=$l.add,n=t*e,s=Ot("div",`${nm}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n}ms linear 50ms both`}),r=Ot("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=Ot("p",{marginTop:"1em"});o.innerText=i;let a=Ot("div",`${nm}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=Ot("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),s.replaceChildren(l,r,o,a),s}var wS=(i=>(i[i.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",i[i.NEAREST_NODE=1]="NEAREST_NODE",i[i.AXIS_ALIGNED=2]="AXIS_ALIGNED",i))(wS||{}),Bk=.25,Vk=.125,Mc=class{constructor(i,e,{datum:t},n){this.type=i,this.event=e,this.datum=t,this.seriesId=n.id}},mg=class{constructor(i,e,t){this.series=i,this.seriesGrouping=e,this.oldGrouping=t,this.type="groupingChanged"}},Ic=(()=>{let i=class extends TI{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=Mc,this.internalId=dn(this),this.rootGroup=new ut({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new Vm,this._declarationOrder=-1,this.seriesListeners=new bo,this._pickNodeCache=new Zm;let{moduleCtx:t,pickModes:n,directionKeys:s={},directionNames:r={},contentGroupVirtual:o=!0,canHaveAxes:a=!1}=e;this.ctx=t,this.directionKeys=s,this.directionNames=r,this.canHaveAxes=a,this.contentGroup=this.rootGroup.appendChild(new fs({name:`${this.internalId}-content`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new fs({name:`${this.internalId}-highlight`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new ut({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new ut({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new fs({name:`${this.internalId}-series-labels`,zIndex:14})),this.annotationGroup=new ut({name:`${this.id}-annotation`,isVirtual:o,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){let{internalId:n,type:s,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:s,visible:r,seriesGrouping:t}),this.fireEvent(new mg(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let n=0;switch(e){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":t+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){let n=this.resolveKeyDirection(e),s=t?.[n],r=[];if(!s)return r;let o=(...a)=>{for(let l of a)Array.isArray(l)?o(...l):typeof l=="object"?o(...Object.values(l)):r.push(l)};return o(...s.map(a=>this.properties[a])),r}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){let t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(s=>s.getDomain(e));return t.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){let{dimOpacity:t=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){let{strokeWidth:t,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){let e=this.ctx.highlightManager?.getActiveHighlight()?.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t,n=!1){let{pickModes:s,pickModeAxis:r,visible:o,rootGroup:a}=this;if(!o||!a.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let l=1/0;if(t==="tooltip"||t==="highlight-tooltip"){let{tooltip:p}=this.properties;l=typeof p.range=="number"?p.range:1/0,n||(n=p.range==="exact")}else if(t==="event"||t==="context-menu"){let{nodeClickRange:p}=this.properties;l=typeof p=="number"?p:1/0,n||(n=p==="exact")}let c=s.filter(p=>!n||p===0),{x:d,y:u}=e,h=JSON.stringify({x:d,y:u,maxDistance:l,selectedPickModes:c});if(this._pickNodeCache.has(h))return this._pickNodeCache.get(h);for(let p of c){let f;switch(p){case 0:f=this.pickNodeExactShape(e);break;case 1:f=this.pickNodeClosestDatum(e);break;case 2:f=p!=null?this.pickNodeMainAxisFirst(e,r==="main-category"):void 0;break}if(f&&f.distance<=l)return this._pickNodeCache.set(h,{pickMode:p,match:f.datum,distance:f.distance})}return this._pickNodeCache.set(h,void 0)}pickNodeExactShape(e){let t=this.contentGroup.pickNode(e.x,e.y);if(t&&t.datum.missing!==!0)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){let n=bu(e.x,e.y,t);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return E(S({},this.ctx),{series:this})}getLabelText(e,t,n=String){return e.formatter?this.ctx.callbackCache.call(e.formatter,S({seriesId:this.id},t))??n(t.value):n(t.value)}getMarkerStyle(e,t,n=e.getStyle()){let s={size:t.datum.point?.size??0},r=xt(s,n);if(e.itemStyler){let o=this.ctx.callbackCache.call(e.itemStyler,E(S(S({seriesId:this.id},r),t),{datum:t.datum.datum}));return xt(o,r)}return r}updateMarkerStyle(e,t,n,s=t.getStyle(),{applyTranslation:r=!0,selected:o=!0}={}){let{point:a}=n.datum,l=this.getMarkerStyle(t,n,s),c=this.visible&&l.size>0&&a&&!isNaN(a.x)&&!isNaN(a.y);if(r?e.setProperties(E(S({visible:c},l),{translationX:a?.x,translationY:a?.y})):e.setProperties(S({visible:c},l)),o||(e.fillOpacity*=Bk,e.strokeOpacity*=Vk),typeof t.shape=="function"&&!e.dirtyPath){e.path.clear(!0),e.updatePath(),e.checkPathDirty();let d=e.getBBox();if(a!==void 0&&d.isFinite()){let u=d.computeCenter(),[h,p]=["x","y"].map(g=>(l.strokeWidth??0)+Math.abs(u[g]-a[g])),f=Math.max(d.width+h,d.height+p);a.focusSize=f}}}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){let{width:t,height:n}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=cn(this.nodeDataDependencies,s)!=null;return r&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),r}pickFocus(e){}};return i.highlightedZIndex=1e12,i})();m([pi({changeValue:function(i,e){this.onSeriesGroupingChange(e,i)}})],Ic.prototype,"seriesGrouping",2);function Uk(i){if(i!=null)return i instanceof G?i.computeCenter():ne.toCanvas(i).computeCenter()}function Gk(i,e){let{bounds:t,showFocusBox:n}=e;n&&i?.updateBounds(t)}function Hk(i,e){Gk(i,e);let{x:t,y:n}=Uk(e.bounds)??{};if(t!==void 0&&n!==void 0)return{type:"keyboard",offsetX:t,offsetY:n}}function Yk({defs:i,values:e,xAxis:t,yAxis:n}){if(!(t&&n))throw new Error("Axes must be defined");let s={};for(let[r,{def:o}]of i)if(Object.hasOwn(e,r)){let{scale:a}=o.type==="key"?t:n;s[r]=Math.round(a.convert(e[r]))}return s}function Jo(i,e,t,n){let s=[...i].reverse(),r;for(let o of s){if(!o.visible||!o.rootGroup.visible)continue;let{match:a,distance:l}=o.pickNode(e,t,n)??{};if(!(!a||l==null)&&((!r||r.distance>l)&&(r={series:o,distance:l,datum:a}),l===0))break}return r}var Wk=class{constructor(i,e){this.element=i,this.id=e,i.id=e,i.style.display="none",Ai(i.parentElement,"aria-labelledby",e)}layoutComplete(i){this.element.parentElement.style.width=`${i.chart.width}px`,this.element.parentElement.style.height=`${i.chart.height}px`}set text(i){this.element.textContent=i}},Zk=class extends Qn{constructor(i){super(),this.chart=i,this.id=dn(this),this.series=[],this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="mouse",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.hoverScheduler=pN(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=4){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}});let e=i.ctx.regionManager.getRegion("series"),t=i.ctx.regionManager.getRegion("horizontal-axes"),n=i.ctx.regionManager.getRegion("vertical-axes"),s=41,r=34,o=i.ctx.domManager.addChild("series-area","series-area-aria-label");this.ariaLabel=new Wk(o,`${this.id}-aria-label`),this.destroyFns.push(()=>i.ctx.domManager.removeChild("series-area","series-area-aria-label"),e.addListener("contextmenu",a=>this.onContextMenu(a),63),e.addListener("drag",a=>this.onHoverLikeEvent(a),s),e.addListener("hover",a=>this.onHover(a),s),e.addListener("leave",()=>this.onLeave(),s),t.addListener("hover",a=>this.onHover(a),s),t.addListener("leave",()=>this.onLeave()),n.addListener("hover",a=>this.onHover(a),s),n.addListener("leave",()=>this.onLeave()),i.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),i.ctx.domManager.addListener("resize",()=>this.clearAll()),i.ctx.highlightManager.addListener("highlight-change",a=>this.changeHighlightDatum(a)),i.ctx.keyNavManager.addListener("blur",()=>this.onBlur()),i.ctx.keyNavManager.addListener("focus",a=>this.onFocus(a),r),i.ctx.keyNavManager.addListener("nav-hori",a=>this.onNavHori(a),r),i.ctx.keyNavManager.addListener("nav-vert",a=>this.onNavVert(a),r),i.ctx.keyNavManager.addListener("submit",a=>this.onSubmit(a),r),i.ctx.layoutManager.addListener("layout:complete",a=>this.layoutComplete(a)),i.ctx.regionManager.listenAll("click",a=>this.onClick(a)),i.ctx.regionManager.listenAll("dblclick",a=>this.onClick(a)),i.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),i.ctx.zoomManager.addListener("zoom-change",()=>this.clearAll()),i.ctx.zoomManager.addListener("zoom-pan-start",()=>this.clearAll()))}dataChanged(){var i;(i=this.highlight).stashedHoverEvent??(i.stashedHoverEvent=this.highlight.appliedHoverEvent),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.focusIndicator.updateBounds(void 0),this.clearHighlight()}preSceneRender(){this.refreshFocus(),this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}update(i,e){this.chart.ctx.updateService.update(i,e)}seriesChanged(i){this.focus.sortedSeries=[...i].sort((e,t)=>{let n=e.properties.focusPriority??1/0,s=t.properties.focusPriority??1/0;return n===s&&([n,s]=[e._declarationOrder,t._declarationOrder]),n<s?-1:n>s?1:0}),this.series=i}layoutComplete(i){this.seriesRect=i.series.rect,this.hoverRect=i.series.paddedRect,this.ariaLabel.layoutComplete(i)}onContextMenu(i){let{Default:e,ContextMenu:t}=Bu,n,s;if(this.chart.ctx.focusIndicator.isFocusVisible())n=this.chart.ctx.highlightManager.getActiveHighlight(),n&&this.seriesRect&&n.midPoint&&(s=ne.toCanvasPoint(n.series.contentGroup,n.midPoint.x,n.midPoint.y));else if(this.chart.ctx.interactionManager.getState()&(e|t)){let r=Jo(this.series,{x:i.regionOffsetX,y:i.regionOffsetY},"context-menu");r&&(this.chart.ctx.highlightManager.updateHighlight(this.id),n=r.datum)}this.clearAll(),this.chart.ctx.contextMenuRegistry.dispatchContext("series",i,{pickedNode:n},s)}onLeave(){this.chart.ctx.cursorManager.updateCursor(this.id),this.chart.ctx.focusIndicator.isFocusVisible()||this.clearAll()}onHover(i){this.hoverDevice="mouse",this.onHoverLikeEvent(i)}onHoverLikeEvent(i){if(mM(i,"drag")&&(this.tooltip.lastHover=i),this.highlight.pendingHoverEvent=i,this.hoverScheduler.schedule(),this.chart.ctx.interactionManager.getState()===32){let{regionOffsetX:e,regionOffsetY:t}=i,n=Jo(this.series,{x:e,y:t},"event");n?.series.hasEventListener("nodeClick")||n?.series.hasEventListener("nodeDoubleClick")?this.chart.ctx.cursorManager.updateCursor(this.id,"pointer"):this.chart.ctx.cursorManager.updateCursor(this.id)}}onClick(i){if(this.hoverDevice="mouse",this.onHoverLikeEvent(i),this.seriesRect?.containsPoint(i.offsetX,i.offsetY)&&this.checkSeriesNodeClick(i)){this.update(4),i.preventDefault();return}let e={type:i.type==="click"?"click":"doubleClick",event:i.sourceEvent};this.chart.fireEvent(e)}onFocus(i){this.hoverDevice=this.chart.ctx.focusIndicator.isFocusVisible()?"keyboard":"mouse",this.handleFocus(0,0),i.preventDefault()}onBlur(){this.hoverDevice="mouse",this.clearAll()}onNavVert(i){this.hoverDevice="keyboard",this.focus.seriesIndex+=i.delta,this.handleFocus(i.delta,0),i.preventDefault()}onNavHori(i){this.hoverDevice="keyboard",this.focus.datumIndex+=i.delta,this.handleFocus(0,i.delta),i.preventDefault()}onSubmit(i){let{series:e,datum:t}=this.focus,n=i.sourceEvent.sourceEvent;e!==void 0&&t!==void 0?e.fireNodeClickEvent(n,t):this.chart.fireEvent({type:"click",event:n}),i.preventDefault()}checkSeriesNodeClick(i){let e={x:i.regionOffsetX,y:i.regionOffsetY};i.region!=="series"&&(e=ne.fromCanvasPoint(this.chart.seriesRoot,i.offsetX,i.offsetY));let t=Jo(this.series,e,"event");return t==null?!1:i.type==="click"?(t.series.fireNodeClickEvent(i.sourceEvent,t.datum),!0):i.type==="dblclick"?(i.preventZoomDblClick=t.distance===0,t.series.fireNodeDoubleClickEvent(i.sourceEvent,t.datum),!0):!1}refreshFocus(){this.chart.ctx.focusIndicator.isFocusVisible()&&this.handleSeriesFocus(0,0)}handleFocus(i,e){let t=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);t==null?this.handleSeriesFocus(i,e):this.chart.ctx.focusIndicator.updateBounds(t.rect)}handleSeriesFocus(i,e){if(this.chart.chartType==="hierarchy"){this.handleHierarchySeriesFocus(i,e);return}let{focus:t,seriesRect:n}=this,s=t.sortedSeries.filter(l=>l.visible);if(s.length===0)return;t.seriesIndex=at(0,t.seriesIndex,s.length-1),t.series=s[t.seriesIndex];let{datumIndex:r,seriesIndex:o}=t,a=t.series.pickFocus({datumIndex:r,datumIndexDelta:e,otherIndex:o,otherIndexDelta:i,seriesRect:n});this.updatePickedFocus(a)}handleHierarchySeriesFocus(i,e){this.focus.series=this.focus.sortedSeries[0];let{focus:{series:t,seriesIndex:n,datumIndex:s},seriesRect:r}=this;if(t===void 0)return;let o=t.pickFocus({datumIndex:s,datumIndexDelta:e,otherIndex:n,otherIndexDelta:i,seriesRect:r});this.updatePickedFocus(o)}updatePickedFocus(i){let{focus:e}=this;if(i===void 0||e.series===void 0)return;let{datum:t,datumIndex:n}=i;e.datumIndex=n,e.datum=t,this.chart.ctx.focusIndicator.isFocusVisible()&&this.chart.ctx.animationManager.reset();let s=Hk(this.chart.ctx.focusIndicator,i);if(s!==void 0&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;let r=e.series.getTooltipHtml(t),o=ou.makeTooltipMeta(s,t);this.chart.ctx.highlightManager.updateHighlight(this.id,t),this.chart.ctx.tooltipManager.updateTooltip(this.id,o,r),this.ariaLabel.text=this.getDatumAriaText(t,r)}}getDatumAriaText(i,e){let t=e.ariaLabel;return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:i.series.getDatumAriaText?.(i,t)??t})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.chart.ctx.focusIndicator.updateBounds(void 0)}handleHoverHighlight(i){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;let e=this.highlight.appliedHoverEvent;if(!e)return;let t=this.chart.ctx.interactionManager.getState();if(t!==32&&t!==8&&t!==1)return;let{offsetX:n,offsetY:s}=e;if(i?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,s)){this.clearHighlight();return}let r={x:e.regionOffsetX,y:e.regionOffsetY};e.region!=="series"&&(r=ne.fromCanvasPoint(this.chart.seriesRoot,n,s));let{range:o}=this.chart.highlight,a=o==="tooltip"?"highlight-tooltip":"highlight",l=Jo(this.series,r,a);if(l){this.chart.ctx.highlightManager.updateHighlight(this.id,l.datum),this.hoverDevice="mouse";return}this.chart.ctx.highlightManager.updateHighlight(this.id)}handleHoverTooltip(i,e){let t=this.chart.ctx.interactionManager.getState();if(t!==32&&t!==8&&t!==1)return;let{offsetX:n,offsetY:s,targetElement:r,regionOffsetX:o,regionOffsetY:a}=i;if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(n,s)){this.hoverDevice=="mouse"&&this.clearTooltip();return}if(r&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(r,"canvas-overlay",Bn))return;let l={x:o,y:a};i.region!=="series"&&(l=ne.fromCanvasPoint(this.chart.seriesRoot,n,s));let c=Jo(this.series,l,"tooltip");if(!c){this.hoverDevice=="mouse"&&this.clearTooltip();return}this.hoverDevice="mouse";let d=c.series.getTooltipHtml(c.datum);if(this.chart.tooltip.enabled&&c.series.tooltipEnabled&&d!=null){let p=ou.makeTooltipMeta(i,c.datum);this.chart.ctx.tooltipManager.updateTooltip(this.id,p,d)}}changeHighlightDatum(i){let e=new Set,{series:t=void 0,datum:n}=i.currentHighlight??{},{series:s=void 0,datum:r}=i.previousHighlight??{};s&&e.add(s),t&&e.add(t),s?.properties.cursor&&r&&this.chart.ctx.cursorManager.updateCursor(s.id),t?.properties.cursor&&t?.properties.cursor!=="default"&&n&&this.chart.ctx.cursorManager.updateCursor(t.id,t.properties.cursor),t==null||s==null?this.update(4):this.update(4,{seriesToUpdate:e})}},rx=30,$k=class{constructor(i,e,t){this.seriesRoot=i,this.highlightRoot=e,this.annotationRoot=t,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(i){this.expectedSeriesCount=i}requestGroup(i){var e,t;let{internalId:n,type:s,rootGroup:r,highlightGroup:o,annotationGroup:a,seriesGrouping:l}=i,{groupIndex:c=n}=l??{};if(this.series[n]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[n]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=rx?"aggressive-grouping":"normal"),(e=this.groups)[s]??(e[s]={});let d=this.lookupIdx(c),u=(t=this.groups[s])[d]??(t[d]={type:s,id:d,seriesIds:[],group:this.seriesRoot.appendChild(new Wn({name:`${s}-content`,zIndex:4,zIndexSubOrder:i.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new ut({name:`${s}-highlight`,zIndex:4,zIndexSubOrder:i.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new ut({name:`${s}-annotation`,zIndex:4,zIndexSubOrder:i.getGroupZIndexSubOrder("annotation")}))});return this.series[n]={layerState:u,seriesConfig:i},u.seriesIds.push(n),u.group.appendChild(r),u.highlight.appendChild(o),u.annotation.appendChild(a),u.group}changeGroup(i){let{internalId:e,seriesGrouping:t,type:n,rootGroup:s,highlightGroup:r,annotationGroup:o,oldGrouping:a}=i,{groupIndex:l=e}=t??{};this.groups[n]?.[l]?.seriesIds.includes(e)||(this.series[e]!=null&&this.releaseGroup({internalId:e,seriesGrouping:a,type:n,rootGroup:s,highlightGroup:r,annotationGroup:o}),this.requestGroup(i))}releaseGroup(i){let{internalId:e,rootGroup:t,highlightGroup:n,annotationGroup:s,type:r}=i;if(this.series[e]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${e}`);let o=this.series[e]?.layerState;if(o&&(o.seriesIds=o.seriesIds.filter(a=>a!==e),o.group.removeChild(t),o.highlight.removeChild(n),o.annotation.removeChild(s)),o?.seriesIds.length===0)this.seriesRoot.removeChild(o.group),this.highlightRoot.removeChild(o.highlight),this.annotationRoot.removeChild(o.annotation),delete this.groups[o.type][o.id],delete this.groups[r][e];else if(o?.seriesIds.length>0){let a=this.series[o?.seriesIds?.[0]]?.seriesConfig;o.group.zIndexSubOrder=a?.getGroupZIndexSubOrder("data"),o.highlight.zIndexSubOrder=a?.getGroupZIndexSubOrder("highlight"),o.annotation.zIndexSubOrder=a?.getGroupZIndexSubOrder("annotation")}delete this.series[e]}lookupIdx(i){return this.mode==="normal"?i:typeof i=="string"&&(i=Number(i.split("-").at(-1)),!i)?0:Math.floor(at(0,i/this.expectedSeriesCount,1)*rx)}destroy(){for(let i of Object.values(this.groups))for(let e of Object.values(i))this.seriesRoot.removeChild(e.group),this.highlightRoot.removeChild(e.highlight),this.annotationRoot.removeChild(e.annotation);this.groups={},this.series={}}},Kk=class{constructor(i,e,t,n){this.chart=i,this.dataService=e,this.updateService=t,this.zoomManager=n,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(i=>i())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(i=>R.errorOnce(i))}onZoomChange(){this.dirtyZoom=!0}async updateWindow(){if(!this.dataService.isLazy())return;let i=this.getValidAxis(),e,t=!0;if(i){let n=this.zoomManager.getAxisZoom(i.id);e=this.getAxisWindow(i,n),t=this.shouldRefresh(i,n)}this.dirtyZoom=!1,this.dirtyDataSource=!1,t&&this.dataService.load({windowStart:e?.min,windowEnd:e?.max})}getValidAxis(){return this.chart.axes.find(i=>i.type==="time")}shouldRefresh(i,e){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let t=this.lastAxisZooms.get(i.id);return t&&e.min===t.min&&e.max===t.max?!1:(this.lastAxisZooms.set(i.id,e),!0)}getAxisWindow(i,e){let t=i.scale.getDomain?.();if(!e||!t||t.length===0||isNaN(Number(t[0])))return;let n=Number(t[1])-Number(t[0]),s=new Date(Number(t[0])+n*e.min),r=new Date(Number(t[0])+n*e.max);return{min:s,max:r}}},Xk=class{constructor(i,e,t,n,s,r,o){this.chartLike=i,this.overlays=e,this.dataService=t,this.layoutManager=n,this.localeManager=s,this.animationManager=r,this.domManager=o,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(nm),this.destroyFns.push(this.layoutManager.addListener("layout:complete",a=>this.onLayoutComplete(a)))}destroy(){this.destroyFns.forEach(i=>i()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:i}}){let e=this.dataService.isLoading(),t=this.chartLike.series.some(l=>l.hasData),n=this.chartLike.series.some(l=>l.visible);this.overlays.darkTheme?this.overlayElem.classList.add(sx):this.overlayElem.classList.remove(sx),this.overlayElem.style.left=`${i.x}px`,this.overlayElem.style.top=`${i.y}px`,this.overlayElem.style.width=`${i.width}px`,this.overlayElem.style.height=`${i.height}px`;let s=e,r=!e&&!t,o=t&&!n;s?this.showOverlay(this.overlays.loading,i):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,i):this.hideOverlay(this.overlays.noData),o?this.showOverlay(this.overlays.noVisibleSeries,i):this.hideOverlay(this.overlays.noVisibleSeries);let a=s||r||o;Ai(this.overlayElem,"aria-hidden",!a)}showOverlay(i,e){let t=i.getElement(this.animationManager,this.localeManager,e);this.overlayElem.appendChild(t)}hideOverlay(i){i.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},Mn=Wt.create(!0,"opts"),gg=class extends ft{constructor(){super(...arguments),this.padding=new mr(0)}};m([x(et,{optional:!0})],gg.prototype,"clip",2);m([x(Y)],gg.prototype,"padding",2);var $e=(()=>{let i=class CS extends TI{constructor(t,n){var s;super(),this.id=dn(this),this.seriesRoot=new fs({name:`${this.id}-series-root`}),this.highlightRoot=new fa({name:`${this.id}-highlight-root`,zIndex:5,deriveZIndexFromChildren:!0}),this.annotationRoot=new fa({name:`${this.id}-annotation-root`,zIndex:10}),this.debug=Wt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new mr(20),this.seriesArea=new gg,this.keyboard=new dg,this.mode="standalone",this.chartCaptions=new zu,this.destroyed=!1,this._destroyFns=[],this.skipSync=!1,this.chartAnimationPhase="initial",this.modulesManager=new Fk,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new hN,this.updateRequestors={},this.performUpdateTrigger=fN(async({count:u})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(u)}catch(h){R.error("update error",h)}}).catch(h=>R.errorOnce(h))}),this._performUpdateSplits={},this.axes=[],this.series=[],this.onSeriesNodeClick=u=>{this.fireEvent(E(S({},u),{type:"seriesNodeClick"}))},this.onSeriesNodeDoubleClick=u=>{this.fireEvent(E(S({},u),{type:"seriesNodeDoubleClick"}))},this.seriesGroupingChanged=u=>{if(!(u instanceof mg))return;let{series:h,seriesGrouping:p,oldGrouping:f}=u;h.rootGroup.isRoot()||this.seriesLayerManager.changeGroup({internalId:h.internalId,type:h.type,rootGroup:h.rootGroup,highlightGroup:h.highlightGroup,annotationGroup:h.annotationGroup,getGroupZIndexSubOrder:g=>h.getGroupZIndexSubOrder(g),seriesGrouping:p,oldGrouping:f})},this.chartOptions=t;let r=n?.scene,o=n?.container??t.processedOptions.container??void 0,a=new ut({name:"root"}),l=new Wn({name:"titles",zIndex:14});a.visible=!1,a.append(l),a.append(this.seriesRoot),a.append(this.highlightRoot),a.append(this.annotationRoot),l.append(this.title.node),l.append(this.subtitle.node),l.append(this.footnote.node),this.tooltip=new pn,this.seriesLayerManager=new $k(this.seriesRoot,this.highlightRoot,this.annotationRoot),this.mode=t.userOptions.mode??this.mode;let c=this.ctx=new ck(this,{scene:r,root:a,container:o,syncManager:new Tk(this),pixelRatio:t.specialOverrides.overrideDevicePixelRatio,updateCallback:(u=0,h)=>this.update(u,h),updateMutex:this.updateMutex});this._destroyFns.push(c.domManager.addListener("resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new xc,(s=this.overlays.loading).renderer??(s.renderer=()=>zk(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new Kk(this,c.dataService,c.updateService,c.zoomManager),new Xk(this,this.overlays,c.dataService,c.layoutManager,c.localeManager,c.animationManager,c.domManager)],this.highlight=new yS,this.container=o;let d=this.getModuleContext();c.regionManager.addRegion("series",this.seriesRoot,new hS(this.seriesRoot,()=>this.seriesRect??G.zero),this.ctx.axisManager.axisGridGroup),c.regionManager.addRegion("horizontal-axes"),c.regionManager.addRegion("vertical-axes"),c.regionManager.addRegion("root",a),c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new Zk(this.initSeriesAreaDependencies()),this._destroyFns.push(c.layoutManager.registerElement(0,u=>{u.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(u)}),c.layoutManager.addListener("layout:complete",u=>this.chartCaptions.positionAbsoluteCaptions(u)),c.dataService.addListener("data-load",u=>{this.data=u.data}),this.title.registerInteraction(d,"beforebegin"),this.subtitle.registerInteraction(d,"beforebegin"),this.footnote.registerInteraction(d,"afterend"),c.interactionManager.addListener("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(6)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.zoomManager.addListener("zoom-change",()=>{this.series.forEach(h=>h.animationState?.transition("updateData"));let u=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(c.domManager.containerSize)}static getInstance(t){return CS.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}initSeriesAreaDependencies(){let{ctx:t,tooltip:n,highlight:s,overlays:r,seriesRoot:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,chartType:a,ctx:t,tooltip:n,highlight:s,overlays:r,seriesRoot:o}}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(let t of this.series)t.resetAnimation(this.chartAnimationPhase);for(let t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;let n=t?.keepTransferableResources,s;return this.performUpdateType=7,this._destroyFns.forEach(r=>r()),this.processors.forEach(r=>r.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(r=>r.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{this.destroyed||(await t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)}).catch(n=>R.errorOnce(n)))}update(t=0,n){let{forceNodeDataRefresh:s=!1,skipAnimations:r,seriesToUpdate:o=this.series,newAnimationBatch:a}=n??{};s&&this.series.forEach(l=>l.markNodeDataDirty());for(let l of o)this.seriesToUpdate.add(l);if(r&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.skipSync=n?.skipSync??!1,this.debug.check()){let l=new Error().stack??"<unknown>";l=l.replace(/\([^)]*/g,""),this.updateRequestors[l]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n?.backOffMs))}async performUpdate(t){let{performUpdateType:n,extraDebugStats:s,_performUpdateSplits:r,ctx:o}=this,a=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(o.animationManager.startBatch(this._performUpdateSkipAnimations),o.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",Vl[n]);let l=performance.now();r.start??(r.start=l);let c=h=>{r[h]??(r[h]=0),r[h]+=performance.now()-l,l=performance.now()},d=!1;switch(n){case 0:this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:await this.updateData(),c("\u2B07\uFE0F");case 2:await this.processData(),this.seriesAreaManager.dataChanged(),c("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(a)){d=!0;break}await this.processLayout(),c("\u2316");case 4:{if(this.checkUpdateShortcut(4))break;let{seriesRect:h}=this;await Promise.all(a.map(p=>p.update({seriesRect:h}))),c("\u{1F914}"),this.updateAriaLabels()}case 5:if(this.checkUpdateShortcut(5))break;o.updateService.dispatchPreSceneRender(this.getMinRects()),c("\u2196");case 6:if(this.checkUpdateShortcut(6))break;o.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,await o.scene.render({debugSplitTimes:r,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(let h in r)delete r[h];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,o.animationManager.endBatch()}d||(o.updateService.dispatchUpdateComplete(this.getMinRects()),this.ctx.domManager.setDataBoolean("updatePending",!1));let u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-r.start)*100)/100,count:t,performUpdateType:Vl[n]})}updateThemeClassName(){let{theme:t}=this.chartOptions.processedOptions,n="ag-charts-theme-",s=[`${n}default`,`${n}default-dark`],r=s[0],o=!1;typeof t=="string"?(r=t.replace("ag-",n),o=t.includes("-dark")):typeof t?.baseTheme=="string"&&(r=t.baseTheme.replace("ag-",n),o=t.baseTheme.includes("-dark")),s.includes(r)||(r=o?s[1]:s[0]),this.ctx.domManager.setThemeClass(r)}updateDOM(){this.updateThemeClassName();let{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabIndex(t?n??0:-1)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(R.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){let n=this._performUpdateNoRenderCount++,s=(n+1)**2*40;if(n<8)return this.update(3,{seriesToUpdate:t,backOffMs:s}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",s),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){let s=n?.filter(r=>!t.includes(r))??[];this.destroySeries(s),this.seriesLayerManager?.setSeriesCount(t.length);for(let r of t){if(n?.includes(r))continue;r.rootGroup.isRoot()&&this.seriesLayerManager.requestGroup(r);let o=this;r.chart={get mode(){return o.mode},get isMiniChart(){return!1},get seriesRect(){return o.seriesRect},placeLabels(a){return o.placeLabels(a)}},r.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(r),r.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(t)}destroySeries(t){t?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(let t of this.axes)t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)}assignAxesToSeries(){let t=km(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(s=>{let r=t[s];if(!r){R.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}let o=n.getKeys(s),a=r.find(l=>!l.keys.length||o.some(c=>l.keys.includes(c)));if(!a){R.warnOnce(`no matching axis for direction [${s}] and keys [${o}]; check series and axes configuration.`);return}n.axes[s]=a})})}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:s}=t;if(n=Math.floor(n),s=Math.floor(s),n===0&&s===0)return;let[r=0,o=0]=this._lastAutoSize??[];r===n&&o===s||(this._lastAutoSize=[n,s],this.resize("SizeMonitor",{}))}resize(t,n){let{scene:s,animationManager:r}=this.ctx,{inWidth:o,inHeight:a,inMinWidth:l,inMinHeight:c}=n;this.ctx.domManager.setSizeOptions(l??this.minWidth,c??this.minHeight,o??this.width,a??this.height);let d=o??this.width??this._lastAutoSize?.[0],u=a??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${t}`,{width:d,height:u,stack:new Error().stack}),!(d==null||u==null||!It(d)||!It(u))&&s.resize(d,u)){r.reset();let h=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(h=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:h})}}async updateData(){this.series.forEach(n=>n.setChartData(this.data));let t=this.modulesManager.mapModules(n=>n.updateData?.(this.data));await Promise.all(t)}async processData(){this.series.some(r=>r.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());let t=new IS(this.mode),n=this.series.map(r=>r.processData(t)),s=this.modulesManager.mapModules(r=>r.processData?.(t));t.execute(),await Promise.all([...n,...s]);for(let{legendType:r,legend:o}of this.modulesManager.legends())o.data=this.getLegendData(r,this.mode!=="integrated")}placeLabels(t){let n=[],s=[];for(let u of this.series){if(!u.visible)continue;let h=u.getLabelData();FL(h?.[0])&&(s.push(h),n.push(u))}let{seriesRect:r}=this,{top:o,right:a,bottom:l,left:c}=this.seriesArea.padding,d=r&&s.length>0?BL(s,{x:-c,y:-o,width:r.width+c+a,height:r.height+o+l},t):[];return new Map(d.map((u,h)=>[n[h],u]))}getLegendData(t,n){var s;let r=this.series.filter(a=>a.properties.showInLegend).flatMap(a=>a.getLegendData(t));if(n&&(a=>a.every(l=>l.legendType==="category"))(r)){let a={},l=new Map(this.series.map(c=>[c.id,c.type]));for(let{seriesId:c,symbols:[{marker:d}],label:u}of r){if(d.fill==null)continue;let h=l.get(c),p=a[h]??(a[h]={});p[s=u.text]??(p[s]=d.fill),p[u.text]!==d.fill&&R.warnOnce(`legend item '${u.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return r}async processLayout(){let t=this.animationRect,{width:n,height:s}=this.ctx.scene,r=this.ctx.layoutManager.createContext(n,s);await this.performLayout(r),t&&!this.animationRect?.equals(t)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async waitForUpdate(t=1e4,n=!1){let s=performance.now();for(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue();this.performUpdateType!==7;){if(performance.now()-s>t){let r=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(r);R.warnOnce(r)}await uN(50)}await this.updateMutex.waitForClearAcquireQueue()}getMinRects(){let{width:t,height:n}=this.ctx.scene,s=this.series.map(u=>u.getMinRects(t,n)).filter(ua);if(s.length===0)return;let r=0,o=0,a=0,l=0;for(let{minRect:u,minVisibleRect:h}of s)r=Math.max(r,u.width),o=Math.max(o,u.height),a=Math.max(a,h.width),l=Math.max(l,h.height);let c=new G(0,0,r,o),d=c.clone();return a>0&&l>0&&(d=new G(0,0,a,l)),{minRect:c,minVisibleRect:d}}filterMiniChartSeries(t){return t?.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){let s=t!==this.chartOptions?this.chartOptions.processedOptions:{},r=t.processedOptions,o=t.diffOptions(s);if(o==null)return;Mn("Chart.applyOptions() - applying delta",o);let a=this.applyModules(r),l=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState"];o.listeners&&this.registerListeners(this,o.listeners),ra(this,o,{skip:l});let c=!1,d="no-op";o.series!=null&&(d=this.applySeries(this,o.series,s?.series),c=!0),d==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,s,d,[],!0)&&(c=!0),o.data&&(this.data=o.data),o.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,o.legend.listeners),o.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=o.locale?.localeText),this.chartOptions=t;let u=this.modulesManager.getModule("navigator"),h=this.modulesManager.getModule("zoom");!u?.enabled&&!h?.enabled&&this.ctx.zoomManager.updateZoom("chart");let p=u?.miniChart,f=r.navigator?.miniChart?.series??r.series;p?.enabled===!0&&f!=null?this.applyMiniChartOptions(p,f,r,s):p?.enabled===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(o,d));let y=c||a?0:3;this.maybeResetAnimations(d),Mn("Chart.applyOptions() - update type",Vl[y],{seriesStatus:d,forceNodeDataRefresh:c}),this.update(y,{forceNodeDataRefresh:c,newAnimationBatch:!0}),(o.initialState||o.theme)&&this.applyInitialState(t.userOptions.initialState)}applyInitialState(t){let{ctx:{annotationManager:n,historyManager:s,stateManager:r}}=this;if(t?.annotations!=null){let o=t.annotations.map(a=>{let l=n.getAnnotationTypeStyles(a.type);return xt(a,l)});r.setState(n,o)}t!=null&&s.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(t,n){let s=!!t.data||n==="data-change"||n==="replaced",r=lg.getKeys(),o=Object.values(r).some(l=>t[l]!=null),a=t.title!=null&&t.subtitle!=null;return s||o||a}applyMiniChartOptions(t,n,s,r){let o=r?.navigator?.miniChart?.series??r?.series,a=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(o));this.applyAxes(t,s,r,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let l=t.series;for(let u of l)u.properties.id=void 0;let c=t.axes,d=c.find(u=>u.direction==="x");for(let u of c)u.gridLine.enabled=!1,u.label.enabled=u===d,u.tick.enabled=!1,u.interactionEnabled=!1;if(d!=null){let u=s.navigator?.miniChart,h=u?.label,p=u?.label?.interval;d.line.enabled=!1,d.label.set(zf(h,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),d.tick.set(zf(p,["enabled","width","size","color","interval","step"]));let f=p?.step;f!=null&&(d.interval.step=f)}}applyModules(t){let{type:n}=this.constructor,s=!1;for(let r of er.byType("root","legend")){let a=t[r.optionsKey]!=null&&r.chartTypes.includes(n);a!==this.modulesManager.isEnabled(r)&&(a?(this.modulesManager.addModule(r,l=>l.moduleFactory(this.getModuleContext())),r.type==="legend"&&this.modulesManager.getModule(r)?.attachLegend(this.ctx.scene),this[r.optionsKey]=this.modulesManager.getModule(r)):(this.modulesManager.removeModule(r),delete this[r.optionsKey]),s=!0)}return s}initSeriesDeclarationOrder(t){for(let n=0;n<t.length;n++)t[n]._declarationOrder=n}applySeries(t,n,s){if(!n)return"no-change";let r=Rk(t.series,n,s);if(r.status==="no-overlap")return Mn(`Chart.applySeries() - creating new series instances, status: ${r.status}`,r),t.series=n.map(d=>this.createSeries(d)),this.initSeriesDeclarationOrder(t.series),"replaced";Mn("Chart.applySeries() - matchResult",r);let o=[],a=!1,l=!1,c=!1;for(let d of r.changes)switch(l||(l=d.status==="series-grouping"),a||(a=d.diff?.data!=null),c||(c=d.status!=="no-op"),d.status){case"add":{let u=this.createSeries(d.opts);o.push(u),Mn("Chart.applySeries() - created new series",u);break}case"remove":Mn(`Chart.applySeries() - removing series at previous idx ${d.idx}`,d.series);break;case"no-op":o.push(d.series),Mn(`Chart.applySeries() - no change to series at previous idx ${d.idx}`,d.series);break;case"series-grouping":case"update":default:{let{series:u,diff:h,idx:p}=d;Mn(`Chart.applySeries() - applying series diff previous idx ${p}`,h,u),this.applySeriesValues(u,h),u.markNodeDataDirty(),o.push(u)}}return this.initSeriesDeclarationOrder(o),Mn("Chart.applySeries() - final series instances",o),t.series=o,l?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(t,n,s,r,o=[],a=!1){if(!("axes"in n)||!n.axes)return!1;o=["axes[].type",...o];let{axes:l}=n;if(!(r==="replaced")&&t.axes.length===l.length&&t.axes.every((h,p)=>h.type===l[p].type)&&ya(s))return t.axes.forEach((h,p)=>{let f=s.axes?.[p]??{},g=cn(f,l[p]);Mn(`Chart.applyAxes() - applying axis diff idx ${p}`,g);let y=`axes[${p}]`;ra(h,g,{path:y,skip:o})}),!0;Mn(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${r}`),t.axes=this.createAxis(l,o);let u={x:[],y:[]};return t.axes.forEach(h=>{let{id:p}=h,f=h.getRegionNode();f!=null&&u[h.direction].push({id:p,node:f})}),a&&(this.ctx.regionManager.updateRegion("horizontal-axes",...u.x),this.ctx.regionManager.updateRegion("vertical-axes",...u.y)),!0}createSeries(t){let n=Ri.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){let s=t.createModuleContext(),r=t.getModuleMap();for(let o of er.byType("series-option"))o.optionsKey in n&&o.seriesTypes.includes(t.type)&&r.addModule(o,a=>a.moduleFactory(s))}applySeriesValues(t,n){let s=t.getModuleMap(),u=n,{type:r,data:o,listeners:a,seriesGrouping:l,showInMiniChart:c}=u,d=_t(u,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let h of wa)if(h.type==="series-option"&&h.optionsKey in d){let p=s.getModule(h.optionsKey);if(p){let f=d[h.optionsKey];delete d[h.optionsKey],p.properties.set(f)}}t.properties.set(d),"data"in n&&t.setOptionsData(o),a&&this.registerListeners(t,a),"seriesGrouping"in n&&(l==null?t.seriesGrouping=void 0:t.seriesGrouping=S(S({},t.seriesGrouping),l))}createAxis(t,n){let s=[],r=this.getModuleContext();for(let o=0;o<t.length;o++){let a=t[o],l=gs.create(a.type,r);this.applyAxisModules(l,a),ra(l,a,{path:`axes[${o}]`,skip:n}),s.push(l)}return Nk(s),s}applyAxisModules(t,n){let s=t.createModuleContext(),r=t.getModuleMap();for(let o of er.byType("axis-option")){let a=n[o.optionsKey]!=null;a!==r.isEnabled(o)&&(a?(r.addModule(o,l=>l.moduleFactory(s)),t[o.optionsKey]=r.getModule(o)):(r.removeModule(o),delete t[o.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(let[s,r]of Object.entries(n))Ms(r)&&t.addEventListener(s,r)}};return i.chartsInstances=new WeakMap,i})();m([pi({newValue(i){this.destroyed||(this.ctx.domManager.setContainer(i),$e.chartsInstances.set(i,this))},oldValue(i){$e.chartsInstances.delete(i)}})],$e.prototype,"container",2);m([pi({newValue(i){this.resize("width option",{inWidth:i})}})],$e.prototype,"width",2);m([pi({newValue(i){this.resize("height option",{inHeight:i})}})],$e.prototype,"height",2);m([pi({newValue(i){this.resize("minWidth option",{inMinWidth:i})}})],$e.prototype,"minWidth",2);m([pi({newValue(i){this.resize("minHeight option",{inMinHeight:i})}})],$e.prototype,"minHeight",2);m([x(Y)],$e.prototype,"padding",2);m([x(Y)],$e.prototype,"seriesArea",2);m([x(Y)],$e.prototype,"keyboard",2);m([x(Ft(["standalone","integrated"],"a chart mode"))],$e.prototype,"mode",2);m([ue("chartCaptions.title")],$e.prototype,"title",2);m([ue("chartCaptions.subtitle")],$e.prototype,"subtitle",2);m([ue("chartCaptions.footnote")],$e.prototype,"footnote",2);m([pi({changeValue(i,e){this.onAxisChange(i,e)}})],$e.prototype,"axes",2);m([pi({changeValue(i,e){this.onSeriesChange(i,e)}})],$e.prototype,"series",2);var gr=$e,Qk=class{constructor(i,e,t){this.root=new t1(i,e,t)}clear(i){this.root.clear(i)}addValue(i,e){let t={hitTester:i,value:e,distanceSquared:(n,s)=>i.distanceSquared(n,s)};this.root.addElem(t)}find(i,e){let t={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(i,e,t),t.best}},qk=class{constructor(i,e,t,n){this.nw=i,this.ne=e,this.sw=t,this.se=n}addElem(i){this.nw.addElem(i),this.ne.addElem(i),this.sw.addElem(i),this.se.addElem(i)}find(i,e,t){this.nw.find(i,e,t),this.ne.find(i,e,t),this.sw.find(i,e,t),this.se.find(i,e,t)}},Jk=class{constructor(i,e,t){this.capacity=i,this.maxdepth=e,this.boundary=t??G.NaN,this.elems=[],this.subdivisions=void 0}clear(i){this.elems.length=0,this.boundary=i,this.subdivisions=void 0}addElem(i){this.addCondition(i)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(i):this.subdivide(i):this.subdivisions.addElem(i))}find(i,e,t){this.findCondition(i,e,t)&&(this.subdivisions===void 0?this.findAction(i,e,t):this.subdivisions.find(i,e,t))}subdivide(i){this.subdivisions=this.makeSubdivisions();for(let e of this.elems)this.subdivisions.addElem(e);this.subdivisions.addElem(i),this.elems.length=0}makeSubdivisions(){let{x:i,y:e,width:t,height:n}=this.boundary,{capacity:s}=this,r=this.maxdepth-1,o=t/2,a=n/2,l=new G(i,e,o,a),c=new G(i+o,e,o,a),d=new G(i,e+a,o,a),u=new G(i+o,e+a,o,a);return new qk(this.child(s,r,l),this.child(s,r,c),this.child(s,r,d),this.child(s,r,u))}},t1=class _S extends Jk{addCondition(e){let{x:t,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(t,n)}findCondition(e,t,n){let{best:s}=n;return s.distanceSquared!==0&&this.boundary.distanceSquared(e,t)<s.distanceSquared}findAction(e,t,n){let s=bu(e,t,this.elems,n.best.distanceSquared);s.nearest!==void 0&&s.distanceSquared<n.best.distanceSquared&&(n.best=s)}child(e,t,n){return new _S(e,t,n)}},e1=["ArrowDown","ArrowUp","Circle","Cross","Diamond","Heart","MapPin","Plus","Square","Star","Triangle"],i1=Object.freeze({x:.5,y:.5}),Hu=class extends fi{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}isBuiltIn(){return e1.includes(this.constructor.className??"")}computeBBox(){if(!this.isBuiltIn())return this.path.computeBBox();let{x:i,y:e,size:t}=this,{center:n}=this.constructor;return new G(i-t*n.x,e-t*n.y,t,t)}applyPath(i,e){let{path:t}=this,{x:n,y:s}=this;t.clear();for(let{x:r,y:o,t:a}of e)n+=r*i,s+=o*i,a==="move"?t.moveTo(n,s):t.lineTo(n,s);t.closePath()}executeFill(i,e){if(e)return super.executeFill(i,e)}executeStroke(i,e){if(e)return super.executeStroke(i,e)}};m([ot()],Hu.prototype,"x",2);m([ot()],Hu.prototype,"y",2);m([ot({convertor:Math.abs})],Hu.prototype,"size",2);var zi=(()=>{let i=class extends fo(Ym(pr(Hu))){};return i.center=i1,i})(),eo=(()=>{let i=class extends zi{updatePath(){let{x:e,y:t,path:n,size:s}=this,r=s/2;n.clear(),n.arc(e,t,r,0,Math.PI*2),n.closePath()}};return i.className="Circle",i})(),n1=(()=>{let i=class ES extends zi{updatePath(){let t=this.size/4.2;super.applyPath(t,ES.moves)}};return i.className="Cross",i.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}],i})(),s1=n1,r1=(()=>{let i=class TS extends zi{updatePath(){let t=this.size/2;super.applyPath(t,TS.moves)}};return i.className="Diamond",i.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}],i})(),LS=r1,o1=(()=>{let i=class extends zi{rad(e){return e/180*Math.PI}updatePath(){let{x:e,path:t,size:n,rad:s}=this,r=n/4,o=this.y+r/2;t.clear(),t.arc(e-r,o-r,r,s(130),s(330)),t.arc(e+r,o-r,r,s(220),s(50)),t.lineTo(e,o+r),t.closePath()}};return i.className="Heart",i})(),a1=(()=>{let i=class extends zi{updatePath(){let{path:e,x:t,y:n}=this,s=this.size,r=.5,o=1;e.clear(),e.moveTo(t+(.15625-r)*s,n+(.34375-o)*s),e.cubicCurveTo(t+(.15625-r)*s,n+(.151491-o)*s,t+(.307741-r)*s,n+(0-o)*s,t+(.5-r)*s,n+(0-o)*s),e.cubicCurveTo(t+(.692259-r)*s,n+(0-o)*s,t+(.84375-r)*s,n+(.151491-o)*s,t+(.84375-r)*s,n+(.34375-o)*s),e.cubicCurveTo(t+(.84375-r)*s,n+(.493824-o)*s,t+(.784625-r)*s,n+(.600181-o)*s,t+(.716461-r)*s,n+(.695393-o)*s),e.cubicCurveTo(t+(.699009-r)*s,n+(.719769-o)*s,t+(.681271-r)*s,n+(.743104-o)*s,t+(.663785-r)*s,n+(.766105-o)*s),e.cubicCurveTo(t+(.611893-r)*s,n+(.834367-o)*s,t+(.562228-r)*s,n+(.899699-o)*s,t+(.528896-r)*s,n+(.980648-o)*s),e.cubicCurveTo(t+(.524075-r)*s,n+(.992358-o)*s,t+(.512663-r)*s,n+(1-o)*s,t+(.5-r)*s,n+(1-o)*s),e.cubicCurveTo(t+(.487337-r)*s,n+(1-o)*s,t+(.475925-r)*s,n+(.992358-o)*s,t+(.471104-r)*s,n+(.980648-o)*s),e.cubicCurveTo(t+(.487337-r)*s,n+(1-o)*s,t+(.475925-r)*s,n+(.992358-o)*s,t+(.471104-r)*s,n+(.980648-o)*s),e.cubicCurveTo(t+(.437772-r)*s,n+(.899699-o)*s,t+(.388107-r)*s,n+(.834367-o)*s,t+(.336215-r)*s,n+(.766105-o)*s),e.cubicCurveTo(t+(.318729-r)*s,n+(.743104-o)*s,t+(.300991-r)*s,n+(.719769-o)*s,t+(.283539-r)*s,n+(.695393-o)*s),e.cubicCurveTo(t+(.215375-r)*s,n+(.600181-o)*s,t+(.15625-r)*s,n+(.493824-o)*s,t+(.15625-r)*s,n+(.34375-o)*s),e.closePath()}};return i.className="MapPin",i.center={x:.5,y:1},i})(),l1=(()=>{let i=class NS extends zi{updatePath(){let t=this.size/3;super.applyPath(t,NS.moves)}};return i.className="Plus",i.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}],i})(),c1=l1,au=(()=>{let i=class extends zi{updatePath(){let{path:e,x:t,y:n}=this,s=this.size/2;e.clear(),e.moveTo(this.align(t-s),this.align(n-s)),e.lineTo(this.align(t+s),this.align(n-s)),e.lineTo(this.align(t+s),this.align(n+s)),e.lineTo(this.align(t-s),this.align(n+s)),e.closePath()}};return i.className="Square",i})(),d1=(()=>{let i=class extends zi{updatePath(){let{x:e,y:t,path:n,size:s}=this,r=5,o=s/2,a=Math.PI/2;n.clear();for(let l=0;l<r*2;l++){let c=l%2===0?s:o,d=l*Math.PI/r-a,u=e+Math.cos(d)*c,h=t+Math.sin(d)*c;n.lineTo(u,h)}n.closePath()}};return i.className="Star",i})(),u1=(()=>{let i=class kS extends zi{updatePath(){let t=this.size*1.1;super.applyPath(t,kS.moves)}};return i.className="Triangle",i.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}],i})(),aa=u1,RS={circle:eo,cross:s1,diamond:LS,heart:o1,pin:a1,plus:c1,square:au,star:d1,triangle:aa},h1=Object.keys(RS);function OS(i){return typeof i=="string"&&h1.includes(i)}function Zn(i=au){return OS(i)?RS[i]:typeof i=="function"?i:au}var yg=class extends Ic{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:i,yScale:e}){let t=Tt.is(i),n=Tt.is(e);return{isContinuousX:t,isContinuousY:n,xScaleType:i?.type,yScaleType:e?.type}}getModulePropertyDefinitions(){let i=this.axes.x?.scale,e=this.axes.y?.scale;return this.moduleMap.mapModules(t=>t.getPropertyDefinitions(this.getScaleInformation({xScale:i,yScale:e}))).flat()}async requestDataModel(i,e,t){t.props.push(...this.getModulePropertyDefinitions());let{dataModel:n,processedData:s}=await i.request(this.id,e??[],t);return this.dataModel=n,this.processedData=s,this.dispatch("data-processed",{dataModel:n,processedData:s}),{dataModel:n,processedData:s}}isProcessedDataAnimatable(){let i=this.processedData?.reduced?.animationValidation;if(!i)return!0;let{orderedKeys:e,uniqueKeys:t}=i;return e&&t}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(i){let e=this.getNodeData();if(e===void 0||e.length===0)return;let t=this.computeFocusDatumIndex(i,e);if(t===void 0)return;let{showFocusBox:n}=this,s=e[t],r=E(S({},i),{datumIndex:t}),o=this.computeFocusBounds(r);if(o!==void 0)return{bounds:o,showFocusBox:n,datum:s,datumIndex:t}}computeFocusDatumIndex(i,e){let t=a=>{let{missing:l=!1,enabled:c=!0,focusable:d=!0}=e[a];return!l&&c&&d},n=a=>{for(;a>=0&&!t(a);)a--;return a===-1?void 0:a},s=a=>{for(;a<e.length&&!t(a);)a++;return a===e.length?void 0:a},r,o=at(0,i.datumIndex,e.length-1);return i.datumIndexDelta<0?r=n(o):i.datumIndexDelta>0?r=s(o):r=s(o)??n(o),r===void 0?i.datumIndexDelta===0?void 0:i.datumIndex-i.datumIndexDelta:r}},Cs=class extends ft{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};m([x(Lt,{optional:!0})],Cs.prototype,"fill",2);m([x(At,{optional:!0})],Cs.prototype,"fillOpacity",2);m([x(Lt,{optional:!0})],Cs.prototype,"stroke",2);m([x(F,{optional:!0})],Cs.prototype,"strokeWidth",2);m([x(At,{optional:!0})],Cs.prototype,"strokeOpacity",2);m([x(Ss,{optional:!0})],Cs.prototype,"lineDash",2);m([x(F,{optional:!0})],Cs.prototype,"lineDashOffset",2);var Yu=class extends ft{};m([x(F,{optional:!0})],Yu.prototype,"strokeWidth",2);m([x(At,{optional:!0})],Yu.prototype,"dimOpacity",2);m([x(et,{optional:!0})],Yu.prototype,"enabled",2);var PS=class extends ft{constructor(){super(...arguments),this.color="black"}};m([x(Lt,{optional:!0})],PS.prototype,"color",2);var bg=class extends ft{constructor(){super(...arguments),this.enabled=!0}};m([x(et,{optional:!0})],bg.prototype,"enabled",2);var Sc=class extends ft{constructor(){super(...arguments),this.item=new Cs,this.series=new Yu,this.text=new PS}};m([x(Y)],Sc.prototype,"item",2);m([x(Y)],Sc.prototype,"series",2);m([x(Y)],Sc.prototype,"text",2);var Bi=class extends ft{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new bg,this.highlightStyle=new Sc}};m([x(P,{optional:!0})],Bi.prototype,"id",2);m([x(et)],Bi.prototype,"visible",2);m([x(CM,{optional:!0})],Bi.prototype,"focusPriority",2);m([x(et)],Bi.prototype,"showInLegend",2);m([x(P)],Bi.prototype,"cursor",2);m([x(Nu)],Bi.prototype,"nodeClickRange",2);m([x(Y)],Bi.prototype,"highlight",2);m([x(Y)],Bi.prototype,"highlightStyle",2);var xo={x:["xKey"],y:["yKey"]},Mo={x:["xName"],y:["yName"]},vg=class extends Mc{constructor(i,e,t,n){super(i,e,t,n),this.xKey=n.properties.xKey,this.yKey=n.properties.yKey}},_s=class extends Bi{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};m([x(P,{optional:!0})],_s.prototype,"legendItemName",2);m([x(et,{optional:!0})],_s.prototype,"pickOutsideVisibleMinorAxis",2);var yr=class extends yg{constructor(u){var h=u,{pathsPerSeries:i=["path"],hasMarkers:e=!1,hasHighlightedLabels:t=!1,pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:s=!0,markerSelectionGarbageCollection:r=!0,animationAlwaysUpdateSelections:o=!1,animationResetFns:a,directionKeys:l,directionNames:c}=h,d=_t(h,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(S({directionKeys:l,directionNames:c,canHaveAxes:!0},d)),this.NodeEvent=vg,this.dataNodeGroup=this.contentGroup.appendChild(new ut({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new ut({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new fs({name:`${this.id}-series-labels`,zIndex:14,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=Kt.select(this.labelGroup,we),this.highlightSelection=Kt.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=Kt.select(this.highlightLabel,we),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=Wt.create(),!l||!c)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:i,hasMarkers:e,hasHighlightedLabels:t,pathsZIndexSubOrderOffset:n,directionKeys:l,directionNames:c,animationResetFns:a,animationAlwaysUpdateSelections:o,datumSelectionGarbageCollection:s,markerSelectionGarbageCollection:r},this.paths=[];for(let p=0;p<i.length;p++)this.paths[p]=new fi({name:`${this.id}-${i[p]}`}),this.paths[p].zIndex=4,this.paths[p].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",p),this.contentGroup.appendChild(this.paths[p]);this.datumSelection=Kt.select(this.dataNodeGroup,()=>this.nodeFactory(),s),this.markerSelection=Kt.select(this.markerGroup,()=>this.markerFactory(),r),this.animationState=new mc("empty",{empty:{update:{target:"ready",action:p=>this.animateEmptyUpdateReady(p)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:p=>this.animateReadyHighlight(p),highlightMarkers:p=>this.animateReadyHighlightMarkers(p),resize:p=>this.animateReadyResize(p),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:p=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(p):this.animateWaitingUpdateReady(p)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:p=>this.resetAllAnimation(p),reset:"empty"},clearing:{update:{target:"empty",action:p=>this.animateClearingUpdateEmpty(p)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(i){i==="initial"?this.animationState.transition("reset"):i==="ready"?this.animationState.transition("skip"):i==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",i=>this.onLegendItemClick(i)),this.ctx.chartEventManager.addListener("legend-item-double-click",i=>this.onLegendItemDoubleClick(i)))}destroy(){super.destroy(),this._contextNodeData=void 0}async update({seriesRect:i}){let{visible:e,_contextNodeData:t}=this,s=this.ctx.highlightManager?.getActiveHighlight()?.series===this,r=this.checkResize(i),o=await this.updateHighlightSelection(s);await this.updateSelections(e),await this.updateNodes(o,s,e);let a=this.getAnimationData(i,t);a&&(r&&this.animationState.transition("resize",a),this.animationState.transition("update",a))}async updateSelections(i){var e;let t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!i&&t)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=await this.createNodeData();let n=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=n)),this.minRectsCache.dirtyNodeData=!0;let{dataModel:s,processedData:r}=this;s!==void 0&&r!==void 0&&this.dispatch("data-update",{dataModel:s,processedData:r})}await this.updateSeriesSelections()}}async updateSeriesSelections(i){let{datumSelection:e,labelSelection:t,markerSelection:n,paths:s}=this,r=this._contextNodeData;if(!r)return;let{nodeData:o,labelData:a,itemId:l}=r;await this.updatePaths({seriesHighlighted:i,itemId:l,contextData:r,paths:s}),this.datumSelection=await this.updateDatumSelection({nodeData:o,datumSelection:e}),this.labelSelection=await this.updateLabelSelection({labelData:a,labelSelection:t}),this.opts.hasMarkers&&(this.markerSelection=await this.updateMarkerSelection({nodeData:o,markerSelection:n}))}markerFactory(){let i=Zn();return new i}getGroupZIndexSubOrder(i,e=0){let t=super.getGroupZIndexSubOrder(i,e);if(i==="paths"){let[n]=t,s=this.opts.pathsZIndexSubOrderOffset[e]??0;t[0]=Ms(n)?()=>Number(n())+s:Number(n)+s}return t}async updateNodes(i,e,t){let{highlightSelection:n,highlightLabelSelection:s,opts:{hasMarkers:r,hasHighlightedLabels:o}}=this,a=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&t;this.rootGroup.visible=a||l,this.contentGroup.visible=a||l,this.highlightGroup.visible=(a||l)&&e;let c=this.getOpacity();r?(await this.updateMarkerNodes({markerSelection:n,isHighlight:!0}),this.animationState.transition("highlightMarkers",n)):(await this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n)),o&&await this.updateLabelNodes({labelSelection:s});let{dataNodeGroup:d,markerGroup:u,datumSelection:h,labelSelection:p,markerSelection:f,paths:g,labelGroup:y}=this,{itemId:v}=this.contextNodeData??{};d.opacity=c,d.visible=a||l,y.visible=l,r&&(u.opacity=c,u.zIndex=d.zIndex>=4?d.zIndex:d.zIndex+1,u.visible=l),y&&(y.opacity=c),await this.updatePathNodes({seriesHighlighted:e,itemId:v,paths:g,opacity:c,visible:l,animationEnabled:a}),d.visible&&(await this.updateDatumNodes({datumSelection:h,highlightedItems:i,isHighlight:!1}),await this.updateLabelNodes({labelSelection:p}),r&&await this.updateMarkerNodes({markerSelection:f,isHighlight:!1}))}getHighlightLabelData(i,e){let t=i.filter(n=>n.datum===e.datum&&n.itemId===e.itemId);return t.length===0?void 0:t}getHighlightData(i,e){return e?[e]:void 0}async updateHighlightSelection(i){let{highlightSelection:e,highlightLabelSelection:t,_contextNodeData:n}=this;if(!n)return;let s=this.ctx.highlightManager?.getActiveHighlight(),r=i&&s?.datum?s:void 0,o,a;if(r!=null){let l=this.isLabelEnabled(),{labelData:c,nodeData:d}=n;a=this.getHighlightData(d,r),o=l?this.getHighlightLabelData(c,r):void 0}return this.highlightSelection=await this.updateHighlightSelectionItem({items:a,highlightSelection:e}),this.highlightLabelSelection=await this.updateHighlightSelectionLabel({items:o,highlightLabelSelection:t}),a}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:i}of this.datumSelection)i.datum.missing!==!0&&(yield i)}getQuadTree(){if(this.quadtree===void 0){let{width:i,height:e}=this.ctx.scene.canvas,t=new G(0,0,i,e);this.quadtree=new Qk(100,10,t),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(i){}pickNodeExactShape(i){let e=super.pickNodeExactShape(i);if(e)return e;let{x:t,y:n}=i,{opts:{hasMarkers:s}}=this,r,{dataNodeGroup:o,markerGroup:a}=this;if(r=o.pickNode(t,n),!r&&s&&(r=a?.pickNode(t,n)),r&&r.datum.missing!==!0)return{datum:r.datum,distance:0};for(let l of this.moduleMap.modules()){let{datum:c}=l.pickNodeExact(i)??{};if(c!=null&&c?.missing!==!0)return{datum:c,distance:0}}}pickNodeClosestDatum(i){let{x:e,y:t}=i,{axes:n,_contextNodeData:s}=this;if(!s)return;let r=n.x,o=n.y,a={x:e,y:t},l=1/0,c;for(let d of s.nodeData){let{point:{x:u=NaN,y:h=NaN}={}}=d;if(isNaN(u)||isNaN(h)||!(r?.inRange(u)&&o?.inRange(h)))continue;let f=Math.max((a.x-u)**2+(a.y-h)**2,0);f<l&&(l=f,c=d)}for(let d of this.moduleMap.modules()){let u=d.pickNodeNearest(i);if(u!==void 0&&u.distanceSquared<l){l=u.distanceSquared,c=u.datum;break}}if(c){let d=Math.max(Math.sqrt(l)-(c.point?.size??0),0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(i,e){let{x:t,y:n}=i,{axes:s,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:o}=this.properties;if(!r)return;let a=s.x,l=s.y,c=[a,l].filter(yc.is).map(f=>f.direction);if(e&&c.length===0)return;let[d="x"]=c,u=[t,n];d!=="x"&&u.reverse();let h=[1/0,1/0],p;for(let f of r.nodeData){let{x:g=NaN,y=NaN}=f.point??f.midPoint??{};if(isNaN(g)||isNaN(y)||f.missing===!0)continue;let v=[a?.inRange(g),l?.inRange(y)];if(d!=="x"&&v.reverse(),!v[0]||!o&&!v[1])continue;let b=[g,y];d!=="x"&&b.reverse();let M=!0;for(let I=0;I<b.length;I++){let D=Math.abs(b[I]-u[I]);if(D>h[I]){M=!1;break}else D<h[I]&&(h[I]=D,h.fill(1/0,I+1,h.length))}M&&(p=f)}if(p){let f=Math.max(h[0]**2+h[1]**2-(p.point?.size??0),0);for(let g of this.moduleMap.modules()){let y=g.pickNodeMainAxisFirst(i);if(y!==void 0&&y.distanceSquared<f){p=y.datum,f=y.distanceSquared;break}}return{datum:p,distance:Math.sqrt(f)}}}onLegendItemClick(i){let{legendItemName:e}=this.properties,{enabled:t,itemId:n,series:s}=i,r=e!=null&&e===i.legendItemName;(s.id===this.id||r)&&this.toggleSeriesItem(n,t)}onLegendItemDoubleClick(i){let{enabled:e,itemId:t,series:n,numVisibleItems:s}=i,{legendItemName:r}=this.properties,o=r!=null&&r===i.legendItemName;n.id===this.id||o?this.toggleSeriesItem(t,!0):e&&s===1?this.toggleSeriesItem(t,!0):this.toggleSeriesItem(t,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(i,e){let{dirtyNodeData:t,sizeCache:n,minRect:s,minVisibleRect:r}=this.minRectsCache,o=JSON.stringify({width:i,height:e});if(!(o!==n)&&!t&&s&&r)return{minRect:s,minVisibleRect:r};let l=this.computeMinRects(i,e);return this.minRectsCache={dirtyNodeData:!1,sizeCache:o,minRect:l?.minRect,minVisibleRect:l?.minVisibleRect},l}computeMinRects(i,e){let t=this._contextNodeData;if(!t?.nodeData.length)return;let{nodeData:n}=t,s=Array(n.length),r=Array(n.length);for(let[b,{midPoint:M}]of n.entries())s[b]=M?.x??0,r[b]=M?.y??0;s.sort((b,M)=>b-M),r.sort((b,M)=>b-M);let o,a,l,c,d=0,u=0;for(let b=1;b<n.length;b++)s[b]>=0&&(o??(o=b)),s[b]>i&&(a??(a=b)),r[b]>=0&&(l??(l=b)),r[b]>e&&(c??(c=b)),d=Math.max(d,s[b]-s[b-1]),u=Math.max(u,r[b]-r[b-1]);a??(a=n.length),c??(c=n.length);let h=o!=null&&a!=null?s.slice(o,a):[],p=l!=null&&c!=null?r.slice(l,c):[],f=0,g=0;for(let b=1;b<Math.max(h.length,p.length);b++){let M=h[b],I=h[b-1],D=p[b],A=p[b-1];M!=null&&I!=null&&(f=Math.max(f,M-I)),D!=null&&A!=null&&(g=Math.max(g,D-A))}let y=new G(0,0,d,u),v=new G(0,0,f,g);return{minRect:y,minVisibleRect:v}}updateHighlightSelectionItem(i){let{opts:{hasMarkers:e}}=this,{items:t,highlightSelection:n}=i,s=t??[];if(e){let r=n;return this.updateMarkerSelection({nodeData:s,markerSelection:r})}else return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateHighlightSelectionLabel(i){return this.updateLabelSelection({labelData:i.items??[],labelSelection:i.highlightLabelSelection})}async updateDatumSelection(i){return i.datumSelection}async updateDatumNodes(i){}async updateMarkerSelection(i){return i.markerSelection}async updateMarkerNodes(i){}async updatePaths(i){i.paths.forEach(e=>e.visible=!1)}async updatePathNodes(i){let{paths:e,opacity:t,visible:n}=i;for(let s of e)s.opacity=t,s.visible=n}resetPathAnimation(i){let{path:e}=this.opts?.animationResetFns??{};e&&i.paths.forEach(t=>{Me([t],e)})}resetDatumAnimation(i){let{datum:e}=this.opts?.animationResetFns??{};e&&Me([i.datumSelection],e)}resetLabelAnimation(i){let{label:e}=this.opts?.animationResetFns??{};e&&Me([i.labelSelection],e)}resetMarkerAnimation(i){let{marker:e}=this.opts?.animationResetFns??{};e&&this.opts.hasMarkers&&Me([i.markerSelection],e)}resetAllAnimation(i){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(i),this.resetDatumAnimation(i),this.resetLabelAnimation(i),this.resetMarkerAnimation(i),i.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animateWaitingUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animateReadyHighlight(i){let{datum:e}=this.opts?.animationResetFns??{};e&&Me([i],e)}animateReadyHighlightMarkers(i){let{marker:e}=this.opts?.animationResetFns??{};e&&Me([i],e)}animateReadyResize(i){this.resetAllAnimation(i)}animateClearingUpdateEmpty(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animationTransitionClear(){let i=this.getAnimationData();i&&this.animationState.transition("clear",i)}getAnimationData(i,e){let{_contextNodeData:t}=this;return t?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:t,previousContextData:e,paths:this.paths,seriesRect:i}:void 0}calculateScaling(){let i={};for(let e of Object.values(Bm)){let t=this.axes[e];if(t){if(t.scale instanceof Um){let{range:n,domain:s}=t.scale;i[e]={type:"log",convert:r=>t.scale.convert(r),domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(t.scale instanceof Tt){let{range:n}=t.scale,s=t.scale.getDomain();i[e]={type:"continuous",domain:[s[0],s[1]],range:[n[0],n[1]]}}else if(t.scale){let{domain:n}=t.scale;i[e]={type:"category",domain:n,range:n.map(s=>t.scale.convert(s))}}}}return i}},p1=["top","right","bottom","left"],f1=(()=>{let i=class extends gr{constructor(e,t){super(e,t),this.paired=!0,this.firstSeriesTranslation=!0,this.lastUpdateClipRect=void 0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(e,t){super.onAxisChange(e,t),this.ctx?.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.firstSeriesTranslation=!0}getChartType(){return"cartesian"}setRootClipRects(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s}=this;t.setClipRect(e),s.setClipRect(e),n.setClipRect(e)}performLayout(e){let{firstSeriesTranslation:t,seriesRoot:n,annotationRoot:s,highlightRoot:r}=this,{seriesRect:o,visibility:a,clipSeries:l}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=a.series,this.seriesRect=o,this.animationRect=e.layoutBox;let{x:c,y:d}=o;if(t){for(let f of[n,s,r])f.translationX=Math.floor(c),f.translationY=Math.floor(d);this.firstSeriesTranslation=!1}else{let{translationX:f,translationY:g}=n;$n(this.id,"seriesRect",this.ctx.animationManager,[n,r,s],{translationX:f,translationY:g},{translationX:Math.floor(c),translationY:Math.floor(d)},{phase:"update"})}let u=o.clone().grow(this.seriesArea.padding),h=this.seriesArea.clip||l?u:void 0,{lastUpdateClipRect:p}=this;this.lastUpdateClipRect=h,this.ctx.animationManager.isActive()&&p!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:p,to:u,onUpdate:f=>this.setRootClipRects(f),onComplete:()=>this.setRootClipRects(h)}):this.setRootClipRects(h),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(f=>f.getLayoutState()),series:{rect:o,paddedRect:u,visible:a.series,shouldFlipXY:this.shouldFlipXY()},clipSeries:l})}updateAxes(e){let t=this.axes.flatMap(y=>y.crossLines??[]).map(y=>y.id),n=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===t.length&&this._lastCrossLineIds.every((y,v)=>t[v]===y),s,r,o;n?(s=new Map(this._lastAxisAreaWidths.entries()),r=this._lastClipSeries,o=S({},this._lastVisibility)):(s=new Map,r=!1,o={crossLines:!0,series:!0},this._lastCrossLineIds=t);let a=new Set(this.axes.map(y=>y.position));for(let y of s.keys())a.has(y)||s.delete(y);let l=(y,v,b)=>{if([...y.keys()].some(M=>!s.has(M))||o.crossLines!==b.crossLines||o.series!==b.series||r!==v)return!1;for(let[M,I]of s.entries()){let D=y.get(M);if((I!=null||D!=null)&&I!==D)return!1}return!0},c=y=>{for(let[v,b]of y.entries()){if(b&&Math.abs(b)===1/0){y.set(v,0);continue}y.set(v,b!=null?Math.ceil(b):b)}return y},d=new Map,u={},h=!1,p=this.seriesRect?.clone(),f=0;do{s=new Map(d.entries()),r=h,Object.assign(o,u);let y=this.updateAxesPass(s,e.clone(),p);if(d=c(y.axisAreaWidths),u=y.visibility,h=y.clipSeries,{seriesRect:p}=y,f++>10){R.warn("unable to find stable axis layout.");break}}while(!l(d,h,u));this.axes.forEach(y=>{y.update()});let g=5;return this.axes.forEach(y=>{if(y.setCrossLinesVisible(o.crossLines),!!p)switch(y.clipGrid(p.x,p.y,p.width+g,p.height+g),y.position){case"left":case"right":y.clipTickLines(e.x,p.y,e.width+g,p.height+g);break;case"top":case"bottom":y.clipTickLines(p.x,e.y,p.width+g,e.height+g);break}}),this._lastAxisAreaWidths=s,this._lastVisibility=o,this._lastClipSeries=r,{seriesRect:p,visibility:o,clipSeries:r}}updateAxesPass(e,t,n){let s=new Map,r=new Map,o={series:!0,crossLines:!0},a=!1,l={},c=this.applySeriesPadding(t),d=n?this.buildCrossLinePadding(e):{},u=this.buildAxisBound(c,e,d,o),h=this.buildSeriesRect(u,e);for(let g of this.axes){let{position:y="left"}=g,{clipSeries:v,axisThickness:b}=this.calculateAxisDimensions({axis:g,seriesRect:h,primaryTickCounts:l,clipSeries:a});s.set(g.id,b),r.has(y)||r.set(y,[]),r.get(y)?.push(g),a=a||v}let p=new Map,f=new Map;for(let[g,y]of r.entries()){let v=g==="left"||g==="right";p.set(g,this.calculateAxisArea(y,s,f,v))}for(let[g,y]of r.entries())this.positionAxes({axes:y,position:g,axisWidths:s,axisOffsets:f,axisAreaWidths:p,axisBound:u,seriesRect:h});return{clipSeries:a,seriesRect:h,axisAreaWidths:p,visibility:o}}buildCrossLinePadding(e){let t={};this.axes.forEach(n=>{n.crossLines?.forEach(s=>{s.calculatePadding?.(t)})});for(let[n,s=0]of Object.entries(t))t[n]=Math.max(s-(e.get(n)??0),0);return t}applySeriesPadding(e){let t=e.clone();return p1.forEach(n=>{let s=this.seriesArea.padding[n],r=this.axes.findLast(o=>o.position===n);r?r.seriesAreaPadding=s:t.shrink(s,n)}),t}buildAxisBound(e,t,n,s){let r=e.clone(),{top:o=0,right:a=0,bottom:l=0,left:c=0}=n,d=c+a,u=o+l,h=(t.get("left")??0)+(t.get("right")??0)+d,p=(t.get("top")??0)+(t.get("bottom")??0)+u;return r.width<=h||r.height<=p?(s.crossLines=!1,s.series=!1,r):(r.x+=c,r.y+=o,r.width-=d,r.height-=u,r)}buildSeriesRect(e,t){let n=e.clone();return n.x+=t.get("left")??0,n.y+=t.get("top")??0,n.width-=(t.get("left")??0)+(t.get("right")??0),n.height-=(t.get("top")??0)+(t.get("bottom")??0),n.width=Math.max(0,n.width),n.height=Math.max(0,n.height),n}clampToOutsideSeriesRect(e,t,n,s){let{x:r,y:o,width:a,height:l}=e,d=[r,o,r+a,o+l][(n==="x"?0:1)+(s===1?0:2)];return(s===1?Math.min:Math.max)(t,d)}calculateAxisDimensions(e){let{axis:t,seriesRect:n,primaryTickCounts:s}=e,{clipSeries:r}=e,{position:o="left",direction:a}=t;this.sizeAxis(t,n,o);let l=this.getSyncedDomain(t),c=t.calculateLayout(l,t.nice?s[a]:void 0),d=a==="y";s[a]??(s[a]=c.primaryTickCount),r||(r=t.dataDomain.clipped||t.visibleRange[0]>0||t.visibleRange[1]<1);let u;return t.thickness!=null&&t.thickness>0?u=t.thickness:u=d?c.bbox.width:c.bbox.height,u=Math.ceil(u),{clipSeries:r,axisThickness:u}}getSyncedDomain(e){let t=this.modulesManager.getModule("sync");if(!t?.enabled)return;let n=t.getSyncedDomain(e);if(n&&e.dataDomain.domain.length){let s,{domain:r}=e.scale;if(Tt.is(e.scale)){let[o,a]=xi(n);s=o!==r[0]||a!==r[1]}else s=!tr(n,r);s&&!this.skipSync&&t.updateSiblings()}return n}sizeAxis(e,t,n){let s=e instanceof yc||e instanceof ma,r=n==="left"||n==="right",{min:o,max:a}=this.ctx.zoomManager.getAxisZoom(e.id),{width:l,height:c}=t,d=0,u=r?c:l,h=d,p=u,{width:f,unit:g,align:y}=e.layoutConstraints;g==="px"?p=h+f:p=p*f/100,y==="end"&&(h=u-(p-h),p=u),s&&r?[o,a]=[1-a,1-o]:r&&([h,p]=[p,h]),e.range=[h,p],e.visibleRange=[o,a],e.gridLength=r?l:c}calculateAxisArea(e,t,n,s){let{width:r,height:o,canvas:a}=this.ctx.scene,l=s?o%a.pixelRatio:r%a.pixelRatio,c=0;for(let d of e){n.set(d.id,l);let u=t.get(d.id)??0;c=Math.max(c,l+u),d.layoutConstraints.stacked&&(l+=u+15)}return c}positionAxes(e){let{axes:t,axisBound:n,axisWidths:s,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:l}=e,c=o.get(l)??0,d="x",u="y",h=1,p=0;(l==="top"||l==="bottom")&&(d="y",u="x",p+=1),p+=n[d],(l==="right"||l==="bottom")&&(h=-1,p+=d==="x"?n.width:n.height);for(let f of t){let g=o.get(u==="x"?"left":"top")??0;f.translation[u]=n[u]+g;let y=s.get(f.id)??0,v=r.get(f.id)??0;f.translation[d]=this.clampToOutsideSeriesRect(a,p+h*(v+y),d,h),f.gridPadding=c-v-y,f.updatePosition()}}shouldFlipXY(){return this.series.every(e=>e instanceof yr&&e.shouldFlipXY())}};return i.className="CartesianChart",i.type="cartesian",i})(),Gd=(()=>{let i=class jS{constructor(t,n,s){this.factoryApi=n,this.licenseManager=s,this.chart=t}static isInstance(t){return t instanceof jS||t.constructor?.name==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){let n=["getOptions","destroy"],s=Object.keys(Object.getPrototypeOf(t)??{});return n.every(r=>s.includes(r))}async update(t){this.factoryApi.update(t,this),await this.chart.waitForUpdate()}async updateDelta(t){this.factoryApi.updateUserDelta(this,t),await this.chart.waitForUpdate()}getOptions(){let t=Pe(this.chart.getOptions());for(let n in t)n.startsWith("_")&&delete t[n];return t}waitForUpdate(){return this.chart.waitForUpdate()}async download(t){let n=await this.prepareResizedChart(this,t);try{n.chart.download(t?.fileName,t?.fileFormat)}finally{n.destroy()}}async __toSVG(t){let n=await this.prepareResizedChart(this,S({width:600,height:300},t));try{return n.chart.toSVG()}finally{n.destroy()}}async getImageDataURL(t){let n=await this.prepareResizedChart(this,t);try{return n.chart.getCanvasDataURL(t?.fileFormat)}finally{n.destroy()}}getState(){let{factoryApi:{caretaker:t},chart:{ctx:{annotationManager:n}}}=this;return t.save(n)}async setState(t){let{factoryApi:{caretaker:n},chart:{ctx:{annotationManager:s}}}=this;n.restore(t,s),await this.chart.waitForUpdate()}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.publicApi=void 0,this.chart.destroy()}async prepareResizedChart(t,n={}){let{chart:s}=t,r=n.width??s.width??s.ctx.scene.canvas.width,o=n.height??s.height??s.ctx.scene.canvas.height,a=t.getState(),l=er.hasEnterpriseModules(),c=E(S({},s.chartOptions.processedOverrides),{container:document.createElement("div"),width:r,height:o}),d=s.getOptions();l&&(c.animation={enabled:!1},ya(d)&&(c.toolbar={enabled:!1}),this.licenseManager?.isDisplayWatermark()&&(c.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));let u=S({},s.chartOptions.specialOverrides),h=S({},s.chartOptions.optionMetadata);n.width!=null&&n.height!=null&&(u.overrideDevicePixelRatio=1);let p=await this.factoryApi.create(d,c,u,h);return await p.setState(a),p.chart.ctx.zoomManager.updateZoom("chartProxy",s.ctx.zoomManager.getZoom()),s.series.forEach((f,g)=>{f.visible||(p.chart.series[g].visible=!1)}),p.chart.update(0,{forceNodeDataRefresh:!0}),await p.waitForUpdate(),p}};return i.chartInstances=new WeakMap,i})();m([pi({oldValue(i){i.destroyed||(i.publicApi=void 0),Gd.chartInstances.delete(i)},newValue(i){i.publicApi=this,Gd.chartInstances.set(i,this)}})],Gd.prototype,"chart",2);var ox=Gd,xg=class extends bc{constructor(i){super(),this.ctx=i,this.localeText=void 0}};m([ti(i=>{i.ctx.localeManager.setLocaleText(i.localeText)}),x(wM,{optional:!0})],xg.prototype,"localeText",2);m([ti(i=>{i.ctx.localeManager.setLocaleTextFormatter(i.getLocaleText)}),x(wi,{optional:!0})],xg.prototype,"getLocaleText",2);var m1={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:i=>new xg(i)},ln=class extends Tt{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(i){return i}ticks(){let i=this.tickCount??Tt.defaultTickCount;if(!this.domain||this.domain.length<2||i<1||!this.domain.every(isFinite))return[];this.refresh();let[e,t]=this.getDomain();if(this.interval){let n=Math.abs(this.interval);if(!Kl((t-e)/n,this.getPixelRange()))return Ru(e,t,n)}return ku(e,t,i,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(i,e){return this.interval??ha(i,e,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){let i=this.tickCount;if(i<1){this.niceDomain=[...this.domain];return}let[e,t]=this.domain;if(i===1)[e,t]=ML(e,t);else{let n=e>t?Math.ceil:Math.floor,s=t<e?Math.floor:Math.ceil,r=4;for(let o=0;o<r;o++){let a=e,l=t,c=this.getTickStep(e,t),[d,u]=this.domain;if(c>=1)e=n(d/c)*c,t=s(u/c)*c;else{let h=1/c;e=n(d*h)/h,t=s(u*h)/h}if(e===a&&t===l)break}}this.niceDomain=[e,t]}tickFormat({ticks:i,specifier:e}){return GM(i??this.ticks(),e)}};function g1(i,e,t){let[n,s]=xi(i);n=y1(Math.floor(n),s,e);let r=v1(n,s,e),o=e-1;s=n+o*r;let a=t?[s,n]:[n,s],l=b1(n,r,e);return{domain:a,ticks:l}}function y1(i,e,t){let n=Math.abs(e-i)/(t-1),s=Math.floor(Math.log10(n)),r=Math.pow(10,s);return Math.floor(i/r)*r}function b1(i,e,t){let n=Math.floor(Math.log10(e)),s=e>0&&e<1?Math.abs(n):0,r=Math.pow(10,s),o=[];for(let a=0;a<t;a++){let l=i+e*a;o[a]=Math.round(l*r)/r}return o}function v1(i,e,t){let n=t-1,s=(e-i)/n;return x1(s)}function x1(i){let e=Math.floor(Math.log10(i)),t=Math.pow(10,e),n=i/t*10;return n>0&&n<=1?t/10:n>1&&n<=2?2*t/10:n>1&&n<=5?5*t/10:n>5&&n<=10?10*t/10:n>10&&n<=20?20*t/10:n>20&&n<=40?40*t/10:n>40&&n<=50?50*t/10:n>50&&n<=100?100*t/10:n}var ba=(()=>{let i=class extends ar{constructor(e,t=new ln){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:s,clipped:r}=Au(e,t,n);return{domain:s,clipped:r}}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let{domain:t,ticks:n}=g1(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),n}};return i.className="NumberAxis",i.type="number",i})();m([x(un(xa,Ia("max"))),fr(NaN)],ba.prototype,"min",2);m([x(un(xa,Sa("min"))),fr(NaN)],ba.prototype,"max",2);var FS=jt(i=>Oi(i)&&i!==0,"a non-zero number"),Dc=(()=>{let i=class extends ba{constructor(e){super(e,new Um),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:s,clipped:r}=Au(e,t,n),o=s[0]>s[1],a=s[0]<0&&s[1]>0,l=s[0]===0&&s[1]===0;return(o||a||l)&&(a?R.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):l&&R.warn("the data domain has 0 extent, no data is rendered.")),s[0]===0&&(s[0]=1),s[1]===0&&(s[1]=-1),{domain:s,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}};return i.className="LogAxis",i.type="log",i})();m([x(un(xa,FS,Ia("max"))),fr(NaN)],Dc.prototype,"min",2);m([x(un(xa,FS,Sa("min"))),fr(NaN)],Dc.prototype,"max",2);var Wu=(()=>{let i=class extends ar{constructor(e){super(e,new Gm),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:n}=this,s=!1;return typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n)),e.length>2&&(e=Kn(e)?.map(r=>new Date(r))??[]),t instanceof Date&&(s||(s=t>e[0]),e=[t,e[1]]),n instanceof Date&&(s||(s=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{domain:e,clipped:s}}onFormatChange(e,t,n,s){s?super.onFormatChange(e,t,n,s):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:n}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:n,formatOffset:1}))}};return i.className="TimeAxis",i.type="time",i})();m([x(un(jm,Ia("max")),{optional:!0})],Wu.prototype,"min",2);m([x(un(jm,Sa("min")),{optional:!0})],Wu.prototype,"max",2);var Ol=(i,{x0:e,y0:t,x1:n,y1:s,cx:r,cy:o},a,l)=>{if(l&&i.moveTo(e,t),e!==n||t!==s){let c=Math.atan2(t-o,e-r),d=Math.atan2(s-o,n-r);i.arc(r,o,a,c,d)}else i.lineTo(e,t)},ax=1e-6,Cd=(i,e,t,n,s)=>{let r=!1,o=!1,a=n-Math.sqrt(Math.max(s**2-t**2,0)),l=0,c=0,d=t-Math.sqrt(Math.max(s**2-n**2,0));return a>i?(r=!0,a=i,l=t-Math.sqrt(Math.max(s**2-(n-i)**2))):a<ax&&(a=0),d>e?(o=!0,c=n-Math.sqrt(Math.max(s**2-(t-e)**2)),d=e):d<ax&&(d=0),{leading0:a,leading1:l,trailing0:c,trailing1:d,leadingClipped:r,trailingClipped:o}},vf=(i,e,t,n,s,r,o)=>{let{topLeft:a,topRight:l,bottomRight:c,bottomLeft:d}=r,u=Math.max(a+d,l+c),h=Math.max(a+l,d+c);if(u<=0&&h<=0){o==null?i.rect(e,t,n,s):i.rect(o.x,o.y,o.width,o.height);return}else if(o==null&&a===l&&a===c&&a===d){i.roundRect(e,t,n,s,a);return}if(n<0&&(e+=n,n=Math.abs(n)),s<0&&(t+=s,s=Math.abs(s)),n<=0||s<=0)return;if(o==null)o=new G(e,t,n,s);else{let w=Math.max(e,o.x),C=Math.min(e+n,o.x+o.width),_=Math.max(t,o.y),T=Math.min(t+s,o.y+o.height);o=new G(w,_,C-w,T-_)}let p=Math.max(u/s,h/n,1);p>1&&(a/=p,l/=p,c/=p,d/=p);let f=!0,g=!0,y=!0,v=!0,b,M,I,D;if(f){let w=Cd(o.height,o.width,Math.max(e+a-o.x,0),Math.max(t+a-o.y,0),a);w.leadingClipped&&(v=!1),w.trailingClipped&&(g=!1);let C=Math.max(o.x+w.leading1,o.x),_=Math.max(o.y+w.leading0,o.y),T=Math.max(o.x+w.trailing1,o.x),N=Math.max(o.y+w.trailing0,o.y),j=e+a,B=t+a;b={x0:C,y0:_,x1:T,y1:N,cx:j,cy:B}}if(g){let w=Cd(o.width,o.height,Math.max(t+l-o.y,0),Math.max(o.x+o.width-(e+n-l),0),l);w.leadingClipped&&(f=!1),w.trailingClipped&&(y=!1);let C=Math.min(o.x+o.width-w.leading0,o.x+o.width),_=Math.max(o.y+w.leading1,o.y),T=Math.min(o.x+o.width-w.trailing0,o.x+o.width),N=Math.max(o.y+w.trailing1,o.y),j=e+n-l,B=t+l;M={x0:C,y0:_,x1:T,y1:N,cx:j,cy:B}}if(y){let w=Cd(o.height,o.width,Math.max(o.x+o.width-(e+n-c),0),Math.max(o.y+o.height-(t+s-c),0),c);w.leadingClipped&&(g=!1),w.trailingClipped&&(v=!1);let C=Math.min(o.x+o.width-w.leading1,o.x+o.width),_=Math.min(o.y+o.height-w.leading0,o.y+o.height),T=Math.min(o.x+o.width-w.trailing1,o.x+o.width),N=Math.min(o.y+o.height-w.trailing0,o.y+o.height),j=e+n-c,B=t+s-c;I={x0:C,y0:_,x1:T,y1:N,cx:j,cy:B}}if(v){let w=Cd(o.width,o.height,Math.max(o.y+o.height-(t+s-d),0),Math.max(e+d-o.x,0),d);w.leadingClipped&&(y=!1),w.trailingClipped&&(f=!1);let C=Math.max(o.x+w.leading0,o.x),_=Math.min(o.y+o.height-w.leading1,o.y+o.height),T=Math.max(o.x+w.trailing0,o.x),N=Math.min(o.y+o.height-w.trailing1,o.y+o.height),j=e+d,B=t+s-d;D={x0:C,y0:_,x1:T,y1:N,cx:j,cy:B}}let A=!1;f&&b!=null&&(Ol(i,b,a,!A),A||(A=!0)),g&&M!=null&&(Ol(i,M,l,!A),A||(A=!0)),y&&I!=null&&(Ol(i,I,c,!A),A||(A=!0)),v&&D!=null&&(Ol(i,D,d,!A),A||(A=!0)),i.closePath()},Ci=(()=>{let i=class extends fi{constructor(){super(...arguments),this.borderPath=new ql,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=Cn.defaultStyles.strokeWidth,this.effectiveStrokeWidth=Cn.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:e,borderPath:t,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:r,bottomRightCornerRadius:o,bottomLeftCornerRadius:a}=this,{x:l,y:c,width:d,height:u,strokeWidth:h,clipBBox:p}=this,g=1/(this.layerManager?.canvas.pixelRatio??1),y=1;if(e.clear(!0),t.clear(!0),n&&(d<=g&&(y*=d/g),u<=g&&(y*=u/g),d=this.align(l,d),u=this.align(c,u),l=this.align(l),c=this.align(c),p=p!=null?new G(this.align(p.x),this.align(p.y),this.align(p.x,p.width),this.align(p.y,p.height)):void 0),h)if(d<g){let v=l+g/2;t.moveTo(v,c),t.lineTo(v,c+u),h=g,this.borderClipPath=void 0}else if(u<g){let v=c+g/2;t.moveTo(l,v),t.lineTo(l+d,v),h=g,this.borderClipPath=void 0}else if(h<d&&h<u){let v=h/2;l+=v,c+=v,d-=h,u-=h;let b=p?.clone().shrink(v),M={topLeft:s>0?s-h:0,topRight:r>0?r-h:0,bottomRight:o>0?o-h:0,bottomLeft:a>0?a-h:0};this.borderClipPath=void 0,d>0&&u>0&&(b==null||b?.width>0&&b?.height>0)&&(vf(e,l,c,d,u,M,b),vf(t,l,c,d,u,M,b))}else this.borderClipPath=this.borderClipPath??new ql,this.borderClipPath.clear(!0),this.borderClipPath.rect(l,c,d,u),t.rect(l,c,d,u);else{let v={topLeft:s,topRight:r,bottomRight:o,bottomLeft:a};this.borderClipPath=void 0,vf(e,l,c,d,u,v,p)}if([s,r,o,a].every(v=>v===0)){let v=this.getBBox();this.hittester=v.containsPoint.bind(v),this.distanceSquared=(b,M)=>this.getBBox().distanceSquared(b,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=h,this.lastUpdatePathStrokeWidth=h,this.microPixelEffectOpacity=y}computeBBox(){let{x:e,y:t,width:n,height:s,clipBBox:r}=this;return r?.clone()??new G(e,t,n,s)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){let{fillOpacity:t,microPixelEffectOpacity:n,opacity:s}=this;e.globalAlpha*=s*t*n}renderStroke(e){let{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){let{globalAlpha:s}=e,{strokeOpacity:r,lineDash:o,lineDashOffset:a,lineCap:l,lineJoin:c,borderPath:d,borderClipPath:u,opacity:h,microPixelEffectOpacity:p}=this;u&&e.clip(u.getPath2D()),e.strokeStyle=t,e.globalAlpha*=h*r*p,e.lineWidth=n,o&&e.setLineDash(o),a&&(e.lineDashOffset=a),l&&(e.lineCap=l),c&&(e.lineJoin=c),e.stroke(d.getPath2D()),e.globalAlpha=s}}};return i.className="Rect",i})();m([ot()],Ci.prototype,"x",2);m([ot()],Ci.prototype,"y",2);m([ot()],Ci.prototype,"width",2);m([ot()],Ci.prototype,"height",2);m([ot()],Ci.prototype,"topLeftCornerRadius",2);m([ot()],Ci.prototype,"topRightCornerRadius",2);m([ot()],Ci.prototype,"bottomRightCornerRadius",2);m([ot()],Ci.prototype,"bottomLeftCornerRadius",2);m([ot()],Ci.prototype,"clipBBox",2);m([ot()],Ci.prototype,"crisp",2);var Ca=class extends bc{constructor(i){super(),this.ctx=i,this.rectNode=new Ci,this.textNode=new we,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.destroyFns.push(i.scene.attachNode(this.node),i.layoutManager.addListener("layout:complete",e=>this.onLayoutComplete(e)))}createNode(){return new ut({name:"background",zIndex:0})}onLayoutComplete(i){let{width:e,height:t}=i.chart;this.rectNode.width=e,this.rectNode.height=t}};m([x(et),ze("node","visible")],Ca.prototype,"visible",2);m([x(Lt,{optional:!0}),ze("rectNode","fill")],Ca.prototype,"fill",2);m([x(Y,{optional:!0})],Ca.prototype,"image",2);m([x(P,{optional:!0}),ze("textNode")],Ca.prototype,"text",2);var zS={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:i=>new Ca(i)};function M1({orientation:i,bboxes:e,maxHeight:t,maxWidth:n,itemPaddingY:s=0,itemPaddingX:r=0,forceResult:o=!1}){let a=i==="horizontal",l={max:a?n:t,fn:a?h=>h.width:h=>h.height,padding:a?r:s},c={max:a?t:n,fn:a?h=>h.height:h=>h.width,padding:a?s:r},d=0,u=[];for(;d<e.length;){let h=e.slice(d),p=I1(h,d,l,c,o);if(!p)return;d+=p.processedBBoxCount,u.push(p.pageIndices)}return D1(u,i,e,s,r)}function I1(i,e,t,n,s){let o=w1(i,t);if(o<1){if(!s)return;o=1}let a=o;for(;a>=1;){let l=S1(i,e,a,t,n,s);if(l==null&&a<=1)return;if(l==null){a--;continue}if(typeof l=="number"){if(l<=1)return;a=l<a&&l>1?l:a,a--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function S1(i,e,t,n,s,r){let o=[],a=0,l=0,c=[],d=[];for(let u=0;u<i.length;u++){let h=(u+t)%t;h===0&&(a+=l,l=0,c.length>0&&o.push(c),c=[]);let p=n.fn(i[u])+n.padding;d[h]=Math.max(d[h]??0,p),l=Math.max(l,s.fn(i[u])+s.padding);let f=a+l,g=!r||o.length>0;if(f>s.max&&g){c=[];break}if(d.reduce((v,b)=>v+b,0)>n.max&&!r)return d.length<t?d.length:void 0;c.push(u+e)}return c.length>0&&o.push(c),o.length>0?o:void 0}function D1(i,e,t,n,s){let r=0,o=0;return{pages:i.map(l=>{e==="horizontal"&&(l=A1(l));let c=0,d=l.map(p=>{let f=p.map(v=>(c=Math.max(v,c),t[v])),g=0,y=0;return f.forEach(v=>{g+=v.height+n,y=Math.max(y,v.width+s)}),{indices:p,bboxes:f,columnHeight:Math.ceil(g),columnWidth:Math.ceil(y)}}),u=0,h=0;return d.forEach(p=>{u+=p.columnWidth,h=Math.max(h,p.columnHeight)}),r=Math.max(u,r),o=Math.max(h,o),{columns:d,startIndex:l[0][0],endIndex:c,pageWidth:u,pageHeight:h}}),maxPageWidth:r,maxPageHeight:o}}function A1(i){let e=[];for(let t of i[0])e.push([]);return i.forEach((t,n)=>{t.forEach((s,r)=>{e[r][n]=s})}),e}function w1(i,e){let t=i.length,n=0;for(let s=0;s<t;s++)if(n+=e.fn(i[s])+e.padding,n>e.max)return t/s<2?Math.ceil(t/2):s;return t}var Io=class extends rr{constructor(i){super(),this.sourceImage=i,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}updateBitmap(i,e,t,n){this.sourceImage=i,this.width=i.width/e,this.height=i.height/e,this.x=t/e,this.y=n/e,this.markDirty(3)}render(i){let{ctx:e,forceRender:t,stats:n}=i;if(this.dirty===0&&!t){n&&n.nodesSkipped++;return}let s=this.sourceImage;s&&(e.globalAlpha=this.opacity,e.drawImage(s,0,0,s.width,s.height,this.x,this.y,this.width,this.height),super.render(i))}};m([V({redraw:3})],Io.prototype,"x",2);m([V({redraw:3})],Io.prototype,"y",2);m([V({redraw:3})],Io.prototype,"width",2);m([V({redraw:3})],Io.prototype,"height",2);m([V({redraw:3})],Io.prototype,"opacity",2);var So=(()=>{let i=class extends pr(ut){constructor(){super({name:"markerLabelGroup"}),this.label=new we,this.symbolsGroup=new ut({name:"legend-markerLabel-symbols"}),this.bitmap=new Io,this.bitmapDirty=!0,this.enabled=!0,this.pageIndex=NaN,this._markers=[],this._lines=[];let{markers:e,label:t,lines:n}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.updateSymbols(e,n),this.append([this.symbolsGroup,t])}destroy(){super.destroy(),this.destroyProxyButton()}destroyProxyButton(){this.proxyButton?.button.remove(),this.proxyButton?.listitem.remove(),this.proxyButton=void 0}get markers(){return this._markers}get lines(){return this._lines}updateSymbols(e,t){tr(this._markers,e)&&tr(this._lines,t)||(this.bitmapDirty=!0,this._markers=e,this._lines=t,this.symbolsGroup.clear(),this.symbolsGroup.append([this.bitmap,...t,...e]))}setEnabled(e){this.enabled=e,this.refreshVisibilities()}refreshVisibilities(){let e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e,this.bitmap.opacity=e,this.setBitmapVisibility(!this.enabled)}setBitmapVisibility(e){let{lines:t,markers:n}=this;[t,n].forEach(s=>s.forEach(r=>r.visible=!e)),this.bitmap.visible=e}update(e,{spriteAAPadding:t,spritePixelRatio:n},s){let{markers:r,lines:o}=this,a=0,l=0,c=0;for(let b=0;b<Math.max(r.length,o.length);b++){let{length:M,spacing:I,isCustomMarker:D}=s[b]??0,A=r[b],w=o[b],C=A?.size??0,_=1/0,T=1/0,N=1/0,j=1/0,B=1/0;if(A){let Z=A.constructor.center,$=(C+A.strokeWidth)/2;D?(A.x=0,A.y=0,A.translationX=(Z.x-.5)*C+M/2+c,A.translationY=(Z.y-.5)*C,j=A.translationY-$,B=A.translationX-$):(A.x=(Z.x-.5)*C+M/2+c,A.y=(Z.y-.5)*C,j=A.y-$,B=A.x-$)}w&&(w.x1=c,w.x2=c+M,w.y1=0,w.y2=0,w.markDirty(3),_=-w.strokeWidth/2,T=w.x1,N=w.x2),c+=I+Math.max(M,C),a=Math.min(a,T,N,B),l=Math.min(l,_,j)}let d=s.at(-1),u=this.lines.at(-1),h=this.markers.at(-1),p=u?u.x2:-1/0,f=(h?.x??0)+(h?.size??0)/2;if(this.label.x=Math.max(p,f)+(d?.spacing??0),this.bitmapDirty){this.setBitmapVisibility(!1);let b=(t+a)*n,M=(t-l)*n,I=e.renderSprite(this.symbolsGroup,{scale:n,translateX:Math.floor(b),translateY:Math.floor(M)});this.bitmap.updateBitmap(I,n,Math.ceil(-b),Math.ceil(-M)),this.bitmapDirty=!1,this.refreshVisibilities()}if(s.length<2)return;let g=this.symbolsGroup.getBBox(),y=Math.max(h?.size??0,d?.length??0),v=new G(g.x+y/2,g.y,y,g.height);this.symbolsGroup.setClipRect(v)}computeBBox(){let{label:e,lines:t,markers:n}=this;return this.toParent(ut.computeChildrenBBox(Xs([e],t,n),!1))}};return i.className="MarkerLabel",i})();m([ze("label")],So.prototype,"text",2);m([ze("label")],So.prototype,"fontStyle",2);m([ze("label")],So.prototype,"fontWeight",2);m([ze("label")],So.prototype,"fontSize",2);m([ze("label")],So.prototype,"fontFamily",2);m([ze("label","fill")],So.prototype,"color",2);var _a=class extends ft{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};m([x(Lt)],_a.prototype,"color",2);m([x(ur,{optional:!0})],_a.prototype,"fontStyle",2);m([x(hr,{optional:!0})],_a.prototype,"fontWeight",2);m([x(F)],_a.prototype,"fontSize",2);m([x(P)],_a.prototype,"fontFamily",2);var ys=class extends ft{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};m([x(F)],ys.prototype,"size",2);m([x(Lt,{optional:!0})],ys.prototype,"fill",2);m([x(At,{optional:!0})],ys.prototype,"fillOpacity",2);m([x(Lt,{optional:!0})],ys.prototype,"stroke",2);m([x(F)],ys.prototype,"strokeWidth",2);m([x(At)],ys.prototype,"strokeOpacity",2);var Zu=class extends ft{constructor(i){super(),this.parent=i,this.shape=aa,this.size=15,this.padding=8}};m([pi({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],Zu.prototype,"shape",2);m([x(F)],Zu.prototype,"size",2);m([x(F)],Zu.prototype,"padding",2);var Ea=(()=>{let i=class extends ft{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=dn(this),this.marker=new Zu(this),this.activeStyle=new ys,this.inactiveStyle=new ys,this.highlightStyle=new ys,this.label=new _a,this.group=new fs({name:"pagination"}),this.labelNode=new we,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new aa,this._previousButton=new aa,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){let e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){let{currentPage:e,totalPages:t,labelNode:n,label:{color:s,fontStyle:r,fontWeight:o,fontSize:a,fontFamily:l}}=this;n.text=`${e+1} / ${t}`,n.fill=s,n.fontStyle=r,n.fontWeight=o,n.fontSize=a,n.fontFamily=l}updateMarkers(){let{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:s,activeStyle:r,inactiveStyle:o,highlightStyle:a,highlightActive:l}=this,c=(d,u)=>u?o:d===l?a:r;this.updateMarker(e,c("next",n)),this.updateMarker(t,c("previous",s))}updateMarker(e,t){let{size:n}=this.marker;e.size=n,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){let{currentPage:e,totalPages:t}=this,n=t===0,s=e===t-1,r=e===0;this.nextButtonDisabled=s||n,this.previousButtonDisabled=r||n}setPage(e){e=at(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let e=fo(Zn(this.marker.shape||aa));this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){let e=ne.toCanvas(this.previousButton),t=ne.toCanvas(this.nextButton);return{prev:e,next:t}}};return i.className="Pagination",i})();m([x(Y)],Ea.prototype,"marker",2);m([x(Y)],Ea.prototype,"activeStyle",2);m([x(Y)],Ea.prototype,"inactiveStyle",2);m([x(Y)],Ea.prototype,"highlightStyle",2);m([x(Y)],Ea.prototype,"label",2);var br=class extends ft{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};m([x(F,{optional:!0})],br.prototype,"maxLength",2);m([x(Lt)],br.prototype,"color",2);m([x(ur,{optional:!0})],br.prototype,"fontStyle",2);m([x(hr,{optional:!0})],br.prototype,"fontWeight",2);m([x(F)],br.prototype,"fontSize",2);m([x(P)],br.prototype,"fontFamily",2);m([x(wi,{optional:!0})],br.prototype,"formatter",2);var Ta=class extends ft{constructor(){super(...arguments),this.size=15,this.padding=8}};m([ti(i=>i.parent?.onMarkerShapeChange())],Ta.prototype,"shape",2);m([x(F)],Ta.prototype,"size",2);m([x(F)],Ta.prototype,"padding",2);m([x(F,{optional:!0})],Ta.prototype,"strokeWidth",2);m([x(et)],Ta.prototype,"enabled",2);var Mg=class extends ft{};m([x(F,{optional:!0})],Mg.prototype,"strokeWidth",2);m([x(F,{optional:!0})],Mg.prototype,"length",2);var vr=class extends ft{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Ta,this.label=new br,this.line=new Mg}};m([x(F,{optional:!0})],vr.prototype,"maxWidth",2);m([x(F)],vr.prototype,"paddingX",2);m([x(F)],vr.prototype,"paddingY",2);m([x(et)],vr.prototype,"showSeriesStroke",2);m([x(Y)],vr.prototype,"marker",2);m([x(Y)],vr.prototype,"label",2);m([x(Y)],vr.prototype,"line",2);var Ig=class extends ft{};m([x(wi,{optional:!0})],Ig.prototype,"legendItemClick",2);m([x(wi,{optional:!0})],Ig.prototype,"legendItemDoubleClick",2);var Al="legend-visibility",xf="legend-other-series",lx=class{constructor(i,e,t,n,s){this.type=i,this.enabled=e,this.itemId=t,this.seriesId=n,this.event=s,this.defaultPrevented=!1}preventDefault(){this.defaultPrevented=!0}},Vi=(()=>{let i=class extends ft{constructor(e){super(),this.ctx=e,this.id=dn(this),this.group=new fa({name:"legend",zIndex:15}),this.itemSelection=Kt.select(this.group,So),this.spriteRenderer=void 0,this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this._symbolsDirty=!0,this.toggleSeries=!0,this.item=new vr,this.listeners=new Ig,this.enabled=!0,this.position="bottom",this.spacing=20,this.destroyFns=[],this.proxyLegendDirty=!0,this.proxyLegendToolbarDestroyFns=new OI,this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new Ea(t=>e.updateService.update(t),t=>this.updatePageNumber(t)),this.pagination.attachPagination(this.group),this.destroyFns.push(e.contextMenuRegistry.registerDefaultAction({id:Al,type:"legend",label:"contextMenuToggleSeriesVisibility",action:t=>this.contextToggleVisibility(t)}),e.contextMenuRegistry.registerDefaultAction({id:xf,type:"legend",label:"contextMenuToggleOtherSeries",action:t=>this.contextToggleOtherSeries(t)})),this.destroyFns.push(e.layoutManager.registerElement(1,t=>this.positionLegend(t)),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged()),()=>this.group.remove()),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"list",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaHidden:!0}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal",ariaHidden:!0}),this.proxyLegendItemDescription=Ot("p"),this.proxyLegendItemDescription.style.display="none",this.proxyLegendItemDescription.id=`${this.id}-ariaDescription`,this.proxyLegendItemDescription.textContent=this.getItemAriaDescription(),this.proxyLegendToolbar.append(this.proxyLegendItemDescription)}set data(e){this.onDataUpdate(this._data,e),this._data=e,this._symbolsDirty=!0,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.pagination.destroy(),this.itemSelection.clear(),this.proxyLegendToolbarDestroyFns.destroy()}initLegendItemToolbar(){if(!this.proxyLegendDirty)return;this.itemSelection.each((t,n,s)=>{t.destroyProxyButton(),t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"listswitch",id:`ag-charts-legend-item-${s}`,textContent:this.getItemAriaText(s),ariaChecked:!!t.datum.enabled,ariaDescribedBy:this.proxyLegendItemDescription.id,parent:this.proxyLegendToolbar,onclick:r=>this.onClick(r,t.datum,t.proxyButton.button),ondblclick:r=>this.onDoubleClick(r,t.datum),onmouseenter:r=>this.onHover(r,t),onmouseleave:()=>this.onLeave(),oncontextmenu:r=>this.onContextClick(r,t),onblur:()=>this.onLeave(),onfocus:r=>this.onHover(r,t)}))});let e=this.itemSelection.nodes().map(t=>t.proxyButton?.button).filter(ua);this.proxyLegendToolbarDestroyFns.setFns([...Ql({orientation:"horizontal",buttons:e}),...Ql({orientation:"vertical",buttons:e})]),this.proxyLegendToolbar.ariaHidden=(e.length===0).toString(),this.proxyLegendDirty=!1}onDataUpdate(e,t){this.proxyLegendDirty=e.length!==t.length||e.some((n,s,r)=>{let[o,a]=[t[s],e[s]];return o.id!==a.id})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){let{ctx:{callbackCache:t}}=this,{formatter:n}=this.item.label;return n?t.call(n,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){let{paddingX:n,paddingY:s,label:r,maxWidth:o,label:{maxLength:a=1/0,fontStyle:l,fontWeight:c,fontSize:d,fontFamily:u}}=this.item,h=[...this.data];this.reverseOrder&&h.reverse(),this.itemSelection.update(h),this.initLegendItemToolbar();let p=[],f=ve.toFontString(r),y=o??e*.8,v=this.calculateSpriteDimensions();if(this.spriteRenderer??(this.spriteRenderer=new XI),this.spriteRenderer.resize(v),this.itemSelection.each((T,N)=>{T.fontStyle=l,T.fontWeight=c,T.fontSize=d,T.fontFamily=u;let j=this.updateMarkerLabel(this.spriteRenderer,T,N,v),B=N.itemId??N.id,$=(this.getItemLabel(N)??"<unknown>").replace(/\r?\n/g," ");T.text=this.truncate($,a,y,j,f,B),p.push(T.getBBox())}),this._symbolsDirty=!1,e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};let b=this.size,M=this.oldSize;b[0]=e,b[1]=t,(b[0]!==M[0]||b[1]!==M[1])&&(M[0]=b[0],M[1]=b[1]);let{pages:I,maxPageHeight:D,maxPageWidth:A}=this.updatePagination(p,e,t),w=this.pages;this.pages=I,this.maxPageSize=[A-n,D-s];let C=this.pagination.currentPage,_=this.pages[C];return this.pages.length<1||!_?(this.visible=!1,{oldPages:w}):(this.visible=!0,this.updatePositions(C),this.update(),{oldPages:w})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){let{showSeriesStroke:t,marker:n}=this.item,s=!!n.enabled||!t||(e.marker.enabled??!0),r=!!(e.line&&t),o=this.isCustomMarker(s,e.marker.shape);return{markerEnabled:s,lineEnabled:r,isCustomMarker:o}}calcSymbolsLengths(e){let{marker:t,line:n}=this.item,{markerEnabled:s,lineEnabled:r}=this.calcSymbolsEnabled(e),{strokeWidth:o}=this.getMarkerStyles(e),{strokeWidth:a}=r?this.getLineStyles(e):{strokeWidth:0},l,{shape:c}=e.marker;if(this.isCustomMarker(s,c)){let h=new c;h.updatePath();let p=h.getBBox();l=Math.max(p.width,p.height)}let d=s?t.size:0,u=r?n.length??25:0;return{markerLength:d,markerStrokeWidth:o,lineLength:u,lineStrokeWidth:a,customMarkerSize:l}}calculateSpriteDimensions(){let e=0,t=0,n=0,s=0;return this.itemSelection.each((o,a)=>{a.symbols.forEach(l=>{let{markerLength:c,markerStrokeWidth:d,lineLength:u,lineStrokeWidth:h,customMarkerSize:p=-1/0}=this.calcSymbolsLengths(l),f=c+d;s=Math.max(s,u,p,c),t=Math.max(t,u,p,f),n=Math.max(n,h,f),e=Math.max(e,d+.5)})}),t+=e*2,n+=e*2,{spritePixelRatio:je().devicePixelRatio,spriteAAPadding:e,spriteWidth:t,spriteHeight:n,markerWidth:s}}updateMarkerLabel(e,t,n,s){let{marker:r,paddingX:o}=this.item,{markerWidth:a}=s,l=[],c=o;if(this._symbolsDirty){let d=[],u=[];n.symbols.forEach(h=>{let{shape:p=h.marker.shape}=r,f=Zn(p);u.push(new Ii({zIndex:0})),d.push(new f({zIndex:1}))}),t.updateSymbols(d,u)}return n.symbols.forEach((d,u)=>{let h=d.marker.padding??r.padding,{markerEnabled:p,lineEnabled:f,isCustomMarker:g}=this.calcSymbolsEnabled(d);t.markers[u].size=p||!f?r.size:0,l.push({length:a,spacing:h,isCustomMarker:g}),(p||f)&&(c+=h+a);let y=t.markers[u],v=t.lines[u];if(y){let{strokeWidth:b,fill:M,stroke:I,fillOpacity:D,strokeOpacity:A}=this.getMarkerStyles(d);y.fill=M,y.stroke=I,y.strokeWidth=b,y.fillOpacity=D,y.strokeOpacity=A}if(v){let b=this.getLineStyles(d);v.stroke=b.stroke,v.strokeOpacity=b.strokeOpacity,v.strokeWidth=b.strokeWidth,v.lineDash=b.lineDash}}),t.update(e,s,l),c}truncate(e,t,n,s,r,o){let a=!1;e.length>t&&(e=e.substring(0,t),a=!0);let l=Ds.getMeasurer({font:r}),c=Km.truncateLine(e,l,n-s,a);return c.endsWith(ve.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),c}updatePagination(e,t,n){let s=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:o,maxPageHeight:a,maxPageWidth:l,paginationBBox:c,paginationVertical:d}=this.calculatePagination(e,t,n),u=o.findIndex(I=>I.endIndex>=r);this.pagination.currentPage=at(0,u,o.length-1);let{paddingX:h,paddingY:p}=this.item,f=8,g=l-h,y=a-p,v=0,b=-c.y-this.item.marker.size/2;d?b+=y+f:(v+=-c.x+g+f,b+=(y-c.height)/2),this.pagination.translationX=v,this.pagination.translationY=b,this.pagination.update(),this.pagination.updateMarkers();let M=0;return this.itemSelection.each((I,D,A)=>{A>(o[M]?.endIndex??1/0)&&M++,I.pageIndex=M}),{maxPageHeight:a,maxPageWidth:l,pages:o}}updateItemProxyButtons(){let e=this.toggleSeries?"pointer":void 0,t=Math.max(...this.itemSelection.nodes().map(n=>n.getBBox().height));this.itemSelection.each(n=>{if(n.proxyButton){let{listitem:s,button:r}=n.proxyButton,o=n.pageIndex===this.pagination.currentPage,a=ne.toCanvas(n);if(a.height!==t){let l=(t-a.height)/2;a={x:a.x,y:a.y-l,height:t,width:a.width}}Ys(r,"pointer-events",o?"auto":"none"),Ys(r,"cursor",e),qs(s,a)}})}updatePaginationProxyButtons(e){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";let t=(e?.length??this.pages.length)>1,n=this.pages.length>1;t!==n&&(n?(this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,onclick:o=>this.pagination.onClick(o,"previous"),onmouseenter:()=>this.pagination.onMouseHover("previous"),onmouseleave:()=>this.pagination.onMouseHover(void 0)}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,onclick:o=>this.pagination.onClick(o,"next"),onmouseenter:()=>this.pagination.onMouseHover("next"),onmouseleave:()=>this.pagination.onMouseHover(void 0)})),this.proxyLegendPagination.ariaHidden="false"):(this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0],this.proxyLegendPagination.ariaHidden="true"));let{prev:s,next:r}=this.pagination.computeCSSBounds();qs(this.proxyPrevButton,s),qs(this.proxyNextButton,r),Ys(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ys(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous"))}calculatePagination(e,t,n){let{paddingX:s,paddingY:r}=this.item,o=this.getOrientation(),a=["left","right"].includes(this.position),l=this.pagination.getBBox(),c=new G(0,0,0,0),d=[],u=0,h=0,p=0,f=y=>y.width===l.width&&y.height===l.height,g=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(p++>10){R.warn("unable to find stable legend layout.");break}l=c;let y=t-(a?0:l.width),v=n-(a?l.height:0),b=M1({orientation:o,bboxes:e,maxHeight:v,maxWidth:y,itemPaddingY:r,itemPaddingX:s,forceResult:g});d=b?.pages??[],u=b?.maxPageWidth??0,h=b?.maxPageHeight??0;let M=d.length;if(this.pagination.visible=M>1,this.pagination.totalPages=M,this.pagination.update(),this.pagination.updateMarkers(),c=this.pagination.getBBox(),!this.pagination.visible)break}while(!f(c));return{maxPageWidth:u,maxPageHeight:h,pages:d,paginationBBox:c,paginationVertical:a}}updatePositions(e=0){let{item:{paddingY:t},itemSelection:n,pages:s}=this;if(s.length<1||!s[e])return;let{columns:r,startIndex:o,endIndex:a}=s[e],l=0,c=0,d=r.length,u=r[0].indices.length,h=this.getOrientation()==="horizontal",p=r[0].bboxes[0].height+t,f=[];n.each((g,y,v)=>{if(v<o||v>a){g.visible=!1;return}let b=v-o,M,I;h?(M=b%d,I=Math.floor(b/d)):(M=Math.floor(b/u),I=b%u),g.visible=!0;let D=r[M];D&&(c=Math.floor(p*I),l=Math.floor(f[I]??0),f[I]=(f[I]??0)+D.columnWidth,g.translationX=l,g.translationY=c)}),this.updateItemProxyButtons()}updatePageNumber(e){let{pages:t}=this,{startIndex:n,endIndex:s}=t[e];n===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=s:this.paginationTrackingIndex=Math.floor((n+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),Ys(this.proxyNextButton,"cursor",this.pagination.getCursor("next")),Ys(this.proxyPrevButton,"cursor",this.pagination.getCursor("previous")),this.ctx.updateService.update(6)}update(){let{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{t.setEnabled(n.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){let{toggleSeries:e,ctx:{contextMenuRegistry:t}}=this;e?(t.hideAction(Al),t.hideAction(xf)):(t.showAction(Al),t.showAction(xf))}getLineStyles(e){let{stroke:t,strokeOpacity:n=1,strokeWidth:s,lineDash:r}=e.line??{},o=Math.min(2,s??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??o,lineDash:r}}getMarkerStyles(e){let{fill:t,stroke:n,strokeOpacity:s=1,fillOpacity:r=1,strokeWidth:o}=e.marker,a=Math.min(2,o??1);return{fill:t,stroke:n,strokeOpacity:s,fillOpacity:r,strokeWidth:this.item.marker.strokeWidth??a}}computePagedBBox(){let e=ut.computeChildrenBBox(this.group.children());if(this.pages.length>1){let[t,n]=this.maxPageSize;e.height=Math.max(n,e.height),e.width=Math.max(t,e.width)}return e}findNode(e){let{datum:t,proxyButton:n}=this.itemSelection.select(s=>s.datum?.itemId===e.itemId)[0]??{};if(t===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${n} }`);return{datum:t,proxyButton:n}}contextToggleVisibility(e){let{datum:t,proxyButton:n}=this.findNode(e);this.doClick(e.event,t,n.button)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){let n=t.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(Al):this.ctx.contextMenuRegistry.enableAction(Al);let{button:s,offsetX:r,offsetY:o}=e,{x:a,y:l}=ne.toCanvasPoint(t,r,o),c={type:"contextmenu",sourceEvent:e,button:s,offsetX:a,offsetY:l,deltaX:0,deltaY:0,pageX:NaN,pageY:NaN,preventDefault:()=>e.preventDefault(),pointerHistory:[]};this.ctx.contextMenuRegistry.dispatchContext("legend",c,{legendItem:n})}onClick(e,t,n){this.doClick(e,t,n)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,n){let{listeners:{legendItemClick:s},ctx:{chartService:r,highlightManager:o},preventHidingAll:a,toggleSeries:l}=this;if(!t)return!1;let{id:c,itemId:d,enabled:u}=t,h=r.series.find(g=>g.id===c);if(!h)return!1;let p=u,f=new lx("click",p,d,h.id,e);return s?.(f),f.defaultPrevented||(l&&(p=!u,a&&!p&&this.getVisibleItemCount()<2&&(p=!0),n.ariaChecked=p.toString(),this.ctx.chartEventManager.legendItemClick(h,d,p,t.legendItemName)),p?o.updateHighlight(this.id,{series:h,itemId:d,datum:void 0}):o.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){let{listeners:{legendItemDoubleClick:n},ctx:{chartService:s},toggleSeries:r}=this;if(s.mode==="integrated"||!t)return!1;let{id:o,itemId:a,seriesId:l}=t,c=s.series.find(u=>u.id===o);if(!c)return!1;let d=new lx("dblclick",!0,a,c.id,e);if(n?.(d),d.defaultPrevented)return!0;if(r){let u=s.series.flatMap(f=>f.getLegendData("category")),h=u.filter(f=>f.enabled).length,p=u.find(f=>f.itemId===a&&f.seriesId===l);this.ctx.chartEventManager.legendItemDoubleClick(c,a,p?.enabled??!1,h,p?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let n;if(e instanceof FocusEvent){let{x:o,y:a}=ne.toCanvas(t).computeCenter();n={type:"keyboard",offsetX:o,offsetY:a}}else{e.preventDefault();let{x:o,y:a}=ne.toCanvasPoint(t,e.offsetX,e.offsetY);n={type:"hover",offsetX:o,offsetY:a}}let{offsetX:s,offsetY:r}=n;return{offsetX:s,offsetY:r,lastPointerEvent:n,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);let n=t.datum,s=n?this.ctx.chartService.series.find(r=>r.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){let r=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,r,pa({content:this.getItemLabel(n)}))}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&s?this.updateHighlight({series:s,itemId:n?.itemId,datum:void 0}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){let t=this.ctx.interactionManager.getState();t===32?this.ctx.highlightManager.updateHighlight(this.id,e):t===2&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.itemSelection.each(({proxyButton:e},t,n)=>{e?.button!=null&&(e.button.textContent=this.getItemAriaText(n))}),this.proxyLegendItemDescription.textContent=this.getItemAriaDescription()}getItemAriaText(e){let t=this.data[e],n=t&&this.getItemLabel(t),s=this.ctx.localeManager;if(e>=0&&n){let r=e+1,o=this.data.length;return s.t("ariaLabelLegendItem",{label:n,index:r,count:o})}return s.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(){return this.ctx.localeManager.t("ariaDescriptionLegendItem")}positionLegend(e){if(Ys(this.proxyLegendToolbar,"display",this.visible&&this.enabled?void 0:"none"),!this.enabled||!this.data.length)return;let{layoutBox:t}=e,{x:n,y:s,width:r,height:o}=t,[a,l]=this.calculateLegendDimensions(t),{oldPages:c}=this.calcLayout(a,l),d=this.computePagedBBox(),u=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return o-d.height;case"right":default:return r-d.width}};if(this.visible){let h=this.spacing,p,f;switch(this.position){case"top":case"bottom":p=(r-d.width)/2,f=u(),t.shrink(d.height+h,this.position);break;case"left":case"right":default:p=u(),f=(o-d.height)/2,t.shrink(d.width+h,this.position)}this.group.translationX=Math.floor(n+p-d.x),this.group.translationY=Math.floor(s+f-d.y),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}this.updateItemProxyButtons(),this.updatePaginationProxyButtons(c)}calculateLegendDimensions(e){let{width:t,height:n}=e,s=t/n,r=.5,o=.2,a=.25,l,c;switch(this.position){case"top":case"bottom":{let d=s<1?Math.min(r,o*(1/s)):o;l=this.maxWidth?Math.min(this.maxWidth,t):t,c=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*d);break}case"left":case"right":default:{let d=s>1?Math.min(r,a*s):a;l=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*d),c=this.maxHeight?Math.min(this.maxHeight,n):n}}return[l,c]}};return i.className="Legend",i})();m([x(et)],Vi.prototype,"toggleSeries",2);m([x(Y)],Vi.prototype,"pagination",2);m([x(Y)],Vi.prototype,"item",2);m([x(Y)],Vi.prototype,"listeners",2);m([ti(i=>i.updateGroupVisibility()),x(et)],Vi.prototype,"enabled",2);m([ti(i=>i.proxyLegendDirty=!0),x(Fm)],Vi.prototype,"position",2);m([x(F,{optional:!0})],Vi.prototype,"maxWidth",2);m([x(F,{optional:!0})],Vi.prototype,"maxHeight",2);m([x(et,{optional:!0})],Vi.prototype,"reverseOrder",2);m([x(Ft(["horizontal","vertical"],"an orientation"),{optional:!0})],Vi.prototype,"orientation",2);m([x(et,{optional:!0})],Vi.prototype,"preventHidingAll",2);m([x(F)],Vi.prototype,"spacing",2);var C1={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion","standalone","gauge"],moduleFactory:i=>new Vi(i),packageType:"community"},io=(()=>{let i=class extends fi{constructor(){super(...arguments),this.zIndex=3,this.centerX=0,this.centerY=0,this.width=8,this.height=16,this.gripLineGap=2,this.gripLineLength=8}setCenter(e,t){this.dirtyPath=!0,(this.centerX!==e||this.centerY!==t)&&(this.centerX=e,this.centerY=t,this.markDirty(3))}static align(e,t,n,s,r,o,a,l){let c=e.strokeWidth/2,d=e.align(n+r*a)+c,u=d+e.align(n+r*a,r*(l-a))-2*c,h=e.align(s+o/2)+c;e.setCenter(d,h),t.setCenter(u,h)}computeBBox(){let{centerX:e,centerY:t,width:n,height:s}=this,r=e-n/2,o=t-s/2;return new G(r,o,n,s)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}updatePath(){let{centerX:e,centerY:t,path:n,strokeWidth:s,gripLineGap:r,gripLineLength:o}=this,a=this.layerManager?.canvas?.pixelRatio??1;n.clear();let l=Math.floor(this.width/2*a)/a,c=Math.floor(this.height/2*a)/a;n.moveTo(e-l,t-c),n.lineTo(e+l,t-c),n.lineTo(e+l,t+c),n.lineTo(e-l,t+c),n.closePath();let d=Math.floor((r+s)/2*a)/a,u=Math.floor(o/2*a)/a;n.moveTo(e-d,t-u),n.lineTo(e-d,t+u),n.moveTo(e+d,t-u),n.lineTo(e+d,t+u)}};return i.className="RangeHandle",i})();m([x(F),V({redraw:3,type:"path"})],io.prototype,"width",2);m([x(F),V({redraw:3,type:"path"})],io.prototype,"height",2);m([x(F),V({redraw:3,type:"path"})],io.prototype,"gripLineGap",2);m([x(F),V({redraw:3,type:"path"})],io.prototype,"gripLineLength",2);var _1=(()=>{let i=class extends fi{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,n,s){(e!==this.x||t!==this.y||n!==this.width||this.height!==s)&&(this.x=e,this.y=t,this.width=n,this.height=s,this.dirtyPath=!0,this.markDirty(3))}update(e,t){e=isNaN(e)?this.min:e,t=isNaN(t)?this.max:t,(e!==this.min||t!==this.max)&&(this.min=e,this.max=t,this.dirtyPath=!0,this.markDirty(3))}computeBBox(){let{x:e,y:t,width:n,height:s}=this;return new G(e,t,n,s)}computeVisibleRangeBBox(){let{x:e,y:t,width:n,height:s,min:r,max:o}=this,a=e+n*r,l=e+n*o;return new G(a,t,l-a,s)}updatePath(){let{path:e,x:t,y:n,width:s,height:r,min:o,max:a,strokeWidth:l}=this,c=l/2;e.clear();let d=this.align(t)+c,u=this.align(n)+c,h=d+this.align(t,s)-2*c,p=u+this.align(n,r)-2*c;e.moveTo(d,u),e.lineTo(h,u),e.lineTo(h,p),e.lineTo(d,p),e.closePath();let f=this.align(t+s*o)+c,g=f+this.align(t+s*o,s*(a-o))-2*c;e.moveTo(f,u),e.lineTo(f,p),e.lineTo(g,p),e.lineTo(g,u),e.closePath()}};return i.className="RangeMask",i})(),E1=class extends Wn{constructor(i){super({name:"rangeSelectorGroup",zIndex:16}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.background=this.appendChild(new fs({name:"navigator-background",zIndex:1})),this.append(i)}layout(i,e,t,n,s,r){this.x=i,this.y=e,this.width=t,this.height=n,this.lOffset=s,this.rOffset=r,this.background.translationX=i,this.background.translationY=e,this.markDirty(3)}updateBackground(i,e){i!=null&&this.background.removeChild(i),e!=null&&this.background.appendChild(e),this.markDirty(3)}computeBBox(){let{x:i,y:e,width:t,height:n,lOffset:s,rOffset:r}=this;return new G(i-s,e,t+(s+r),n)}},xr=class extends bc{constructor(i){super(),this.ctx=i,this.miniChart=void 0,this.enabled=!1,this.mask=new _1,this.minHandle=new io,this.maxHandle=new io,this.maskVisibleRange={id:"navigator-mask-visible-range",getBBox:()=>this.mask.computeVisibleRangeBBox(),toCanvasBBox:()=>this.mask.computeVisibleRangeBBox(),fromCanvasPoint:(n,s)=>({x:n,y:s})},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new E1([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;let e=i.regionManager.addRegion("navigator",this.rangeSelector),t=50;this.destroyFns.push(i.scene.attachNode(this.rangeSelector),e.addListener("hover",n=>this.onHover(n),t),e.addListener("drag-start",n=>this.onDragStart(n),t),e.addListener("drag",n=>this.onDrag(n),t),e.addListener("drag-end",n=>this.onDragEnd(n),t),e.addListener("leave",n=>this.onLeave(n),t),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),this.ctx.layoutManager.registerElement(3,n=>this.onLayoutStart(n)),this.ctx.layoutManager.addListener("layout:complete",n=>this.onLayoutComplete(n)),i.zoomManager.addListener("zoom-change",n=>this.onZoomChange(n))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onMinSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onPanSliderChange(n)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,onchange:n=>this.onMaxSliderChange(n)})],this.proxyNavigatorElements.forEach(n=>Ai(n,"data-preventdefault",!1)),this.setSliderRatio(this.proxyNavigatorElements[0],this._min),this.setSliderRatio(this.proxyNavigatorElements[2],this._max),this.setPanSliderValue(this._min,this._max),ig({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(n=>n.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(i,e){this.rangeSelector?.updateBackground(i,e)}updateGroupVisibility(){let{enabled:i}=this;this.rangeSelector==null||i===this.rangeSelector.visible||(this.rangeSelector.visible=i,this.proxyNavigatorToolbar.ariaHidden=(!i).toString(),i?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}onLayoutStart(i){if(this.enabled){let{layoutBox:e}=i,t=this.height+this.spacing;e.shrink(t,"bottom"),this.y=e.y+e.height+this.spacing}else this.y=0}onLayoutComplete(i){let{x:e,width:t}=i.series.rect;if(this.enabled){let{y:n,height:s}=this;this.layoutNodes(e,n,t,s),qs(this.proxyNavigatorToolbar,{x:e,y:n,width:t,height:s}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=e,this.width=t}onHover(i){this.enabled&&this.updateCursor(i)}updateCursor(i){if(!this.enabled)return;let{mask:e,minHandle:t,maxHandle:n}=this,{regionOffsetX:s,regionOffsetY:r}=i;t.containsPoint(s,r)||n.containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):e.computeVisibleRangeBBox().containsPoint(s,r)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(i){if(!this.enabled)return;this.updateCursor(i);let{mask:e,minHandle:t,maxHandle:n,x:s,width:r,_min:o}=this,{regionOffsetX:a,regionOffsetY:l}=i;t.zIndex<n.zIndex?n.containsPoint(a,l)?this.dragging="max":t.containsPoint(a,l)&&(this.dragging="min"):t.containsPoint(a,l)?this.dragging="min":n.containsPoint(a,l)&&(this.dragging="max"),this.dragging==null&&e.computeVisibleRangeBBox().containsPoint(a,l)&&(this.dragging="pan",this.panStart=(a-s)/r-o),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(i){if(!this.enabled||this.dragging==null)return;let{dragging:e,minRange:t,panStart:n,x:s,width:r}=this,{_min:o,_max:a}=this,{regionOffsetX:l}=i,c=(l-s)/r;if(e==="min")o=at(0,c,a-t);else if(e==="max")a=at(o+t,c,1);else if(e==="pan"&&n!=null){let d=a-o;o=at(0,c-n,1-d),a=o+d}this._min=o,this._max=a,this.updateZoom()}onDragEnd(i){this.dragging=void 0,this.updateCursor(i)}onLeave(i){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(i){let{x:e}=i;e&&(this._min=e.min,this._max=e.max,this.updateNodes(e.min,e.max),this.setPanSliderValue(e.min,e.max),this.setSliderRatio(this.proxyNavigatorElements[0],e.min),this.setSliderRatio(this.proxyNavigatorElements[2],e.max))}onPanSliderChange(i){let e=this.getSliderRatio(this.proxyNavigatorElements[1]),t=this._max-this._min;this._min=at(0,e,1-t),this._max=this._min+t,this.updateZoom()}onMinSliderChange(i){let e=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(e,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(i){let e=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(e,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(i,e){this.proxyNavigatorElements[1].value=`${Math.round(i*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:i,max:e})}setSliderRatioClamped(i,e,t){let n=this.getSliderRatio(i),s=at(e,n,t);return s!==n&&this.setSliderRatio(i,s),s}setSliderRatio(i,e){let t=Math.round(e*100);i.value=`${t}`,i.ariaValueText=wm(t)}getSliderRatio(i){return parseFloat(i.value)/100}layoutNodes(i,e,t,n){let{rangeSelector:s,mask:r,minHandle:o,maxHandle:a,_min:l,_max:c}=this;s.layout(i,e,t,n,o.width/2,a.width/2),r.layout(i,e,t,n),io.align(o,a,i,e,t,n,l,c),l+(c-l)/2<.5?(o.zIndex=3,a.zIndex=4):(o.zIndex=4,a.zIndex=3),[o,this.maskVisibleRange,a].forEach((d,u)=>{let h=d.getBBox(),p={x:h.x-i,y:h.y-e,height:h.height,width:h.width};qs(this.proxyNavigatorElements[u],p)})}updateNodes(i,e){this.mask.update(i,e)}updateZoom(){if(!this.enabled)return;let{_min:i,_max:e}=this;if(i==null||e==null)return;let t=n=>{this.min==null&&this.max==null||R.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${n}] has modified the initial zoom state.`)};return this.ctx.zoomManager.updateZoom("navigator",{x:{min:i,max:e}},!1,t)}};m([x(Y,{optional:!0})],xr.prototype,"miniChart",2);m([x(et),ti(i=>i.updateGroupVisibility())],xr.prototype,"enabled",2);m([x(F)],xr.prototype,"height",2);m([x(F)],xr.prototype,"spacing",2);m([pi({newValue(i){this._min=i,this.updateZoom()}}),x(un(At,Ia("max")),{optional:!0})],xr.prototype,"min",2);m([pi({newValue(i){this._max=i,this.updateZoom()}}),x(un(At,Sa("min")),{optional:!0})],xr.prototype,"max",2);var BS={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],moduleFactory:i=>new xr(i),themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function La({takeColors:i}){let{fills:[e],strokes:[t]}=i(1);return{fill:e,stroke:t}}function $u(i){return{marker:La(i)}}var VS=(i=>(i[i.SMALL=12]="SMALL",i[i.MEDIUM=13]="MEDIUM",i[i.LARGE=17]="LARGE",i))(VS||{}),US=(i=>(i.NORMAL="normal",i.BOLD="bold",i.BOLDER="bolder",i.LIGHTER="lighter",i))(US||{}),GS=(i=>(i.TOP="top",i.RIGHT="right",i.BOTTOM="bottom",i.LEFT="left",i))(GS||{}),HS=(i=>(i.CATEGORY="category",i.ORDINAL_TIME="ordinal-time",i.NUMBER="number",i.TIME="time",i.LOG="log",i))(HS||{}),YS=(i=>(i.ANGLE_CATEGORY="angle-category",i.ANGLE_NUMBER="angle-number",i.RADIUS_CATEGORY="radius-category",i.RADIUS_NUMBER="radius-number",i))(YS||{}),WS=(i=>(i.CIRCLE="circle",i.POLYGON="polygon",i))(WS||{}),Gl=Symbol("is-dark-theme"),ZS=Symbol("is-community"),Sg=Symbol("is-enterprise"),de=Symbol("default-font"),Oe=Symbol("default-label-colour"),$S=Symbol("default-inverted-label-colour"),Do=Symbol("default-inside-series-label-colour"),no=Symbol("default-muted-label-colour"),va=Symbol("default-axis-grid-colour"),Hd=Symbol("default-axis-line-colour"),Hl=Symbol("default-cross-lines-colour"),lu=Symbol("default-background-colour"),Ao=Symbol("default-shadow-colour"),T1=Symbol("default-colours"),Zs=Symbol("default-padding"),Qr=Symbol("default-caption-layout-style"),qr=Symbol("default-caption-alignment"),Dg=Symbol("palette-up-stroke"),Ag=Symbol("palette-down-stroke"),wg=Symbol("palette-up-fill"),Cg=Symbol("palette-down-fill"),Yl=Symbol("palette-neutral-stroke"),_g=Symbol("palette-neutral-fill"),KS=Symbol("palette-alt-up-stroke"),XS=Symbol("palette-alt-down-stroke"),QS=Symbol("palette-alt-up-fill"),qS=Symbol("palette-alt-down-fill"),JS=Symbol("palette-gray-fill"),Eg=Symbol("palette-gray-stroke"),Tg=Symbol("default-polar-series-stroke"),Ui=Symbol("default-diverging-series-colour-range"),En=Symbol("default-gauge-series-colour-range"),Es=Symbol("default-funnel-series-colour-range"),Lg=Symbol("default-hierarchy-fills"),Ng=Symbol("default-hierarchy-strokes"),Gi=Symbol("default-annotation-stroke"),kg=Symbol("default-text-annotation-color"),Hi=Symbol("default-annotation-background-fill"),Rg=Symbol("default-annotation-handle-fill"),Og=Symbol("default-annotation-statistics-fill"),Pg=Symbol("default-annotation-statistics-stroke"),jg=Symbol("default-annotation-statistics-color"),Fg=Symbol("default-annotation-statistics-divider-stroke"),tD=Symbol("default-annotation-statistics-fill"),eD=Symbol("default-annotation-statistics-stroke"),zg=Symbol("default-textbox-fill"),Bg=Symbol("default-textbox-stroke"),Vg=Symbol("default-textbox-color"),Ac=Symbol("default-toolbar-position"),hs=Symbol("default-gridline-enabled");function sm(i,e,t,n,s){let{addPhaseFn:r,updatePhaseFn:o,removePhaseFn:a}=s,l=(c,d,u)=>{t.animate({id:`${i}_${e}_${d.id}_${c}`,groupId:i,from:0,to:1,ease:Zl,collapsable:!1,onUpdate(h,p){p&&c!=="removed"||(d.path.clear(!0),u(h,d),d.checkPathDirty())},onStop(){c==="added"&&(d.path.clear(!0),u(1,d),d.checkPathDirty())},phase:ui[c]})};for(let c of n)t.isSkipped()||(l("removed",c,a),l("updated",c,o)),l("added",c,r)}function Ku(i){return typeof i=="number"?i.toFixed(2):String(i??"")}var _d=null;function $t(i){if(i!=null)return i===""?"":(_d??(_d=Ot("div")),_d.textContent=String(i),_d.innerHTML)}var wl=new WeakMap;function cu(i,e){let t=JSON.stringify(i,null,0);return wl.has(e)||wl.set(e,new Map),wl.get(e)?.has(t)||wl.get(e)?.set(t,e(i)),wl.get(e)?.get(t)}function Xu(i,e=[0,0]){for(let t of i)typeof t=="number"&&(t<0&&(e[0]+=t),t>0&&(e[1]+=t));return e}function L1(i,e){return{id:i,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>Xu(n)}}function iD(i,e){return{id:i,type:"aggregate",matchGroupIds:e?[e]:void 0,aggregateFunction:t=>Xu(t),groupAggregateFunction:(t,n=[0,0])=>(n[0]+=t?.[0]??0,n[1]+=t?.[1]??0,n)}}function nD(i,e){return{id:i,matchGroupIds:[e],type:"aggregate",aggregateFunction:n=>qo.extendDomain(n)}}function rm(i){return{id:i,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(e,t=[0,0])=>(t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t)}}function sD(i,e){return{id:i,matchGroupIds:e?[e]:void 0,type:"aggregate",aggregateFunction:n=>Xu(n),groupAggregateFunction:(n,s=[0,0,-1])=>(s[0]+=n?.[0]??0,s[1]+=n?.[1]??0,s[2]++,s),finalFunction:(n=[0,0,0])=>{let s=n[0]+n[1];return s>=0?[0,s/n[2]]:[s/n[2],0]}}}function om(i,e,t){let n={id:i,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:(s,r=[])=>{let o=r[1]-r[0];return e.aggregateFunction(s).map(a=>a/o)}};return e.groupAggregateFunction&&(n.groupAggregateFunction=e.groupAggregateFunction),n}function rD(i){return()=>{let e=0;return t=>It(t)?(e+=i?Math.max(0,t):t,e):t}}function oD(){return()=>{let i=0;return e=>{if(!It(e))return e;let t=i;return i+=e,t}}}function aD(i){return i!=null&&Pu(i)}function N1(i){return i!=null}function lD(i){switch(i){case"number":case"log":case"ordinal-time":case"time":case"color":return aD;default:return N1}}function cD(i){switch(i){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function wn(i,e,t={}){return S({property:i,type:"key",valueType:cD(e),validation:lD(e)},t)}function yt(i,e,t={}){return S({property:i,type:"value",valueType:cD(e),validation:lD(e)},t)}function Ug(i,e={}){let r=e,{min:t=-1/0,max:n=1/0}=r,s=_t(r,["min","max"]);return S({type:"value",property:i,valueType:"range",validation:aD,processor:()=>o=>It(o)?at(t,o,n):o},s)}function Jl(i,e,t={}){let o=t,{onlyPositive:n}=o,s=_t(o,["onlyPositive"]);return E(S({},yt(i,e,s)),{processor:rD(n)})}function k1(i,e,t={}){return E(S({},yt(i,e,t)),{processor:oD()})}function ir(i,e,t="current",n,s){return[yt(i,s,n),fD(n.groupId,e,t,n.separateNegative),...n.rangeId!=null?[nD(n.rangeId,n.groupId)]:[]]}function dD(i,e,t){return[yt(i,e,t),mD(t.groupId)]}var uD={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let i=NaN;return(e=1/0,t)=>{let n=t.keys[0],s=Math.abs(n-i);return i=n,!isNaN(s)&&s>0&&s<e?s:e}}},hD={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let i=NaN;return(e=-1/0,t)=>{let n=t.keys[0],s=Math.abs(n-i);return i=n,!isNaN(s)&&s>0&&s>e?s:e}}},pD={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:i}})=>i?.slice().sort((e,t)=>{for(let n=0;n<e.length;n++){let s=e[n]-t[n];if(s!==0)return s}return 0})};function R1({normaliseTo:i,mode:e}){let t=(n,s)=>{let r=n*i/s;return r>=0?Math.min(i,r):Math.max(-i,r)};return()=>()=>(n,s)=>{let r=[0,0];for(let a of s){let l=n[a],c=typeof l=="number"?l:Math.max(...l),d=c<0?0:1;e==="sum"?r[d]+=c:d===0?r[d]=Math.min(r[d],c):r[d]=Math.max(r[d],c)}let o=Math.max(Math.abs(r[0]),r[1]);for(let a of s){let l=n[a];n[a]=typeof l=="number"?t(l,o):l.map(c=>t(c,o))}}}function Qu(i,e,t="sum"){return{type:"group-value-processor",matchGroupIds:i,adjust:cu({normaliseTo:e,mode:t},R1)}}function O1({normaliseTo:i,zeroDomain:e,rangeMin:t,rangeMax:n}){let s=i[1]-i[0],r=(o,a,l)=>{let c=i[0]+(o-a)/l*s;return l===0?e:c>=i[1]?i[1]:c<i[0]?i[0]:c};return()=>(o,a)=>{let[l,c]=o.domain.values[a];t!=null&&(l=t),n!=null&&(c=n);let d=c-l;o.domain.values[a]=[i[0],i[1]];for(let u of o.data){let h=u.values;o.type==="ungrouped"&&(h=[h]);for(let p of h)p[a]=r(p[a],l,d)}}}function so(i,e,t,n,s){return{type:"property-value-processor",property:i,adjust:cu({normaliseTo:e,rangeMin:n,rangeMax:s,zeroDomain:t},O1)}}function Na(i){return{type:"processor",property:"animationValidation",calculate(e){let{keys:t,values:n}=e.defs,{input:s,data:r}=e,o=!0,a=!0,l=[];for(let d=0;d<n.length;d++)i?.includes(n[d].id)&&l.push([d,n[d]]);let c=(d,u,h)=>{if(u.valueType==="category"){let f=e.domain[h][d];o&&(o=f.length===s.count);return}let p=r[0]?.[h][d];for(let f=1;(o||a)&&f<r.length;f++){let g=r[f][h][d];a&&(a=p<=g),o&&(o=p!==g),p=g}};for(let d=0;(o||a)&&d<t.length;d++)c(d,t[d],"keys");for(let d=0;(o||a)&&d<l.length;d++){let[u,h]=l[d];c(u,h,"values")}return{uniqueKeys:o,orderedKeys:a}}}}function P1({mode:i,separateNegative:e}){return()=>()=>(t,n)=>{let s=[0,0];for(let r of n){let o=t[r],a=oc(o)&&e?0:1;It(o)&&(i==="normal"&&(s[a]+=o),t[r]=s[a],i==="trailing"&&(s[a]+=o))}}}function j1({mode:i,sum:e}){return()=>{let t=[],n=!0;return()=>(s,r)=>{let o=0;for(let a of r){let l=s[a],c=n&&e==="current"?0:t[a];t[a]=l;let d=e==="current"?l:c;if(!It(l)||!It(c)){s[a]=o;continue}i==="normal"&&(o+=d),s[a]=o,i==="trailing"&&(o+=d)}n=!1}}}function fD(i,e,t,n=!1){let s;if(e.startsWith("window")){let r=e.endsWith("-trailing")?"trailing":"normal";s=cu({mode:r,sum:t},j1)}else s=cu({mode:e,separateNegative:n},P1);return{type:"group-value-processor",matchGroupIds:[i],adjust:s}}function F1(){return()=>(i,e)=>{let t=new Float64Array(32),n=0;for(let s of e){let r=i[s];t[n]=Number.isFinite(r)?r:NaN,n+=1,i[s]=t.subarray(0,n)}}}function mD(i){return{type:"group-value-processor",matchGroupIds:[i],adjust:F1}}function ka(i,e=!0){return{type:"processor",property:"diff",calculate:t=>{let n=new Map,s=new Map,r=new Map,o=new Map,a=Math.max(i.data.length,t.data.length);for(let c=0;c<a;c++){let d=i.data[c],u=t.data[c],h=d?bs(d.keys):"",p=u?bs(u.keys):"";if(u&&d&&h===p){tr(d.values,u.values)||r.set(p,u);continue}o.has(p)?((e||!tr(o.get(p).values,u.values))&&(r.set(p,u),n.set(p,u)),o.delete(p)):u&&s.set(p,u),s.has(h)?((e||!tr(s.get(h).values,d.values))&&(r.set(h,d),n.set(h,d)),s.delete(h)):d&&(r.delete(h),o.set(h,d))}return{changed:s.size>0||r.size>0||o.size>0,added:s,updated:r,removed:o,moved:n}}}}function bs(i,...e){let t;return qt(i)?t=i.map(s=>to(s)).join("___"):t=to(i),(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||t instanceof Date)&&e.length>0&&(t+=`___${e.join("___")}`),t}function Ct({id:i},e,t,...n){$n(i,e,t,n,{opacity:0},{opacity:1},{phase:"trailing"})}function Qs({id:i},e,t,...n){$n(i,e,t,n,{opacity:1},{opacity:0},{phase:"remove"})}function Ts(i){return{opacity:1}}var Gg=class extends ft{constructor(){super(...arguments),this._dirty=3}markDirty(i=1){this._dirty<i&&(this._dirty=i)}markClean(i){this._dirty=0}isDirty(){return this._dirty>0}},Tn=class extends Gg{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};m([x(et),V({redraw:3})],Tn.prototype,"enabled",2);m([x(Lt),V({redraw:3})],Tn.prototype,"color",2);m([x(Gt),V({redraw:3})],Tn.prototype,"xOffset",2);m([x(Gt),V({redraw:3})],Tn.prototype,"yOffset",2);m([x(F),V({redraw:3})],Tn.prototype,"blur",2);var gD=jt(i=>OS(i)||typeof i=="function"&&Object.create(i.prototype)instanceof zi,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),_i=class extends Gg{constructor(){super(...arguments),this.enabled=!0,this.shape=eo,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:i,shape:e,fill:t,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o}=this;return{size:i,shape:e,fill:t,fillOpacity:n,stroke:s,strokeWidth:r,strokeOpacity:o}}getDiameter(){return this.size+this.strokeWidth}};m([x(et),V({redraw:3})],_i.prototype,"enabled",2);m([x(gD),V({redraw:3})],_i.prototype,"shape",2);m([x(F),V({redraw:3})],_i.prototype,"size",2);m([x(Lt,{optional:!0}),V({redraw:3})],_i.prototype,"fill",2);m([x(At),V({redraw:3})],_i.prototype,"fillOpacity",2);m([x(Lt,{optional:!0}),V({redraw:3})],_i.prototype,"stroke",2);m([x(F),V({redraw:3})],_i.prototype,"strokeWidth",2);m([x(At),V({redraw:3})],_i.prototype,"strokeOpacity",2);m([x(wi,{optional:!0}),V({redraw:3})],_i.prototype,"itemStyler",2);var yD=class extends ft{constructor(){super(...arguments),this.enabled=!1}};m([x(et)],yD.prototype,"enabled",2);var mi=class extends ft{constructor(){super(...arguments),this.enabled=!0,this.interaction=new yD,this.position=new Da,this.range=void 0}toTooltipHtml(i,e){return this.renderer?pa(this.renderer(e),i):pa(i)}};m([x(et)],mi.prototype,"enabled",2);m([x(et,{optional:!0})],mi.prototype,"showArrow",2);m([x(wi,{optional:!0})],mi.prototype,"renderer",2);m([x(Y)],mi.prototype,"interaction",2);m([x(Y)],mi.prototype,"position",2);m([x(Nu,{optional:!0})],mi.prototype,"range",2);var bD=Ft(["linear","smooth","step"],"a line style"),vD=Ft(["start","middle","end"]),Ra=class extends ft{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};m([x(bD)],Ra.prototype,"type",2);m([x(At)],Ra.prototype,"tension",2);m([x(vD)],Ra.prototype,"position",2);var Ie=class extends _s{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ra,this.shadow=new Tn,this.marker=new _i,this.label=new Ce,this.tooltip=new mi,this.connectMissingData=!1}};m([x(P)],Ie.prototype,"xKey",2);m([x(P,{optional:!0})],Ie.prototype,"xName",2);m([x(P)],Ie.prototype,"yKey",2);m([x(P,{optional:!0})],Ie.prototype,"yName",2);m([x(P,{optional:!0})],Ie.prototype,"yFilterKey",2);m([x(F,{optional:!0})],Ie.prototype,"normalizedTo",2);m([x(Lt)],Ie.prototype,"fill",2);m([x(At)],Ie.prototype,"fillOpacity",2);m([x(Lt)],Ie.prototype,"stroke",2);m([x(F)],Ie.prototype,"strokeWidth",2);m([x(At)],Ie.prototype,"strokeOpacity",2);m([x(Ss)],Ie.prototype,"lineDash",2);m([x(F)],Ie.prototype,"lineDashOffset",2);m([x(Y)],Ie.prototype,"interpolation",2);m([x(Y)],Ie.prototype,"shadow",2);m([x(Y)],Ie.prototype,"marker",2);m([x(Y)],Ie.prototype,"label",2);m([x(Y)],Ie.prototype,"tooltip",2);m([x(et)],Ie.prototype,"connectMissingData",2);function lr(i){switch(i.type){case"linear":case"step":return[{x:i.x0,y:i.y0},{x:i.x1,y:i.y1}];case"cubic":return[{x:i.cp0x,y:i.cp0y},{x:i.cp3x,y:i.cp3y}]}}function z1(i){let e=lr(i);return e[0].x>e[1].x&&e.reverse(),e}function tc(i,e,t){let[n,s]=lr(i),r=s.x!==n.x?(t.x-e.x)/(s.x-n.x):0,o=s.y!==n.y?(t.y-e.y)/(s.y-n.y):0;switch(i.type){case"linear":return{type:"linear",moveTo:i.moveTo,x0:e.x,y0:e.y,x1:t.x,y1:t.y};case"cubic":return{type:"cubic",moveTo:i.moveTo,cp0x:e.x,cp0y:e.y,cp1x:t.x-(i.cp2x-n.x)*r,cp1y:t.y-(i.cp2y-n.y)*o,cp2x:t.x-(i.cp1x-n.x)*r,cp2y:t.y-(i.cp1y-n.y)*o,cp3x:t.x,cp3y:t.y};case"step":return{type:"step",moveTo:i.moveTo,x0:e.x,y0:e.y,x1:t.x,y1:t.y,stepX:t.x-(i.stepX-n.x)*r}}}function xD(i,e,t){let{moveTo:n}=i,[s,r]=z1(i),{x:o,y:a}=s,{x:l,y:c}=r;if(t<o)return tc(i,s,s);if(e>l)return tc(i,r,r);switch(i.type){case"linear":{let d=a===c?void 0:(c-a)/(l-o),u=d==null?a:d*(e-o)+a,h=d==null?a:d*(t-o)+a;return{type:"linear",moveTo:n,x0:e,y0:u,x1:t,y1:h}}case"step":if(t<=i.stepX){let d=i.y0;return{type:"step",moveTo:n,x0:e,y0:d,x1:t,y1:d,stepX:t}}else if(e>=i.stepX){let d=i.y1;return{type:"step",moveTo:n,x0:e,y0:d,x1:t,y1:d,stepX:e}}else{let{y0:d,y1:u,stepX:h}=i;return{type:"step",moveTo:n,x0:e,y0:d,x1:t,y1:u,stepX:h}}case"cubic":{let d=su(i.cp0x,i.cp1x,i.cp2x,i.cp3x,e),[u,h]=ru(i.cp0x,i.cp0y,i.cp1x,i.cp1y,i.cp2x,i.cp2y,i.cp3x,i.cp3y,d),p=su(h[0].x,h[1].x,h[2].x,h[3].x,t);return[h,u]=ru(h[0].x,h[0].y,h[1].x,h[1].y,h[2].x,h[2].y,h[3].x,h[3].y,p),{type:"cubic",moveTo:n,cp0x:h[0].x,cp0y:h[0].y,cp1x:h[1].x,cp1y:h[1].y,cp2x:h[2].x,cp2y:h[2].y,cp3x:h[3].x,cp3y:h[3].y}}}}function B1(i){let e=[],t=0,n=NaN,s=NaN;for(let{x:r,y:o}of i){if(t>0){let a=t===1;e.push({type:"linear",moveTo:a,x0:n,y0:s,x1:r,y1:o})}t+=1,n=r,s=o}return e}var V1={start:0,middle:.5,end:1};function U1(i,e){let t=[],n=0,s=NaN,r=NaN,o=typeof e=="number"?e:V1[e];for(let{x:a,y:l}of i){if(n>0){let c=n===1,d=s+(a-s)*o;t.push({type:"step",moveTo:c,x0:s,y0:r,x1:a,y1:l,stepX:d})}n+=1,s=a,r=l}return t}var Ed=.05;function G1(i,e){let t=Array.isArray(i)?i:Array.from(i);if(t.length<=1)return[];let n=t.map((r,o)=>{let a=o===0?r:t[o-1],l=o===t.length-1?r:t[o+1],c=o===0||o===t.length-1;if(Math.sign(a.y-r.y)===Math.sign(l.y-r.y))return 0;if(!c){let d=Math.abs(a.y-l.y),u=Math.abs(r.y-a.y)/d,h=Math.abs(r.y-l.y)/d;if(u<=Ed||1-u<=Ed||h<=Ed||1-h<=Ed)return 0}return(l.y-a.y)/(l.x-a.x)});n[1]===0&&(n[0]*=2),n[n.length-2]===0&&(n[n.length-1]*=2);let s=[];for(let r=1;r<t.length;r+=1){let o=t[r-1],a=n[r-1],l=t[r],c=n[r],d=l.x-o.x,u=l.y-o.y,h=d*e/3,p=d*a*e/3,f=d*e/3,g=d*c*e/3;c===0&&Math.abs(p)>Math.abs(u)&&(h*=Math.abs(u/p),p=Math.sign(p)*Math.abs(u)),a===0&&Math.abs(g)>Math.abs(u)&&(f*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),s.push({type:"cubic",moveTo:r===1,cp0x:o.x,cp0y:o.y,cp1x:o.x+h,cp1y:o.y+p,cp2x:l.x-f,cp2y:l.y-g,cp3x:l.x,cp3y:l.y})}return s}function xe(i,e,t){return(e-i)*t+i}function H1(i,e){let{x0:t,y0:n,x1:s,y1:r}=i,a=(r-n)/(s-t)*(e-t)+n;return{leftCp1x:t,leftCp1y:n,leftCp2x:e,leftCp2y:a,stepX:e,stepY0:a,stepY1:a,rightCp1x:e,rightCp1y:a,rightCp2x:s,rightCp2y:r}}function Y1(i,e){let{cp0x:t,cp0y:n,cp1x:s,cp1y:r,cp2x:o,cp2y:a,cp3x:l,cp3y:c}=i,d=su(t,s,o,l,e),[u,h]=ru(t,n,s,r,o,a,l,c,d),p=u[3].y;return{leftCp1x:u[1].x,leftCp1y:u[1].y,leftCp2x:u[2].x,leftCp2y:u[2].y,stepX:e,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}function W1(i){let{x0:e,y0:t,x1:n,y1:s,stepX:r}=i;return{leftCp1x:(e+r)/2,leftCp1y:t,leftCp2x:(e+r)/2,leftCp2y:t,stepX:r,stepY0:t,stepY1:s,rightCp1x:(r+n)/2,rightCp1y:s,rightCp2x:(r+n)/2,rightCp2y:s}}function cx(i,e){return i.type==="linear"?H1(i,e):i.type==="cubic"?Y1(i,e):W1(i)}function MD(i,e,t,n,s,r,o){switch(e){case 1:o?i.moveTo(s,r):i.moveTo(t,n);break;case 2:o?i.lineTo(s,r):i.lineTo(t,n);break}}function ID(i,e,t,n,s,r){r?i.lineTo(e,t):i.lineTo(n,s)}function SD(i,e,t,n,s,r,o,a,l,c){c?i.cubicCurveTo(r,o,n,s,e,t):i.cubicCurveTo(n,s,r,o,a,l)}function DD(i,e,t,n,s,r,o){o?(i.lineTo(r,s),i.lineTo(r,t),i.lineTo(e,t)):(i.lineTo(r,t),i.lineTo(r,s),i.lineTo(n,s))}function Mf(i,e,t,n){let[s,r]=lr(e);switch(MD(i,t,s.x,s.y,r.x,r.y,n),e.type){case"linear":ID(i,e.x0,e.y0,e.x1,e.y1,n);break;case"cubic":SD(i,e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,n);break;case"step":DD(i,e.x0,e.y0,e.x1,e.y1,e.stepX,n);break}}function am(i,e,t,n,s,r){let[o,a]=lr(e),[l,c]=lr(t),d=xe(o.x,l.x,n),u=xe(o.y,l.y,n),h=xe(a.x,c.x,n),p=xe(a.y,c.y,n);if(MD(i,s,d,u,h,p,r),e.type==="cubic"&&t.type==="cubic"){let f=xe(e.cp1x,t.cp1x,n),g=xe(e.cp1y,t.cp1y,n),y=xe(e.cp2x,t.cp2x,n),v=xe(e.cp2y,t.cp2y,n);SD(i,d,u,f,g,y,v,h,p,r)}else if(e.type==="step"&&t.type==="step"){let f=xe(e.stepX,t.stepX,n);DD(i,d,u,h,p,f,r)}else if(e.type==="linear"&&t.type==="linear")ID(i,d,u,h,p,r);else{let f;e.type==="step"?f=e.stepX:t.type==="step"?f=t.stepX:f=(d+h)/2;let g=cx(e,f),y=cx(t,f),v=xe(g.leftCp1x,y.leftCp1x,n),b=xe(g.leftCp1y,y.leftCp1y,n),M=xe(g.leftCp2x,y.leftCp2x,n),I=xe(g.leftCp2y,y.leftCp2y,n),D=xe(g.stepX,y.stepX,n),A=xe(g.stepY0,y.stepY0,n),w=xe(g.stepY1,y.stepY1,n),C=xe(g.rightCp1x,y.rightCp1x,n),_=xe(g.rightCp1y,y.rightCp1y,n),T=xe(g.rightCp2x,y.rightCp2x,n),N=xe(g.rightCp2y,y.rightCp2y,n);r?(i.cubicCurveTo(T,N,C,_,D,w),i.lineTo(D,A),i.cubicCurveTo(M,I,v,b,d,u)):(i.cubicCurveTo(v,b,M,I,D,A),i.lineTo(D,w),i.cubicCurveTo(C,_,T,N,h,p))}}function ec({id:i},e,t,...n){let s={phase:t?ui[t]:"trailing"};$n(i,"markers",e,n,{opacity:0},{opacity:1},s),n.forEach(r=>r.cleanup())}function Hg({id:i},e,...t){$n(i,"markers",e,t,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),t.forEach(n=>n.cleanup())}function Yg({id:i,nodeDataDependencies:e},t,...n){let s=e.seriesRectWidth;ie(i,"markers",t,n,{fromFn:(a,l)=>{let c=l.midPoint?.x??s,d=at(0,bM(c/s),1);return isNaN(d)&&(d=0),{scalingX:0,scalingY:0,delay:d,duration:Xd,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function wc(i){return{opacity:1,scalingX:1,scalingY:1}}function ic(i,e){return{translationX:e.point?.x??NaN,translationY:e.point?.y??NaN}}function AD(i,e){let t=(o,a)=>{let l=i[a][o];return Array.isArray(l)?l[0]:l},n=o=>{let{xValue:a}=o;return i.moved[a]?{point:t(a,"moved"),status:"updated"}:i.removed[a]?{point:t(a,"removed"),status:"removed"}:i.added[a]?{point:t(a,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(o,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let d={translationX:c?.from?.x??o.translationX,translationY:c?.from?.y??o.translationY,opacity:o.opacity,phase:ui[l]};return e==="added"?E(S({},d),{opacity:0,translationX:c?.to?.x,translationY:c?.to?.y,phase:ui.added}):(l==="added"&&(d.opacity=0),d)},toFn:(o,a)=>{let{status:l,point:c}=n(a);if(l==="unknown")return{opacity:0};let d={translationX:a.point.x,translationY:a.point.y,opacity:1,phase:ui[l]};return l==="removed"||e==="removed"?E(S({},d),{translationX:c?.to?.x,translationY:c?.to?.y,opacity:0,phase:ui.removed}):d}}}function Cc(i,{datumIndex:e}){let t=i.getNodeData();if(t===void 0)return;let n=t[e],{point:s}=n;if(n==null||s==null)return;let r=s.focusSize??i.getFormattedMarkerStyle(n).size,o=r/2,a=n.point.x-o,l=n.point.y-o;return ne.toCanvas(i.contentGroup,new G(a,l,r,r))}function Z1(i,e,t){let n=t;for(let{x:s,y:r}of e)n?i.lineTo(s,r):(i.moveTo(s,r),n=!0)}var Td=.05;function $1(i,e,t,n){let s=Array.isArray(e)?e:Array.from(e);if(s.length===0||(n?i.lineTo(s[0].x,s[0].y):i.moveTo(s[0].x,s[0].y),s.length<=1))return;let r=s.map((o,a)=>{let l=a===0?o:s[a-1],c=a===s.length-1?o:s[a+1],d=a===0||a===s.length-1;if(Math.sign(l.y-o.y)===Math.sign(c.y-o.y))return 0;if(!d){let u=Math.abs(l.y-c.y),h=Math.abs(o.y-l.y)/u,p=Math.abs(o.y-c.y)/u;if(h<=Td||1-h<=Td||p<=Td||1-p<=Td)return 0}return(c.y-l.y)/(c.x-l.x)});r[1]===0&&(r[0]*=2),r[r.length-2]===0&&(r[r.length-1]*=2);for(let o=1;o<s.length;o+=1){let a=s[o-1],l=r[o-1],c=s[o],d=r[o],u=c.x-a.x,h=c.y-a.y,p=u*t/3,f=u*l*t/3,g=u*t/3,y=u*d*t/3;d===0&&Math.abs(f)>Math.abs(h)&&(p*=Math.abs(h/f),f=Math.sign(f)*Math.abs(h)),l===0&&Math.abs(y)>Math.abs(h)&&(g*=Math.abs(h/y),y=Math.sign(y)*Math.abs(h)),i.cubicCurveTo(a.x+p,a.y+f,c.x-g,c.y-y,c.x,c.y)}}function K1(i,e,t,n){let s;for(let r of e){if(s!=null){let o=s.x<r.x?t:1-t,a=(r.x-s.x)*o+s.x;i.lineTo(a,s?.y??r.y),i.lineTo(a,r.y),i.lineTo(r.x,r.y)}else n?i.lineTo(r.x,r.y):i.moveTo(r.x,r.y);s=r}}function lm(i){return i.reduce(({min:e,max:t},n)=>((e==null||e.point.x>n.point.x)&&(e=n),(t==null||t.point.x<n.point.x)&&(t=n),{min:e,max:t}),{})}function dx(i,e,t){let n=(e.y-i.y)/(e.x-i.x),s=(t-i.x)*n+i.y;return{x:t,y:s}}function ux(i,e,t,n){let s=-1,r=0,o=[];for(;r<i.length;){if(i[r].change===e){o.push(i[r]),r++;continue}if(i[r].change===t){r++;continue}o.length>0&&(n(o,s,r),o.length=0),s=r,r++}o.length>0&&n(o,s,r)}function Wg(i,e){ux(i,"out","in",(t,n,s)=>{n===-1&&i[s]?t.forEach(r=>r.to=i[s].from):s===i.length&&i[n]?t.forEach(r=>r.to=i[n].from):e==="intersect"&&i[n]?.from&&i[s]?.from?t.forEach(r=>r.to=dx(i[n].from,i[s].from,r.from.x)):t.forEach(r=>r.to=r.from)}),ux(i,"in","out",(t,n,s)=>{n===-1&&i[s]?t.forEach(r=>r.from=i[s].to):s===i.length&&i[n]?t.forEach(r=>r.from=i[n].to):e==="intersect"&&i[n]?.to&&i[s]?.to?t.forEach(r=>r.from=dx(i[n].to,i[s].to,r.to.x)):t.forEach(r=>r.from=r.to)})}function hx(i,e,t){let n=isNaN(i.x)?e.x:i.x,s=isNaN(i.y)?e.y:i.y,r=e.x-i.x,o=e.y-i.y,a=isNaN(r)?0:r*t,l=isNaN(o)?0:o*t;return{x:n+a,y:s+l}}var X1={start:0,middle:.5,end:1};function Zg(i,e,t,n=!1){let{path:s}=e;t?.type==="smooth"?$1(s,i,t.tension??1,n):t?.type==="step"?K1(s,i,X1[t.position??"end"],n):Z1(s,i,n)}function wD(i,e){let t,n,s=[],r=()=>{n!=null&&(s.push(n),n=void 0)};for(let o of i){let{from:a,to:l}=o,c=e[o.change];if(c==null||a==null||l==null)continue;let d=hx(a,l,c);if(o.moveTo===!1)n??(n=[]),n.push(d);else if(o.moveTo===!0||!t)r(),n=[d];else if(t){let u=o.moveTo==="in"?c:1-c,{x:h,y:p}=hx(t,d,u);n??(n=[]),n.push({x:h,y:p}),r(),n=[d]}t=d}return r(),s}function CD(i,e,t,n){wD(i,e).forEach(s=>{Zg(s,t,n)})}function $g({id:i,visible:e,nodeDataDependencies:t},n,...s){let{seriesRectWidth:r,seriesRectHeight:o}=t;$n(i,"path_properties",n,s,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:o,visible:e},finish:{clip:!1,visible:e}})}function du({id:i},e,t,n="add",...s){$n(i,e,t,s,{opacity:0},{opacity:1},{phase:n})}function Q1({id:i},e,t,...n){$n(i,e,t,n,{opacity:1},{opacity:0},{phase:"remove"})}function Kg(i){return e=>({visible:i.getVisible(),opacity:i.getOpacity(),clipScalingX:1,clip:!1})}function uu({nodeDataDependencies:i},e){let t=n=>isFinite(n)?n:0;e.clipX=t(i.seriesRectWidth),e.clipY=t(i.seriesRectHeight)}function px(i){return i.type==="continuous"||i.type==="log"}function fx(i){return i.type==="category"}function mx(i,e){return i.domain.length===e.domain.length&&i.range.length===e.range.length&&i.domain.every((t,n)=>t===e.domain[n])&&i.range.every((t,n)=>t===e.range[n])}function gx(i,e){return i===void 0||e===void 0?i!==void 0||e!==void 0:px(i)&&px(e)?i.type===e.type&&mx(i,e):fx(i)&&fx(e)?mx(i,e):!1}function hu(i){return i==null||!i.range.every(e=>Number.isFinite(e))?!1:i.type==="category"?i.domain.every(e=>e!=null):i.domain.every(e=>Number.isFinite(e)||e instanceof Date)}function*_D(i){let e=-1,t=0;for(let{point:n}of i){if(n.moveTo){let s=e>=0?{start:e,end:t}:void 0;e=t,t=e,s!==void 0&&(yield s)}t+=1}e!==-1&&(yield{start:e,end:t})}function*ED(i,{start:e,end:t}){for(let n=e;n<t;n+=1)yield i[n].point}function*q1(i,{start:e,end:t}){for(let n=t-1;n>=e;n-=1)yield i[n].point}function J1(i,e){return i==null||e==null||typeof i!="object"||typeof e!="object"?!1:"id"in i&&"id"in e?i.id===e.id:i.toString()===e.toString()}function We(i,e){if(!e)return NaN;if(i instanceof Date&&(i=i.getTime()),e.type==="continuous"&&typeof i=="number")return(i-e.domain[0])/(e.domain[1]-e.domain[0])*(e.range[1]-e.range[0])+e.range[0];if(e.type==="log"&&typeof i=="number")return e.convert(i);let t=e.domain.findIndex(s=>s===i);if(t>=0)return e.range[t];let n=e.domain.findIndex(s=>J1(i,s));return n>=0?e.range[n]:NaN}function tR(i,e){return!gx(i.scales.x,e.scales.x)||!gx(i.scales.y,e.scales.y)}function eR(i,e){let t=Number(i),n=Number(e);return!isNaN(t)&&!isNaN(n)?Math.abs(n-t)<.25:i===e}function TD(i=!1,e=!1){return i===e?!!i:i?"in":"out"}function LD(i,e,t={}){let{backfillSplitMode:n="intersect"}=t,s=[],r={added:{},moved:{},removed:{}},o=(p,f,g,y="move")=>{p&&(isNaN(p.point.x)||isNaN(p.point.y))&&(p=f);let v={from:p?.point,to:f?.point,moveTo:TD(p?.point.moveTo,f?.point.moveTo),change:y};y==="move"?(r.moved[g]=v,u++,h++):y==="in"?(r.added[g]=v,h++):y==="out"&&(r.removed[g]=v,u++),s.push(v)},{min:a,max:l}=lm(e.nodeData),{min:c,max:d}=lm(i.nodeData),u=0,h=0;for(;u<e.nodeData.length||h<i.nodeData.length;){let p=e.nodeData[u],f=i.nodeData[h],g=p?We(p.xValue??NaN,i.scales.x):void 0,y=f?We(f.xValue??NaN,e.scales.x):void 0,v=void 0;if(g!=null&&eR(g,f?.point.x))o(p,f,f.xValue,"move");else if(g!=null&&g<(c?.point.x??-1/0))o(p,v,p.xValue,"out");else if(g!=null&&g>(d?.point.x??1/0))o(p,v,p.xValue,"out");else if(y!=null&&y<(a?.point.x??-1/0))o(v,f,f.xValue,"in");else if(y!=null&&y>(l?.point.x??1/0))o(v,f,f.xValue,"in");else if(g!=null&&g<f?.point.x)o(p,v,p.xValue,"out");else if(y!=null&&y<p?.point.x)o(v,f,f.xValue,"in");else if(p)o(p,v,p.xValue,"out");else if(f)o(v,f,f.xValue,"in");else throw new Error("Unable to process points")}return Wg(s,n),{result:s,resultMap:r}}function ND(i,e,t,n={}){let{backfillSplitMode:s="intersect",multiDatum:r=!1}=n,o=[],a={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},c={in:"added",move:"moved",out:"removed"},d,u,h=(v,b)=>{var M;let I=c[b.change];r?((M=l[I])[v]??(M[v]=[]),l[I][v].push(b)):a[I][v]=b,d=b,u=to(v)},p=0,f=0,g=!1;for(;p<e.nodeData.length||f<i.nodeData.length;){let v=e.nodeData[p],b=i.nodeData[f],M=to(v?.xValue),I=to(b?.xValue),D;if(M===I)D={change:"move",moveTo:TD(v.point.moveTo??!1,b.point.moveTo),from:v.point,to:b.point},h(v?.xValue,D),p++,f++;else if(t?.removed.has(String(M)))D={change:"out",moveTo:v.point.moveTo??!1,from:v.point},h(v?.xValue,D),p++;else if(t?.added.has(String(I)))D={change:"in",moveTo:b.point.moveTo??!1,to:b.point},h(b?.xValue,D),f++;else if(r&&d&&u===M)D=S({},d),h(v?.xValue,D),p++;else if(r&&d&&u===I)D=S({},d),h(b?.xValue,D),f++;else{g=!0;break}o.push(D)}let y=-1/0;return g||(g=o.some(v=>{let{change:b,to:{x:M=-1/0}={}}=v;if(b==="out")return;let I=M<y;return y=M,I})),g?{result:void 0,resultMap:void 0}:(Wg(o,s),{result:o,resultMap:r?l:a})}function kD(i,e,t){let n="updated",s=r=>r.visible;if(!s(e)&&s(i))n="added";else if(s(e)&&!s(i))n="removed";else for(let r=0;r<t.length&&!(t[r].change!=="move"||t[r].from?.x!==t[r].to?.x||t[r].from?.y!==t[r].to?.y);r++)if(r===t.length-1)return"no-op";return n}function qu(i,e){let t=e==="none"?"updated":i,n={fromFn:s=>{let r;return i==="removed"?r={finish:{visible:!1}}:i==="added"?r={start:{visible:!0}}:r={},S({phase:ui[t]},r)},toFn:s=>({phase:ui[t]})};return e==="fade"?{fromFn:s=>{let r=i==="added"?0:s.opacity;return S({opacity:r},n.fromFn(s))},toFn:s=>S({opacity:i==="removed"?0:1},n.toFn(s))}:n}function RD(i,e,t,n,s,r){let o=kD(i,e,t),a=(u,h)=>{r(t,{move:0,out:u},h,s)},l=(u,h)=>{r(t,{move:u},h,s)},c=(u,h)=>{r(t,{move:1,in:u},h,s)},d=qu(o,n);return{status:o,path:{addPhaseFn:c,updatePhaseFn:l,removePhaseFn:a},pathProperties:d}}function OD(i,e,t,n){let s=i.scales.x?.type==="category",r=e.scales.x?.type==="category";if(s!==r||!hu(i.scales.x)||!hu(e.scales.x))return;let{result:o,resultMap:a}=s?ND(i,e,t):LD(i,e),l="updated";if(e.visible&&!i.visible?l="removed":!e.visible&&i.visible&&(l="added"),o===void 0||a===void 0)return;let c=(t?.changed??!0)||tR(i,e)||l!=="updated",d=RD(i,e,o,"fade",n,CD),u=AD(a,l);return E(S({},d),{marker:u,hasMotion:c})}function on(i){return to(i).valueOf()}function yx({data:i},e){return i.map((t,n)=>({xValue0Index:e.indexOf(on(t.xValue0)),xValue1Index:e.indexOf(on(t.xValue1)),datumIndex:n}))}function iR(i,e){let t=-1/0;for(let n of i){let s=We(n,e.scales.x);if(Number.isFinite(s)){if(s<t)return!1;t=s}else continue}return!0}function nR(i,e){let t=new Set;for(let{xValue0:c,xValue1:d}of i.data){let u=on(c),h=on(d);t.add(u).add(h)}let n=Array.from(t).sort((c,d)=>We(c,i.scales.x)-We(d,i.scales.x)),s=[];for(let{xValue0:c,xValue1:d}of e.data){let u=on(c),h=on(d);t.has(u)||(t.add(u),s.push(u)),t.has(h)||(t.add(h),s.push(h))}s.sort((c,d)=>We(c,e.scales.x)-We(d,e.scales.x));let r=n,o=0;for(let c of s){t:for(let d=r.length;d>o;d-=1){let u=We(c,e.scales.x),h=We(r[d],e.scales.x);if(u>h){o=d+1;break t}}r.splice(o,0,c),o+=1}if(!iR(r,e))return;let a=yx(e,r),l=yx(i,r);return{axisValues:r,oldDataAxisIndices:a,newDataAxisIndices:l}}function bx(i,e,t){if(t.xValue1Index===t.xValue0Index+1)return i;let n=lr(i),s=(n[1].x-n[0].x)/(t.xValue1Index-t.xValue0Index),r=n[0].x+(e-t.xValue0Index)*s,o=r+s;return xD(i,r,o)}function cm(i,e){let[t,n]=lr(i),s=We(0,e.scales.y);return tc(i,{x:t.x,y:s},{x:n.x,y:s})}function PD(i,e,t,n,s){let r,o;if(n.xValue0Index>=s.xValue1Index){let d=t.findLast(h=>h.xValue1Index<=s.xValue1Index)?.datumIndex,u=d!=null?e.data[d]:void 0;r=u?.xValue1,o=u?.yValue1}else if(n.xValue0Index<=s.xValue0Index){let d=t.find(h=>h.xValue0Index>=s.xValue0Index)?.datumIndex,u=d!=null?e.data[d]:void 0;r=u?.xValue0,o=u?.yValue0}if(r==null||o==null)return cm(i,e);let a=We(r,e.scales.x),l=We(o,e.scales.y),c={x:a,y:l};return tc(i,c,c)}function pu(i,e){let t=on(i.xValue0),n=on(i.xValue1);return e?.find(s=>on(s.xValue0)===t&&on(s.xValue1)===n)?.span}function vx(i,e,t,n,s,r){let o=i.data[t.datumIndex],a=o.span,l=pu(o,n);if(l!=null)r.removed.push({from:l,to:l}),r.moved.push({from:l,to:a}),r.added.push({from:a,to:a});else{let c=PD(a,i,e,t,s);r.added.push({from:c,to:a})}}function xx(i,e,t,n,s,r){let o=i.data[t.datumIndex],a=o.span,l=pu(o,n);if(l!=null)r.removed.push({from:a,to:a}),r.moved.push({from:a,to:l}),r.added.push({from:l,to:l});else{let c=PD(a,i,e,t,s);r.removed.push({from:a,to:c})}}function Mx(i,e,t,n,s){let r=e[s.xValue0Index],o=t.data.find(y=>on(y.xValue0)===r),a=e[s.xValue1Index],l=t.data.find(y=>on(y.xValue1)===a);if(o==null||l==null)return;let[{x:c},{x:d}]=lr(i),u=We(o.xValue0,t.scales.x),h=We(o.yValue0,t.scales.y),p=We(l.xValue1,t.scales.x),f=We(l.yValue1,t.scales.y),g=n.data[s.datumIndex].span;return g=tc(g,{x:u,y:h},{x:p,y:f}),g=xD(g,c,d),g}function sR(i,e,t,n,s,r,o,a){let l=n+1,c=r.find(b=>b.xValue0Index<=n&&b.xValue1Index>=l),d=s.find(b=>b.xValue0Index<=n&&b.xValue1Index>=l),u=e.zeroData,h=i.zeroData;if(c==null&&d!=null){vx(i,s,d,u,o,a);return}else if(c!=null&&d==null){xx(e,r,c,h,o,a);return}else if(c==null||d==null)return;let p;c.xValue0Index===d.xValue0Index&&c.xValue1Index===d.xValue1Index?p=0:c.xValue0Index<=d.xValue0Index&&c.xValue1Index>=d.xValue1Index?p=-1:c.xValue0Index>=d.xValue0Index&&c.xValue1Index<=d.xValue1Index?p=1:p=0;let f=e.data[c.datumIndex],g=bx(f.span,n,c),y=i.data[d.datumIndex],v=bx(y.span,n,d);if(p===1){let b=Mx(g,t,e,i,d);b!=null?(a.removed.push({from:g,to:b}),a.moved.push({from:b,to:v}),a.added.push({from:v,to:v})):xx(e,r,c,h,o,a)}else if(p===-1){let b=Mx(v,t,i,e,c);b!=null?(a.removed.push({from:g,to:g}),a.moved.push({from:g,to:b}),a.added.push({from:b,to:v})):vx(i,s,d,u,o,a)}else a.removed.push({from:g,to:g}),a.moved.push({from:g,to:v}),a.added.push({from:v,to:v})}function rR(i,e,t,n){let{axisValues:s,oldDataAxisIndices:r,newDataAxisIndices:o}=i,a={xValue0Index:Math.max(r.at(0)?.xValue0Index??-1/0,o.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(r.at(-1)?.xValue1Index??1/0,o.at(-1)?.xValue1Index??1/0)};for(let l=0;l<s.length-1;l+=1)sR(e,t,s,l,o,r,a,n)}function oR(i,e,t){for(let n of e.data){let s=n.span,r=pu(n,e.zeroData)??cm(s,e);t.removed.push({from:s,to:r})}for(let n of i.data){let s=n.span,r=pu(n,i.zeroData)??cm(s,i);t.added.push({from:r,to:s})}}function If(i,e){let t={removed:[],moved:[],added:[]},n=nR(i,e);return n==null?oR(i,e,t):rR(n,i,e,t),t}function Sf(i,e,t,n){for(let s=0;s<t.length;s+=1){let r=t[s],o=n[s];am(e.path,r.from,r.to,i,1,!1),am(e.path,o.from,o.to,i,2,!0),e.path.closePath()}}function aR(i,e,t,n){let s=(l,c)=>Sf(l,c,e.removed,t.removed),r=(l,c)=>Sf(l,c,e.moved,t.moved),o=(l,c)=>Sf(l,c,e.added,t.added),a=qu(i,n);return{status:i,path:{addPhaseFn:o,updatePhaseFn:r,removePhaseFn:s},pathProperties:a}}function Df(i,e,t){for(let n of t)am(e.path,n.from,n.to,i,1,!1)}function lR(i,e,t){let n=(a,l)=>Df(a,l,e.removed),s=(a,l)=>Df(a,l,e.moved),r=(a,l)=>Df(a,l,e.added),o=qu(i,t);return{status:i,path:{addPhaseFn:r,updatePhaseFn:s,removePhaseFn:n},pathProperties:o}}function jD(i,e){let t=i.scales.x?.type==="category",n=e.scales.x?.type==="category";if(t!==n||!hu(i.scales.x)||!hu(e.scales.x))return;let s="updated";e.visible&&!i.visible?s="removed":!e.visible&&i.visible&&(s="added");let r=If({scales:i.scales,data:i.fillData.spans,visible:i.visible},{scales:e.scales,data:e.fillData.spans,visible:e.visible}),o=If({scales:i.scales,data:i.fillData.phantomSpans,visible:i.visible},{scales:e.scales,data:e.fillData.phantomSpans,visible:e.visible}),a=If({scales:i.scales,data:i.strokeData.spans,visible:i.visible,zeroData:i.fillData.phantomSpans},{scales:e.scales,data:e.strokeData.spans,visible:e.visible,zeroData:e.fillData.phantomSpans}),l="none",c=aR(s,r,o,l),d=lR(s,a,l);return{status:s,fill:c,stroke:d}}var cR=.125,dR=.25,uR=(()=>{let i=class extends yr{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:Kg({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Ts,marker:(t,n)=>S(S({},wc(t)),ic(t,n))}}),this.properties=new Ie}async processData(e){if(this.data==null||!this.properties.isValid())return;let{data:t,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,p=this.axes.y?.scale,{xScaleType:f,yScaleType:g}=this.getScaleInformation({xScale:h,yScale:p}),y={value:`area-stack-${s}-yValue`,values:`area-stack-${s}-yValues`,stack:`area-stack-${s}-yValue-stack`,marker:`area-stack-${s}-yValues-marker`},v=[];ua(d)&&v.push(Qu(Object.values(y),d,"range")),u&&v.push(Na());let b={invalidValue:null};c&&r>1&&(b.invalidValue=0),n||(b.forceValue=0),await this.requestDataModel(e,t,{props:[wn(o,f,{id:"xValue"}),yt(a,g,S({id:"yValueRaw"},b)),...l!=null?[yt(l,g,{id:"yFilterRaw"})]:[],...dD(a,g,E(S({id:"yValueStack"},b),{groupId:y.stack})),yt(a,g,E(S({id:"yValue"},b),{groupId:y.value})),...ir(a,"window","current",E(S({id:"yValueEnd"},b),{groupId:y.values}),g),...ir(a,"normal","current",E(S({id:"yValueCumulative"},b),{groupId:y.marker}),g),...v],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}getSeriesDomain(e){let{processedData:t,dataModel:n,axes:s}=this;if(!t||!n||t.data.length===0)return[];let r=s.y,o=n.resolveProcessedDataDefById(this,"xValue"),a=n.getDomain(this,"xValue","key",t),l=n.getDomain(this,"yValueEnd","value",t);if(e==="x")return o?.def.type==="key"&&o.def.valueType==="category"?a:Si(Kn(a));if(r instanceof Dc||r instanceof Wu)return Si(l);{let c=[l[0]>0?0:l[0],l[1]<0?0:l[1]];return Si(c)}}async createNodeData(){let{axes:e,data:t,processedData:{data:n}={},dataModel:s}=this,r=e.x,o=e.y;if(!r||!o||!t||!s||!this.properties.isValid())return;let{yKey:a,xKey:l,yFilterKey:c,marker:d,label:u,fill:h,stroke:p,connectMissingData:f}=this.properties,{scale:g}=r,{scale:y}=o,{isContinuousY:v}=this.getScaleInformation({xScale:g,yScale:y}),b=(g.bandwidth??0)/2,M=s.resolveProcessedDataDefsByIds(this,["yValueEnd","yValueRaw","yValueCumulative"]),I=c!=null?s.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,D=s.resolveProcessedDataIndexById(this,"yValueStack"),A=(K,L,H)=>{let W;return(ua(this.properties.normalizedTo)?v&&Pu(H):!isNaN(H))&&(W=L),{x:g.convert(K)+b,y:y.convert(W),size:d.size}},w=a,C=[],_=[],{visibleSameStackCount:T}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),N=-1,j=!1;n?.forEach(K=>{let{keys:L,keys:[H],datum:W,values:X}=K;X.forEach((lt,Dt)=>{N++;let Mt=W[Dt],se=s.resolveProcessedDataDefsValues(M,{keys:L,values:lt}),{yValueRaw:pe,yValueCumulative:Be,yValueEnd:Ve}=se,kt=Number.isFinite(pe),re=A(H,+Be,pe),fe=I!=null?lt[I]===pe:void 0;if(fe===!1&&(j=!0),kt&&d&&_.push({index:N,series:this,itemId:w,datum:Mt,midPoint:{x:re.x,y:re.y},cumulativeValue:Ve,yValue:pe,xValue:H,yKey:a,xKey:l,point:re,fill:d.fill??h,stroke:d.stroke??p,strokeWidth:d.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth),selected:fe}),kt&&u){let Yi=this.getLabelText(u,{value:pe,datum:Mt,xKey:l,yKey:a,xName:this.properties.xName,yName:this.properties.yName},Ku);C.push({index:N,series:this,itemId:a,datum:Mt,x:re.x,y:re.y,labelText:Yi})}})});let{interpolation:B}=this.properties,Z=K=>{let L,H=K.map(W=>W.point);switch(B.type){case"linear":L=B1(H);break;case"smooth":L=G1(H,B.tension);break;case"step":L=U1(H,B.position);break}return L.map((W,X)=>({span:W,xValue0:K[X].xDatum,yValue0:K[X].yDatum,xValue1:K[X+1].xDatum,yValue1:K[X+1].yDatum}))},$=K=>K.flatMap(L=>Array.isArray(L)?Z(L):new Array(L.skip).fill(null)),Q=n?.flatMap(K=>{let{keys:[L],values:H}=K;return H.map(W=>({xDatum:L,values:W}))}),it=(K,L)=>({point:{x:g.convert(K)+b,y:y.convert(L)},xDatum:K,yDatum:L}),rt=K=>{let L=[];if(Q==null)return[];for(let H=0;H<Q.length;H+=1){let{xDatum:W,values:X}=Q[H],lt=X[D],Dt=lt[K],Mt=Number.isFinite(Dt);if(f&&!Mt)continue;let se=Q[H-1]?.values[D],pe=Q[H+1]?.values[D],Be=0,Ve=0;for(let re=0;re<=K;re+=1){let fe=lt[re];if(Number.isFinite(fe)){let Yi=se==null||Number.isFinite(se[re]),Dr=pe==null||Number.isFinite(pe[re]);Yi&&(Be+=fe),Dr&&(Ve+=fe)}}let kt=L[L.length-1];if(!f&&(Be!==Ve||!Mt))if(!Mt&&Array.isArray(kt)&&kt.length===1)L[L.length-1]={skip:1};else{let re=it(W,Be),fe=it(W,Ve);Array.isArray(kt)?kt.push(re):kt!=null&&(kt.skip+=1),L.push(Mt?[fe]:{skip:0})}else{let re=Math.max(Be,Ve),fe=it(W,re);Array.isArray(kt)?kt.push(fe):kt!=null?(kt.skip+=1,L.push([fe])):L.push([fe])}}return $(L)},ct=this.seriesGrouping?.stackIndex??0,bt=()=>{if(Q==null)return[];let K=Q.map(({xDatum:L,values:H})=>{let X=H[D][ct];if(!(f&&!Number.isFinite(X)))return it(L,0)}).filter(L=>L!=null);return Z(K)},nt=rt(ct),ht=nt.map(()=>null);for(let K=ct-1;K>=-1;K-=1){let L;for(let H=0;H<ht.length;H+=1)ht[H]==null&&(L??(L=K!==-1?rt(K):bt()),ht[H]=L[H])}let Nt=nt.map((K,L)=>K??ht[L]),vt=nt.filter(K=>K!=null);return{itemId:w,fillData:{itemId:w,spans:Nt,phantomSpans:ht},strokeData:{itemId:w,spans:vt},labelData:C,nodeData:_,scales:this.calculateScaling(),visible:this.visible,stackVisible:T>0,crossFiltering:j}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,t=Zn(e);return new t}async updatePathNodes(e){let{opacity:t,visible:n,animationEnabled:s}=e,[r,o]=e.paths,a=this.contextNodeData?.crossFiltering===!0,l=this.getStrokeWidth(this.properties.strokeWidth);o.setProperties({fill:void 0,lineJoin:o.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:l,strokeOpacity:this.properties.strokeOpacity*(a?dR:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:n||s}),r.setProperties({stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity*(a?cR:1),fillShadow:this.properties.shadow,opacity:t,visible:n||s}),uu(this,o),uu(this,r)}async updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(let n of e)n.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(let n of e)n.path.clear(),n.checkPathDirty()}updateFillPath(e,t){let{spans:n,phantomSpans:s}=t.fillData,[r]=e,{path:o}=r;o.clear(!0);for(let a=0;a<n.length;a+=1){let{span:l}=n[a],c=s[a].span;Mf(o,l,1,!1),Mf(o,c,2,!0),o.closePath()}r.checkPathDirty()}updateStrokePath(e,t){let{spans:n}=t.strokeData,[,s]=e,{path:r}=s;r.clear(!0);for(let{span:o}of n)Mf(r,o,1,!1);s.checkPathDirty()}async updateMarkerSelection(e){let{nodeData:t,markerSelection:n}=e,s=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(s?t:[])}async updateMarkerNodes(e){let{markerSelection:t,isHighlight:n}=e,{xKey:s,yKey:r,marker:o,fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u,highlightStyle:h}=this.properties,p=xt(n&&h.item,o.getStyle(),{fill:a,stroke:l,strokeWidth:c,fillOpacity:d,strokeOpacity:u});t.each((f,g)=>{this.updateMarkerStyle(f,o,{datum:g,highlighted:n,xKey:s,yKey:r},p,{selected:g.selected})}),n||this.properties.marker.markClean()}async updateLabelSelection(e){let{labelData:t,labelSelection:n}=e;return n.update(t)}async updateLabelNodes(e){let{labelSelection:t}=e,{enabled:n,fontStyle:s,fontWeight:r,fontSize:o,fontFamily:a,color:l}=this.properties.label;t.each((c,d)=>{let{x:u,y:h,labelText:p}=d;p&&n&&this.visible?(c.fontStyle=s,c.fontWeight=r,c.fontSize=o,c.fontFamily=a,c.textAlign="center",c.textBaseline="bottom",c.text=p,c.x=u,c.y=h-10,c.fill=l,c.visible=!0):c.visible=!1})}getTooltipHtml(e){let{id:t,axes:n,dataModel:s}=this,{xKey:r,xName:o,yName:a,tooltip:l,marker:c}=this.properties,{yKey:d,xValue:u,yValue:h,datum:p,itemId:f}=e,g=n.x,y=n.y;if(!this.properties.isValid()||!(g&&y&&It(h))||!s)return As;let v=g.formatDatum(u),b=y.formatDatum(h),M=$t(a),I=$t(v+": "+b),D=xt({fill:this.properties.fill},c.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:A}=this.getMarkerStyle(c,{datum:e,xKey:r,yKey:d,highlighted:!1},D);return l.toTooltipHtml({title:M,content:I,backgroundColor:A},{datum:p,itemId:f,xKey:r,xName:o,yKey:d,yName:a,color:A,title:M,seriesId:t})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||e!=="category")return[];let{yKey:t,yName:n,fill:s,stroke:r,fillOpacity:o,strokeOpacity:a,strokeWidth:l,lineDash:c,marker:d,visible:u,legendItemName:h}=this.properties,p=!d.enabled||d.fill===void 0;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:u,label:{text:h??n??t},symbols:[{marker:{shape:d.shape,fill:p?s:d.fill,fillOpacity:p?o:d.fillOpacity,stroke:d.stroke??r,strokeOpacity:d.strokeOpacity??a,strokeWidth:d.strokeWidth??0,enabled:d.enabled||l<=0},line:{stroke:r,strokeOpacity:a,strokeWidth:l,lineDash:c}}],legendItemName:h}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,contextData:s,paths:r}=e,{animationManager:o}=this.ctx;this.updateAreaPaths(r,s),$g(this,o,...r),Me([t],ic),Yg(this,o,t),Ct(this,"labels",o,n)}animateReadyResize(e){let{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){let{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:s,contextData:r,paths:o,previousContextData:a}=e,[l,c]=o;if(l==null&&c==null)return;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);let d=()=>{this.resetPathAnimation(e),this.updateAreaPaths(o,r)},u=()=>{t.skipCurrentBatch(),d()};if(r==null||a==null){d(),ec(this,t,"added",n),du(this,"fill_path_properties",t,"add",l),du(this,"stroke_path_properties",t,"add",c),Ct(this,"labels",t,s);return}if(r.crossFiltering!==a.crossFiltering){u();return}let h=jD(r,a);if(h===void 0){u();return}else if(h.status==="no-op")return;ec(this,t,void 0,n),ie(this.id,"fill_path_properties",t,[l],h.fill.pathProperties),sm(this.id,"fill_path_update",t,[l],h.fill.path),ie(this.id,"stroke_path_properties",t,[c],h.stroke.pathProperties),sm(this.id,"stroke_path_update",t,[c],h.stroke.path),Ct(this,"labels",t,s),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(o,r)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){let{xKey:t,yKey:n}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return Cc(this,e)}};return i.className="AreaSeries",i.type="area",i})(),hR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:i=>new uR(i),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Ao,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:de,color:Oe}}},paletteFactory:i=>{let{marker:e}=$u(i);return{fill:e.fill,stroke:e.stroke,marker:e}}};function FD(i,e){return t=>e(t)?[E(S({},i[0]),{position:i[1].position}),E(S({},i[1]),{position:i[0].position})]:i}function Xg(i,e){for(let t of e){let n=t.datum;n===void 0?R.error("undefined datum"):i.addValue(t,n)}}function Qg(i,e){let{x:t,y:n}=e,{nearest:s,distanceSquared:r}=i.getQuadTree().find(t,n);if(s!==void 0)return{datum:s.value,distance:Math.sqrt(r)}}var qg=class extends _s{constructor(){super(...arguments),this.direction="vertical"}};m([x(NM)],qg.prototype,"direction",2);var zD=class extends yr{constructor(){super(...arguments),this.groupScale=new or,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(i,e){let t=typeof e=="boolean"?1:.5,n=It(this.smallestDataInterval)?this.smallestDataInterval*t:0,s=Kn(i)??[NaN,NaN];return typeof e=="boolean"?s[e?0:1]-=(e?1:-1)*n:(s[0]-=n,s[1]+=n),Si(s)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let i=this.getBarDirection();return this.axes[i]}getCategoryAxis(){let i=this.getCategoryDirection();return this.axes[i]}getBandwidth(i){return Tt.is(i.scale)?i.scale.calcBandwidth(this.smallestDataInterval):i.scale.bandwidth}updateGroupScale(i){let e=[],{groupScale:t}=this,n=this.getBandwidth(i),{index:s,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<r;a++)e.push(String(a));return t.domain=e,t.range=[0,n??0],i instanceof yc?t.paddingInner=i.groupPaddingInner:i instanceof ma?t.padding=.1:t.padding=0,t.round=t.padding!==0,{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:s}}resolveKeyDirection(i){return this.getBarDirection()==="x"?i==="x"?"y":"x":i}initQuadTree(i){Xg(i,this.datumNodesIter())}pickNodeClosestDatum(i){return Qg(this,i)}},Jg=class extends Ce{constructor(){super(...arguments),this.placement="inside-center",this.padding=0}};m([x(Ft(["inside-center","inside-start","inside-end","outside-start","outside-end",{value:"inside",deprecatedTo:"inside-center"},{value:"outside",deprecatedTo:"outside-end"}],"a placement"))],Jg.prototype,"placement",2);m([x(Gt)],Jg.prototype,"padding",2);var he=class extends qg{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Tn,this.label=new Jg,this.tooltip=new mi,this.sparklineMode=!1}};m([x(P)],he.prototype,"xKey",2);m([x(P,{optional:!0})],he.prototype,"xName",2);m([x(P)],he.prototype,"yKey",2);m([x(P,{optional:!0})],he.prototype,"yName",2);m([x(P,{optional:!0})],he.prototype,"yFilterKey",2);m([x(P,{optional:!0})],he.prototype,"stackGroup",2);m([x(Gt,{optional:!0})],he.prototype,"normalizedTo",2);m([x(Lt)],he.prototype,"fill",2);m([x(At)],he.prototype,"fillOpacity",2);m([x(Lt)],he.prototype,"stroke",2);m([x(F)],he.prototype,"strokeWidth",2);m([x(At)],he.prototype,"strokeOpacity",2);m([x(Ss)],he.prototype,"lineDash",2);m([x(F)],he.prototype,"lineDashOffset",2);m([x(F)],he.prototype,"cornerRadius",2);m([x(et,{optional:!0})],he.prototype,"crisp",2);m([x(wi,{optional:!0})],he.prototype,"itemStyler",2);m([x(Y,{optional:!0})],he.prototype,"shadow",2);m([x(Y)],he.prototype,"label",2);m([x(Y)],he.prototype,"tooltip",2);m([x(et)],he.prototype,"sparklineMode",2);function BD(i,e){i.crisp=e.crisp??!0,i.fill=e.fill,i.stroke=e.stroke,i.strokeWidth=e.strokeWidth,i.fillOpacity=e.fillOpacity,i.strokeOpacity=e.strokeOpacity,i.lineDash=e.lineDash,i.lineDashOffset=e.lineDashOffset,i.fillShadow=e.fillShadow,i.topLeftCornerRadius=e.topLeftCornerRadius!==!1?e.cornerRadius??0:0,i.topRightCornerRadius=e.topRightCornerRadius!==!1?e.cornerRadius??0:0,i.bottomRightCornerRadius=e.bottomRightCornerRadius!==!1?e.cornerRadius??0:0,i.bottomLeftCornerRadius=e.bottomLeftCornerRadius!==!1?e.cornerRadius??0:0,i.visible=e.visible??!0}function VD(l){var c=l,{datum:i,isHighlighted:e,style:t,highlightStyle:n,itemStyler:s,seriesId:r,ctx:{callbackCache:o}}=c,a=_t(c,["datum","isHighlighted","style","highlightStyle","itemStyler","seriesId","ctx"]);let{fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:f,lineDash:g,lineDashOffset:y,cornerRadius:v=0}=xt(e&&n,t),b;return s&&(b=o.call(s,S({datum:i.datum,xKey:i.xKey,fill:d,fillOpacity:u,stroke:h,strokeWidth:p,strokeOpacity:f,lineDash:g,lineDashOffset:y,cornerRadius:v,highlighted:e,seriesId:r},a))),{fill:b?.fill??d,fillOpacity:b?.fillOpacity??u,stroke:b?.stroke??h,strokeWidth:b?.strokeWidth??p,strokeOpacity:b?.strokeOpacity??f,lineDash:b?.lineDash??g,lineDashOffset:b?.lineDashOffset??y,cornerRadius:b?.cornerRadius??v,topLeftCornerRadius:t.topLeftCornerRadius,topRightCornerRadius:t.topRightCornerRadius,bottomRightCornerRadius:t.bottomRightCornerRadius,bottomLeftCornerRadius:t.bottomLeftCornerRadius,fillShadow:t.fillShadow}}function UD(i,e,t,n){if(e!=null){let[s,r]=e;if(s!==0||r!==1)return!1}if(Tt.is(i)){let s=i.calcBandwidth(n)-i.calcBandwidth(t);if(s>0&&s<1)return!1}return!0}var Af=i=>oc(i.yValue??0);function nc(i,e,t){let{startingX:n,startingY:s}=fR(i,e);return{isVertical:i,calculate:(o,a)=>{let l=i?o.x:n,c=i?s:o.y,d=i?o.width:0,u=i?0:o.height,{opacity:h}=o;a&&(isNaN(l)||isNaN(c))&&({x:l,y:c}=a,d=i?a.width:0,u=i?0:a.height,i&&!Af(a)?c+=a.height:!i&&Af(a)&&(l+=a.width));let p;return o.clipBBox==null?p=void 0:Af(o)?p=i?new G(l,c-u,d,u):new G(l-d,c,d,u):p=new G(l,c,d,u),{x:l,y:c,width:d,height:u,clipBBox:p,opacity:h}},mode:t}}function pR(i,e){return{isVertical:i,calculate:t=>({x:i?t.x:t.x+t.width/2,y:i?t.y+t.height/2:t.y,width:i?t.width:0,height:i?0:t.height,clipBBox:t.clipBBox,opacity:t.opacity}),mode:e}}function sc(i){let e=s=>s==null||isNaN(s.x)||isNaN(s.y);return{toFn:(s,r,o)=>{let a;return o==="removed"&&s.datum==null&&i.mode==="fade"?a=E(S({},rc(s,r)),{opacity:0}):o==="removed"||e(r)?a=i.calculate(r,s.previousDatum):a={x:r.x,y:r.y,width:r.width,height:r.height,clipBBox:r.clipBBox,opacity:r.opacity},a},fromFn:(s,r,o)=>{o==="updated"&&e(r)?o="removed":o==="updated"&&e(s.previousDatum)&&(o="added");let a;o==="added"&&s.previousDatum==null&&i.mode==="fade"?a=E(S({},rc(s,r)),{opacity:0}):o==="unknown"||o==="added"?a=i.calculate(r,s.previousDatum):a={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity};let l=ui[o];return E(S({},a),{phase:l})}}}function fR(i,e){let t=e[i?"y":"x"],n=1/0,s=0;return t?(i?s=t.scale.convert(Tt.is(t.scale)?0:Math.max(...t.range)):n=t.scale.convert(Tt.is(t.scale)?0:Math.min(...t.range)),{startingX:n,startingY:s}):{startingX:n,startingY:s}}function rc(i,{x:e,y:t,width:n,height:s,clipBBox:r,opacity:o}){return{x:e,y:t,width:n,height:s,clipBBox:r,opacity:o}}function ty(i,e,t){if(i===void 0)return;let{x:n,y:s,width:r,height:o}=i;return ne.toCanvas(e,new G(n,s,r,o)).clip(t)}function GD(i,e,t){if(e.enabled&&t){let{x:n,y:s,text:r,textAlign:o,textBaseline:a}=t,{color:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h}=e;i.setProperties({visible:!0,x:n,y:s,text:r,fill:l,fontStyle:c,fontWeight:d,fontSize:u,fontFamily:h,textAlign:o,textBaseline:a})}else i.visible=!1}var mR={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function HD({isUpward:i,isVertical:e,placement:t,padding:n=0,rect:s}){let r=s.x+s.width/2,o=s.y+s.height/2,a="center",l="middle";if(t!=="inside-center"){let c=(i?1:-1)*(e?-1:1),{direction:d,textAlignment:u}=mR[t],h=(d+1)*.5;if(e){let p=i?s.y+s.height:s.y,f=s.height*c;o=p+f*h+n*u*c,l=u===c?"top":"bottom"}else{let p=i?s.x:s.x+s.width,f=s.width*c;r=p+f*h+n*u*c,a=u===c?"left":"right"}}return{x:r,y:o,textAlign:a,textBaseline:l}}var gR={"inside-center":"inside-center","inside-start":"inside-start","inside-end":"inside-end","outside-start":"outside-start","outside-end":"outside-end",inside:"inside-center",outside:"outside-end"},yR=(()=>{let i=class extends zD{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,pickModes:[2,1,0],pathsPerSeries:[],hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:rc,label:Ts}}),this.properties=new he}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:t=this.id}={},data:n=[]}=this,{xKey:s,yKey:r,yFilterKey:o,normalizedTo:a}=this.properties,l=!this.ctx.animationManager.isSkipped(),c=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:u,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:c,yScale:d}),f=`bar-stack-${t}-yValues`,g=`${f}-trailing`,y=[];It(a)&&y.push(Qu([f,g],Math.abs(a),"range")),l&&this.processedData&&y.push(ka(this.processedData)),l&&y.push(Na());let v=this.visible?{}:{forceValue:0},{processedData:b}=await this.requestDataModel(e,n,{props:[wn(s,h,{id:"xValue"}),yt(r,p,S({id:"yValue-raw",invalidValue:null},v)),...this.crossFilteringEnabled()?[yt(o,p,S({id:"yFilterValue",invalidValue:null},v))]:[],...ir(r,"normal","current",S({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0},v),p),...ir(r,"trailing","current",S({id:"yValue-start",invalidValue:null,missingValue:0,groupId:g,separateNegative:!0},v),p),...u?[uD,hD]:[],...y],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=b.reduced?.smallestKeyInterval,this.largestDataInterval=b.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){let{processedData:t,dataModel:n}=this;if(!n||!t?.data.length)return[];let s=n.resolveProcessedDataDefById(this,"xValue"),r=n.getDomain(this,"xValue","key",t),o=n.getDomain(this,"yValue-end","value",t),a=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",t):void 0;if(a!=null&&(o=[Math.min(o[0],a[0]),Math.max(o[1],a[1])]),e===this.getCategoryDirection())return s?.def.type==="key"&&s.def.valueType==="category"?r:this.padBandExtent(r);if(this.getValueAxis()instanceof Dc)return Si(o);{let l=[Math.min(0,o[0]),Math.max(0,o[1])];return Si(l)}}async createNodeData(){let{dataModel:e}=this,t=this.getCategoryAxis(),n=this.getValueAxis();if(!e||!t||!n||!this.properties.isValid())return;let s=t.scale,r=n.scale,{xKey:o,yKey:a,xName:l,yName:c,fill:d,stroke:u,strokeWidth:h,cornerRadius:p,legendItemName:f,label:g}=this.properties,y=n.isReversed(),{barWidth:v,groupIndex:b}=this.updateGroupScale(t),M=Tt.is(s)?v*-.5:0,I=e.resolveProcessedDataIndexById(this,"xValue"),D=e.resolveProcessedDataIndexById(this,"yValue-raw"),A=this.crossFilteringEnabled()?e.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,w=e.resolveProcessedDataIndexById(this,"yValue-start"),C=e.resolveProcessedDataIndexById(this,"yValue-end"),_=e.resolveProcessedDataIndexById(this,"yValue-range"),T=!this.ctx.animationManager.isSkipped(),N=({datum:it,valueIndex:rt,xValue:ct,yValue:bt,cumulativeValue:nt,phantom:ht,currY:Nt,prevY:vt,isPositive:Qt,yRange:K,labelText:L,crossScale:H=1})=>{let W=s.convert(ct),X=Qt!==y,lt=W+j.convert(String(b))+M,Dt=r.convert(Nt),Mt=r.convert(vt),se=this.getBarDirection()==="x",pe=r.convert(K),Be=r.convert(0),Ve=v*.5*(1-H),kt={x:se?Math.min(Dt,Mt):lt+Ve,y:se?lt+Ve:Math.min(Dt,Mt),width:se?Math.abs(Mt-Dt):v*H,height:se?v*H:Math.abs(Mt-Dt)},re=new G(kt.x,kt.y,kt.width,kt.height),fe={x:se?Math.min(Be,pe):lt+Ve,y:se?lt+Ve:Math.min(Be,pe),width:se?Math.abs(Be-pe):v*H,height:se?v*H:Math.abs(Be-pe)},Yi=this.shouldFlipXY()?kt.height:kt.width;return{series:this,itemId:ht?bs(a,ht):a,datum:it,valueIndex:rt,cumulativeValue:nt,phantom:ht,xValue:ct,yValue:bt,yKey:a,xKey:o,capDefaults:{lengthRatioMultiplier:Yi,lengthMax:Yi},x:fe.x,y:fe.y,width:fe.width,height:fe.height,midPoint:{x:kt.x+kt.width/2,y:kt.y+kt.height/2},fill:d,stroke:u,opacity:1,strokeWidth:h,cornerRadius:p,topLeftCornerRadius:se!==X,topRightCornerRadius:X,bottomRightCornerRadius:se===X,bottomLeftCornerRadius:!X,clipBBox:re,label:L!=null?S({text:L},HD({isUpward:X,isVertical:!se,placement:gR[g.placement],padding:g.padding,rect:kt})):void 0,missing:bt==null,focusable:!ht}},{groupScale:j,processedData:B}=this,Z=[],$=[],Q=[];return B?.data.forEach(({keys:it,datum:rt,values:ct,aggValues:bt})=>{ct.forEach((nt,ht)=>{let Nt=it[I],vt=nt[D],Qt=Number(nt[w]),K=A!=null?Number(nt[A]):void 0,L=Number(nt[C]),H=vt>=0&&!Object.is(vt,-0),W=bt?.[_][H?1:0]??0;if(!Number.isFinite(L)||K!=null&&!Number.isFinite(K))return;let X=vt!=null?this.getLabelText(this.properties.label,{datum:rt[ht],value:K??vt,xKey:o,yKey:a,xName:l,yName:c,legendItemName:f},Ku):void 0,lt=K!=null&&K>vt,Dt=N({datum:rt[ht],valueIndex:ht,xValue:Nt,yValue:K??vt,cumulativeValue:K??L,phantom:!1,currY:K!=null?Qt+K:L,prevY:Qt,isPositive:H,yRange:Math.max(Qt+(K??-1/0),W),labelText:X,crossScale:lt?.6:void 0});if($.push(Dt),Q.push(Dt),K!=null){let Mt=N({datum:rt[ht],valueIndex:ht,xValue:Nt,yValue:K,cumulativeValue:K,phantom:!0,currY:L,prevY:Qt,isPositive:H,yRange:W,labelText:void 0,crossScale:void 0});Z.push(Mt)}})}),{itemId:a,nodeData:Z.length>0?[...Z,...$]:$,labelData:Q,scales:this.calculateScaling(),visible:this.visible||T}}nodeFactory(){return new Ci}getHighlightData(e,t){let n=e.find(s=>s.datum===t.datum&&!s.phantom);return n!=null?[n]:void 0}async updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>bs(t.xValue,t.valueIndex,t.phantom))}async updateDatumNodes(e){if(!this.properties.isValid())return;let{yKey:t,stackGroup:n,fill:s,fillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,lineDash:c,lineDashOffset:d,itemStyler:u,shadow:h,highlightStyle:{item:p}}=this.properties,f=this.axes.x,g=this.properties.crisp??UD(f?.scale,f?.visibleRange,this.smallestDataInterval,this.largestDataInterval),y=this.getCategoryDirection()==="x",v={fill:s,stroke:o,lineDash:c,lineDashOffset:d,fillShadow:h,strokeWidth:this.getStrokeWidth(a),fillOpacity:0,strokeOpacity:0},b={datum:void 0,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:p,yKey:t,style:v,itemStyler:u,stackGroup:n};e.datumSelection.each((M,I)=>{v.fillOpacity=r*(I.phantom?.2:1),v.strokeOpacity=l*(I.phantom?.2:1),v.cornerRadius=I.cornerRadius,v.topLeftCornerRadius=I.topLeftCornerRadius,v.topRightCornerRadius=I.topRightCornerRadius,v.bottomRightCornerRadius=I.bottomRightCornerRadius,v.bottomLeftCornerRadius=I.bottomLeftCornerRadius;let D=y?(I.clipBBox?.width??I.width)>0:(I.clipBBox?.height??I.height)>0;b.datum=I;let A=VD(b);A.crisp=g,A.visible=D,BD(M,A)})}async updateLabelSelection(e){let t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.pointerEvents=1})}async updateLabelNodes(e){e.labelSelection.each((t,n)=>{GD(t,this.properties.label,n.label)})}getTooltipHtml(e){let{id:t,processedData:n,ctx:{callbackCache:s}}=this,r=this.getCategoryAxis(),o=this.getValueAxis();if(!n||!this.properties.isValid()||!r||!o)return As;let{xKey:a,yKey:l,xName:c,yName:d,fill:u,stroke:h,strokeWidth:p,tooltip:f,itemStyler:g,stackGroup:y,legendItemName:v}=this.properties,{xValue:b,yValue:M,datum:I,itemId:D}=e,A=r.formatDatum(b),w=o.formatDatum(M),C=$t(d),_=$t(A+": "+w),T;g&&(T=s.call(g,{seriesId:t,datum:I,xKey:a,yKey:l,stackGroup:y,fill:u,stroke:h,strokeWidth:this.getStrokeWidth(p),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));let N=T?.fill??u;return f.toTooltipHtml({title:C,content:_,backgroundColor:N},S({seriesId:t,itemId:D,datum:I,xKey:a,yKey:l,xName:c,yName:d,stackGroup:y,title:C,color:N,legendItemName:v},this.getModuleTooltipParams()))}getLegendData(e){let{showInLegend:t}=this.properties;if(e!=="category"||!this.data?.length||!this.properties.isValid()||!t)return[];let{yKey:n,yName:s,fill:r,stroke:o,strokeWidth:a,fillOpacity:l,strokeOpacity:c,legendItemName:d,visible:u}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:u,label:{text:d??s??n},symbols:[{marker:{fill:r,fillOpacity:l,stroke:o,strokeWidth:a,strokeOpacity:c}}],legendItemName:d}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){let s=sc(nc(this.isVertical(),this.axes,"normal"));ie(this.id,"nodes",this.ctx.animationManager,[e],s),Ct(this,"labels",this.ctx.animationManager,t),Ct(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){let{datumSelection:t,labelSelection:n,annotationSelections:s,previousContextData:r}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let o=this.processedData?.reduced?.diff,a=r==null?"fade":"normal",l=sc(nc(this.isVertical(),this.axes,a));ie(this.id,"nodes",this.ctx.animationManager,[t],l,(d,u)=>bs(u.xValue,u.valueIndex,u.phantom),o),(o?.changed??!0)&&(Ct(this,"labels",this.ctx.animationManager,n),Ct(this,"annotations",this.ctx.animationManager,...s))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){let n=this.contextNodeData?.nodeData[e].clipBBox;return ty(n,this.contentGroup,t)}};return i.className="BarSeries",i.type="bar",i})(),bR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:i=>new yR(i),stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:FD([{type:"number",position:"left"},{type:"category",position:"bottom"}],i=>i?.direction==="horizontal"),themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:de,color:Do,placement:"inside-center"},shadow:{enabled:!1,color:Ao,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:La},ey=class extends _i{constructor(){super(...arguments),this.maxSize=30}};m([x(F),V({redraw:3})],ey.prototype,"maxSize",2);m([x(Tu,{optional:!0}),V({redraw:3})],ey.prototype,"domain",2);var YD=class extends Ce{constructor(){super(...arguments),this.placement="top"}};m([x(zm)],YD.prototype,"placement",2);var Bt=class extends _s{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new YD,this.tooltip=new mi,this.marker=new ey}};m([x(P)],Bt.prototype,"xKey",2);m([x(P)],Bt.prototype,"yKey",2);m([x(P)],Bt.prototype,"sizeKey",2);m([x(P,{optional:!0})],Bt.prototype,"labelKey",2);m([x(P,{optional:!0})],Bt.prototype,"colorKey",2);m([x(P,{optional:!0})],Bt.prototype,"xFilterKey",2);m([x(P,{optional:!0})],Bt.prototype,"yFilterKey",2);m([x(P,{optional:!0})],Bt.prototype,"sizeFilterKey",2);m([x(P,{optional:!0})],Bt.prototype,"xName",2);m([x(P,{optional:!0})],Bt.prototype,"yName",2);m([x(P,{optional:!0})],Bt.prototype,"sizeName",2);m([x(P,{optional:!0})],Bt.prototype,"labelName",2);m([x(P,{optional:!0})],Bt.prototype,"colorName",2);m([x(Tu,{optional:!0})],Bt.prototype,"colorDomain",2);m([x(hn)],Bt.prototype,"colorRange",2);m([x(P,{optional:!0})],Bt.prototype,"title",2);m([ue("marker.shape")],Bt.prototype,"shape",2);m([ue("marker.size")],Bt.prototype,"size",2);m([ue("marker.maxSize")],Bt.prototype,"maxSize",2);m([ue("marker.domain",{optional:!0})],Bt.prototype,"domain",2);m([ue("marker.fill",{optional:!0})],Bt.prototype,"fill",2);m([ue("marker.fillOpacity")],Bt.prototype,"fillOpacity",2);m([ue("marker.stroke",{optional:!0})],Bt.prototype,"stroke",2);m([ue("marker.strokeWidth")],Bt.prototype,"strokeWidth",2);m([ue("marker.strokeOpacity")],Bt.prototype,"strokeOpacity",2);m([ue("marker.itemStyler",{optional:!0})],Bt.prototype,"itemStyler",2);m([x(Y)],Bt.prototype,"label",2);m([x(Y)],Bt.prototype,"tooltip",2);var vR=class extends vg{constructor(i,e,t,n){super(i,e,t,n),this.sizeKey=n.properties.sizeKey}},xR=(()=>{let i=class extends yr{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Ts,marker:wc}}),this.NodeEvent=vR,this.properties=new Bt,this.sizeScale=new ln,this.colorScale=new mo}get pickModeAxis(){return"main-category"}async processData(e){if(!this.properties.isValid()||this.data==null||!this.visible)return;let t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),o=this.colorScale.type,a=this.sizeScale.type,{xKey:l,yKey:c,sizeKey:d,xFilterKey:u,yFilterKey:h,sizeFilterKey:p,labelKey:f,colorDomain:g,colorRange:y,colorKey:v,marker:b}=this.properties,{dataModel:M,processedData:I}=await this.requestDataModel(e,this.data,{props:[yt(l,s,{id:"xValue"}),yt(c,r,{id:"yValue"}),...u!=null?[yt(u,s,{id:"xFilterValue"})]:[],...h!=null?[yt(h,r,{id:"yFilterValue"})]:[],...p!=null?[yt(p,a,{id:"sizeFilterValue"})]:[],yt(d,a,{id:"sizeValue"}),...v?[yt(v,o,{id:"colorValue"})]:[],...f?[yt(f,"band",{id:"labelValue"})]:[]]}),D=M.resolveProcessedDataIndexById(this,"sizeValue"),A=I.domain.values[D]??[];if(this.sizeScale.domain=b.domain?b.domain:A,v){let w=M.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=g??I.domain.values[w]??[],this.colorScale.range=y,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){let{dataModel:t,processedData:n}=this;if(!n||!t)return[];let s=e==="x"?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",n);return r?.def.type==="value"&&r?.def.valueType==="category"?o:Si(Kn(o))}async createNodeData(){let{axes:e,dataModel:t,processedData:n,colorScale:s,sizeScale:r}=this,{xKey:o,yKey:a,sizeKey:l,xFilterKey:c,yFilterKey:d,sizeFilterKey:u,labelKey:h,xName:p,yName:f,sizeName:g,labelName:y,label:v,colorKey:b,marker:M,visible:I}=this.properties,D=Zn(M.shape),{placement:A}=v,w=e.x,C=e.y;if(!(t&&n&&I&&w&&C))return;let _=t.resolveProcessedDataIndexById(this,"xValue"),T=t.resolveProcessedDataIndexById(this,"yValue"),N=l!=null?t.resolveProcessedDataIndexById(this,"sizeValue"):void 0,j=b!=null?t.resolveProcessedDataIndexById(this,"colorValue"):-1,B=h!=null?t.resolveProcessedDataIndexById(this,"labelValue"):-1,Z=c!=null?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,$=d!=null?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,Q=u!=null?t.resolveProcessedDataIndexById(this,"sizeFilterValue"):void 0,it=w.scale,rt=C.scale,ct=(it.bandwidth??0)/2,bt=(rt.bandwidth??0)/2,nt=[];r.range=[M.size,M.maxSize];let ht=v.getFont(),Nt=Ds.getMeasurer({font:ht});for(let{values:vt,datum:Qt}of n.data??[]){let K=vt[_],L=vt[T],H=N!=null?vt[N]:void 0,W=it.convert(K)+ct,X=rt.convert(L)+bt,lt;Z!=null&&$!=null&&(lt=vt[Z]===K&&vt[$]===L,Q!=null&&lt&&(lt=vt[Q]===H));let Dt=this.getLabelText(v,{value:h?vt[B]:L,datum:Qt,xKey:o,yKey:a,sizeKey:l,labelKey:h,xName:p,yName:f,sizeName:g,labelName:y}),Mt=Nt.measureText(String(Dt)),se=H?r.convert(H):M.size,pe=b?s.convert(vt[j]):void 0;nt.push({series:this,itemId:a,yKey:a,xKey:o,datum:Qt,xValue:K,yValue:L,sizeValue:H,point:{x:W,y:X,size:se},midPoint:{x:W,y:X},fill:pe,label:S({text:Dt},Mt),marker:D,placement:A,selected:lt})}return{itemId:a,nodeData:nt,labelData:nt,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:e}=this.properties.marker,t=Zn(e);return new t}async updateMarkerSelection(e){let{nodeData:t,markerSelection:n}=e;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let s=this.properties.marker.enabled?t:[];return n.update(s,void 0,r=>bs([r.xValue,r.yValue,r.label.text]))}async updateMarkerNodes(e){let{markerSelection:t,isHighlight:n}=e,{xKey:s,yKey:r,sizeKey:o,labelKey:a,marker:l}=this.properties,{size:c,shape:d,fill:u,fillOpacity:h,stroke:p,strokeWidth:f,strokeOpacity:g}=xt(n&&this.properties.highlightStyle.item,l.getStyle()),y={size:c,shape:d,fill:u,fillOpacity:h,stroke:p,strokeWidth:f,strokeOpacity:g};this.sizeScale.range=[l.size,l.maxSize],t.each((v,b)=>{this.updateMarkerStyle(v,l,{datum:b,highlighted:n,xKey:s,yKey:r,sizeKey:o,labelKey:a},y,{selected:b.selected})}),n||this.properties.marker.markClean()}async updateLabelSelection(e){let t=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map(n=>E(S({},n.datum),{point:{x:n.x,y:n.y,size:n.datum.point.size}})))}async updateLabelNodes(e){let{label:t}=this.properties;e.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=t.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return As;let{xKey:s,yKey:r,sizeKey:o,labelKey:a,xName:l,yName:c,sizeName:d,labelName:u,marker:h,tooltip:p}=this.properties,f=this.properties.title??c,g=xt({fill:e.fill,strokeWidth:this.getStrokeWidth(h.strokeWidth)},h.getStyle()),{fill:y="gray"}=this.getMarkerStyle(h,{datum:e,highlighted:!1,xKey:s,yKey:r,sizeKey:o,labelKey:a},g),{datum:v,xValue:b,yValue:M,sizeValue:I,label:{text:D},itemId:A}=e,w=$t(t.formatDatum(b)),C=$t(n.formatDatum(M)),_=`<b>${$t(l??s)}</b>: ${w}<br><b>${$t(c??r)}</b>: ${C}`;return o&&(_+=`<br><b>${$t(d??o)}</b>: ${$t(String(I))}`),a&&(_=`<b>${$t(u??a)}</b>: ${$t(D)}<br>`+_),p.toTooltipHtml({title:f,content:_,backgroundColor:y},{datum:v,itemId:A,xKey:s,xName:l,yKey:r,yName:c,sizeKey:o,sizeName:d,labelKey:a,labelName:u,title:f,color:y,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];let{yKey:e,yName:t,title:n,marker:s,visible:r}=this.properties,{shape:o,fill:a,stroke:l,fillOpacity:c,strokeOpacity:d,strokeWidth:u}=s;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:r,label:{text:n??t??e},symbols:[{marker:{shape:o,fill:a??"rgba(0, 0, 0, 0)",stroke:l??"rgba(0, 0, 0, 0)",fillOpacity:c??1,strokeOpacity:d??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){Hg(this,this.ctx.animationManager,e),Ct(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){let{xKey:t,yKey:n,sizeKey:s,labelKey:r}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,sizeKey:s,labelKey:r,highlighted:!1})}computeFocusBounds(e){return Cc(this,e)}};return i.className="BubbleSeries",i.type="bubble",i})(),MR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:i=>new xR(i),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:de,color:Oe}}},paletteFactory:La},Se=class extends _s{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Tn,this.label=new Ce,this.tooltip=new mi}};m([x(P)],Se.prototype,"xKey",2);m([x(P,{optional:!0})],Se.prototype,"yKey",2);m([x(P,{optional:!0})],Se.prototype,"xName",2);m([x(P,{optional:!0})],Se.prototype,"yName",2);m([x(Lt,{optional:!0})],Se.prototype,"fill",2);m([x(At)],Se.prototype,"fillOpacity",2);m([x(Lt,{optional:!0})],Se.prototype,"stroke",2);m([x(F)],Se.prototype,"strokeWidth",2);m([x(At)],Se.prototype,"strokeOpacity",2);m([x(Ss)],Se.prototype,"lineDash",2);m([x(F)],Se.prototype,"lineDashOffset",2);m([x(F)],Se.prototype,"cornerRadius",2);m([x(et)],Se.prototype,"areaPlot",2);m([x(Ma,{optional:!0})],Se.prototype,"bins",2);m([x(Ft(["count","sum","mean"],"a histogram aggregation"))],Se.prototype,"aggregation",2);m([x(F,{optional:!0})],Se.prototype,"binCount",2);m([x(Y)],Se.prototype,"shadow",2);m([x(Y)],Se.prototype,"label",2);m([x(Y)],Se.prototype,"tooltip",2);var Ix=10,IR=(()=>{let i=class extends yr{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,pickModes:[1,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:rc,label:Ts}}),this.properties=new Se,this.calculatedBins=[]}deriveBins(e){let t=ku(e[0],e[1],Ix),n=ha(e[0],e[1],Ix),[s]=t,r=o=>[o,o+n];return[[s-n,s],...t.map(r)]}calculateNiceBins(e,t){let n=Math.floor(e[0]),s=e[1],r=t||1,{start:o,binSize:a}=this.calculateNiceStart(n,s,r);return this.getBins(o,s,a,r)}getBins(e,t,n,s){let r=[],o=this.calculatePrecision(n);for(let a=0;a<s;a++){let l=Math.round((e+a*n)*o)/o,c=Math.round((e+(a+1)*n)*o)/o;a===s-1&&(c=Math.max(c,t)),r[a]=[l,c]}return r}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){let s=Math.abs(t-e)/n,r=Math.floor(Math.log10(s)),o=Math.pow(10,r);return{start:Math.floor(e/o)*o,binSize:s}}async processData(e){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:t,yKey:n,areaPlot:s,aggregation:r}=this.properties,o=this.axes.x?.scale,a=this.axes.y?.scale,{xScaleType:l,yScaleType:c}=this.getScaleInformation({yScale:a,xScale:o}),d=[wn(t,l),pD];if(n){let h=rm("groupAgg");r==="count"||(r==="sum"?h=iD("groupAgg"):r==="mean"&&(h=sD("groupAgg"))),s&&(h=om("groupAgg",h)),d.push(yt(n,c,{invalidValue:void 0}),h)}else{let h=rm("groupAgg");s&&(h=om("groupAgg",h)),d.push(h)}let u=h=>{let p=Si(h.domain.keys[0]);if(p.length===0)return h.domain.groups=[],()=>[];let f=Oi(this.properties.binCount)?this.calculateNiceBins(p,this.properties.binCount):this.properties.bins??this.deriveBins(p),g=f.length;return this.calculatedBins=[...f],y=>{let v=y.keys[0];for(let b=0;b<g;b++){let M=f[b];if(v>=M[0]&&v<M[1]||b===g-1&&v<=M[1])return M}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&d.push(ka(this.processedData,!1)),await this.requestDataModel(e,this.data,{props:d,groupByFn:u}),this.animationState.transition("updateData")}getSeriesDomain(e){let{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];let s=n.getDomain(this,"groupAgg","aggregate",t),r=this.calculatedBins?.[0][0],o=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return Si(e==="x"?[r,o]:s)}async createNodeData(){let{id:e,axes:t,processedData:n,ctx:{callbackCache:s}}=this,r=t.x,o=t.y;if(!r||!o)return;let{scale:a}=r,{scale:l}=o,{xKey:c,yKey:d,xName:u,yName:h,fill:p,stroke:f,strokeWidth:g,cornerRadius:y}=this.properties,v=this.properties.label.formatter??(I=>String(I.value)),b=[],M={itemId:this.properties.yKey??this.id,nodeData:b,labelData:b,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!n||n.type!=="grouped"||(n.data.forEach(I=>{let{aggValues:[[D,A]]=[[0,0]],datum:w,datum:{length:C},keys:_,keys:[T,N]}=I,j=a.convert(T),B=a.convert(N),Z=D+A,$=l.convert(0),Q=l.convert(Z),it=Math.abs(B-j),rt=Math.abs(Q-$),ct=Math.min(j,B),bt=Math.min($,Q),nt;Z!==0&&(nt={x:ct+it/2,y:bt+rt/2,text:s.call(v,{value:Z,datum:w,seriesId:e,xKey:c,yKey:d,xName:u,yName:h})??String(Z)});let ht={x:ct+it/2,y:bt+rt/2},Nt=o.isReversed();b.push({series:this,datum:w,aggregatedValue:Z,frequency:C,domain:_,yKey:d,xKey:c,x:ct,y:bt,xValue:j,yValue:Q,width:it,height:rt,midPoint:ht,fill:p,stroke:f,cornerRadius:y,topLeftCornerRadius:!Nt,topRightCornerRadius:!Nt,bottomRightCornerRadius:Nt,bottomLeftCornerRadius:Nt,opacity:1,strokeWidth:g,label:nt})}),b.sort((I,D)=>I.x-D.x)),M}nodeFactory(){return new Ci}async updateDatumSelection(e){let{nodeData:t,datumSelection:n}=e;return n.update(t,s=>{s.crisp=!0},s=>s.domain.join("_"))}async updateDatumNodes(e){let{isHighlight:t}=e,{fillOpacity:n,strokeOpacity:s,lineDash:r,lineDashOffset:o,shadow:a,highlightStyle:{item:{fill:l,fillOpacity:c=n,stroke:d,strokeWidth:u}}}=this.properties;e.datumSelection.each((h,p,f)=>{let{cornerRadius:g,topLeftCornerRadius:y,topRightCornerRadius:v,bottomRightCornerRadius:b,bottomLeftCornerRadius:M}=p,I=t&&u!==void 0?u:p.strokeWidth,D=t?c:n;h.fill=(t?l:void 0)??p.fill,h.stroke=(t?d:void 0)??p.stroke,h.fillOpacity=D,h.strokeOpacity=s,h.strokeWidth=I,h.lineDash=r,h.lineDashOffset=o,h.topLeftCornerRadius=y?g:0,h.topRightCornerRadius=v?g:0,h.bottomRightCornerRadius=b?g:0,h.bottomLeftCornerRadius=M?g:0,h.fillShadow=a,h.zIndex=t?Ic.highlightedZIndex:f,h.visible=p.height>0})}async updateLabelSelection(e){let{labelData:t,labelSelection:n}=e;return n.update(t,s=>{s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})}async updateLabelNodes(e){let{fontStyle:t,fontWeight:n,fontFamily:s,fontSize:r,color:o}=this.properties.label,a=this.isLabelEnabled();e.labelSelection.each((l,c)=>{a&&c?.label?(l.text=c.label.text,l.x=c.label.x,l.y=c.label.y,l.fontStyle=t,l.fontWeight=n,l.fontFamily=s,l.fontSize=r,l.fill=o,l.visible=!0):l.visible=!1})}initQuadTree(e){let{value:t}=this.contentGroup.children().next();t&&Xg(e,t.children())}pickNodeClosestDatum(e){return Qg(this,e)}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return As;let{xKey:s,yKey:r,xName:o,yName:a,fill:l,aggregation:c,tooltip:d}=this.properties,{aggregatedValue:u,frequency:h,domain:[p,f],itemId:g}=e,y=`${$t(o??s)}: ${t.formatDatum(p)} - ${t.formatDatum(f)}`,v=r?`<b>${$t(a??r)} (${c})</b>: ${n.formatDatum(u)}<br>`:"";v+=`<b>Frequency</b>: ${h}`;let b={title:y,backgroundColor:l,content:v};return d.toTooltipHtml(b,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:g,xKey:s,xName:o,yKey:r,yName:a,color:l,title:y,seriesId:this.id})}getLegendData(e){if(!this.data?.length||e!=="category")return[];let{xKey:t,yName:n,fill:s,fillOpacity:r,stroke:o,strokeWidth:a,strokeOpacity:l,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:c,label:{text:n??t??"Frequency"},symbols:[{marker:{fill:s??"rgba(0, 0, 0, 0)",stroke:o??"rgba(0, 0, 0, 0)",fillOpacity:r,strokeOpacity:l,strokeWidth:a}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){let n=sc(nc(!0,this.axes,"normal"));ie(this.id,"datums",this.ctx.animationManager,[e],n),Ct(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){let t=this.processedData?.reduced?.diff,n=sc(nc(!0,this.axes,"normal"));ie(this.id,"datums",this.ctx.animationManager,[e.datumSelection],n,(s,r)=>bs(r.domain),t),Ct(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){return ty(this.contextNodeData?.nodeData[e],this.contentGroup,t)}};return i.className="HistogramSeries",i.type="histogram",i})(),SR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:i=>new IR(i),tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:de,color:Do},shadow:{enabled:!1,color:Ao,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:i})=>{let{fills:[e],strokes:[t]}=i(1);return{fill:e,stroke:t}}},Ee=class extends _s{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Ra,this.marker=new _i,this.label=new Ce,this.tooltip=new mi,this.connectMissingData=!1}};m([x(P)],Ee.prototype,"xKey",2);m([x(P)],Ee.prototype,"yKey",2);m([x(P,{optional:!0})],Ee.prototype,"xName",2);m([x(P,{optional:!0})],Ee.prototype,"yName",2);m([x(P,{optional:!0})],Ee.prototype,"yFilterKey",2);m([x(P,{optional:!0})],Ee.prototype,"stackGroup",2);m([x(F,{optional:!0})],Ee.prototype,"normalizedTo",2);m([x(P,{optional:!0})],Ee.prototype,"title",2);m([x(Lt)],Ee.prototype,"stroke",2);m([x(F)],Ee.prototype,"strokeWidth",2);m([x(At)],Ee.prototype,"strokeOpacity",2);m([x(Ss)],Ee.prototype,"lineDash",2);m([x(F)],Ee.prototype,"lineDashOffset",2);m([x(Y)],Ee.prototype,"interpolation",2);m([x(Y)],Ee.prototype,"marker",2);m([x(Y)],Ee.prototype,"label",2);m([x(Y)],Ee.prototype,"tooltip",2);m([x(et)],Ee.prototype,"connectMissingData",2);var DR=.25,AR=(()=>{let i=class extends yr{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,hasMarkers:!0,pickModes:[2,1,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:Kg({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Ts,marker:(t,n)=>S(S({},wc(t)),ic(t,n))}}),this.properties=new Ee}get pickModeAxis(){return"main-category"}async processData(e){if(this.data==null||!this.properties.isValid())return;let{data:t,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:a,yFilterKey:l,connectMissingData:c,normalizedTo:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=this.axes.x?.scale,p=this.axes.y?.scale,{isContinuousX:f,xScaleType:g,yScaleType:y}=this.getScaleInformation({xScale:h,yScale:p}),v={invalidValue:null};c&&r>1&&(v.invalidValue=0),n||(v.forceValue=0);let b=[];if(f||b.push(wn(o,g,{id:"xKey"})),b.push(yt(o,g,{id:"xValue"}),yt(a,y,E(S({id:"yValueRaw"},v),{invalidValue:void 0}))),l!=null&&b.push(yt(l,y,{id:"yFilterRaw"})),r>1){let M=[`line-stack-${s}-yValues`,`line-stack-${s}-yValues-trailing`,`line-stack-${s}-yValues-marker`];b.push(...ir(a,"window","current",E(S({id:"yValueEnd"},v),{groupId:M[0]}),y),...ir(a,"window-trailing","current",E(S({id:"yValueStart"},v),{groupId:M[1]}),y),...ir(a,"normal","current",E(S({id:"yValueCumulative"},v),{groupId:M[2]}),y)),ua(d)&&b.push(Qu([M[0],M[1],M[2]],d,"range"))}u&&(b.push(Na(f?["xValue"]:void 0)),this.processedData&&b.push(ka(this.processedData))),await this.requestDataModel(e,t,{props:b}),this.animationState.transition("updateData")}getSeriesDomain(e){let{dataModel:t,processedData:n}=this;if(!t||!n?.data.length)return[];let s=t.resolveProcessedDataDefById(this,"xValue");if(e==="x"){let r=t.getDomain(this,"xValue","value",n);return s?.def.type==="value"&&s.def.valueType==="category"?r:Si(Kn(r))}else{let o=(this.seriesGrouping?.stackCount??1)>1?t.getDomain(this,"yValueEnd","value",n):t.getDomain(this,"yValueRaw","value",n);return Si(o)}}async createNodeData(){let{processedData:e,dataModel:t,axes:n}=this,s=n.x,r=n.y;if(!e||!t||!s||!r)return;let{xKey:o,yKey:a,yFilterKey:l,xName:c,yName:d,marker:u,label:h,connectMissingData:p,legendItemName:f}=this.properties,g=(this.seriesGrouping?.stackCount??1)>1,y=s.scale,v=r.scale,b=(y.bandwidth??0)/2,M=(v.bandwidth??0)/2,I=[],D=u.enabled?u.size:0,A=t.resolveProcessedDataIndexById(this,"xValue"),w=t.resolveProcessedDataIndexById(this,"yValueRaw"),C=l!=null?t.resolveProcessedDataIndexById(this,"yFilterRaw"):void 0,_=g?t.resolveProcessedDataIndexById(this,"yValueCumulative"):w,T=g?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0,N=!0,j=!1;return e.data?.forEach(({datum:B,values:Z})=>{let $=Z[A],Q=Z[w],it=Z[_],rt=T!=null?Z[T]:void 0;if(Q==null){N||(N=!p);return}let ct=y.convert($)+b;if(isNaN(ct)){N||(N=!p);return}let bt=v.convert(it)+M,nt=C!=null?Z[C]===Q:void 0;nt===!1&&(j=!0);let ht=this.getLabelText(h,{value:Q,datum:B,xKey:o,yKey:a,xName:c,yName:d,legendItemName:f},Ku);I.push({series:this,datum:B,yKey:a,xKey:o,point:{x:ct,y:bt,moveTo:N,size:D},midPoint:{x:ct,y:bt},cumulativeValue:rt,yValue:Q,xValue:$,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},labelText:ht,selected:nt}),N=!1}),{itemId:a,nodeData:I,labelData:I,scales:this.calculateScaling(),visible:this.visible,crossFiltering:j}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,t=Zn(e);return new t}async updatePathNodes(e){let{paths:[t],opacity:n,visible:s,animationEnabled:r}=e,o=this.contextNodeData?.crossFiltering===!0;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity*(o?DR:1),lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),r||(t.visible=s),uu(this,t)}async updateMarkerSelection(e){let{nodeData:t}=e,{markerSelection:n}=e;return t=this.properties.marker.enabled||this.contextNodeData?.crossFiltering===!0?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,r=>bs(r.xValue))}async updateMarkerNodes(e){let{markerSelection:t,isHighlight:n}=e,{xKey:s,yKey:r,stroke:o,strokeWidth:a,strokeOpacity:l,marker:c,highlightStyle:d}=this.properties,u=xt(n&&d.item,c.getStyle(),{stroke:o,strokeWidth:a,strokeOpacity:l}),h=this.ctx.animationManager.isSkipped();t.each((p,f)=>{this.updateMarkerStyle(p,c,{datum:f,highlighted:n,xKey:s,yKey:r},u,{applyTranslation:h,selected:f.selected})}),n||c.markClean()}async updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}async updateLabelNodes(e){let{enabled:t,fontStyle:n,fontWeight:s,fontSize:r,fontFamily:o,color:a}=this.properties.label;e.labelSelection.each((l,c)=>{t&&c?.labelText?(l.fontStyle=n,l.fontWeight=s,l.fontSize=r,l.fontFamily=o,l.textAlign="center",l.textBaseline="bottom",l.text=c.labelText,l.x=c.point.x,l.y=c.point.y-10,l.fill=a,l.visible=!0):l.visible=!1})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return As;let{xKey:s,yKey:r,xName:o,yName:a,strokeWidth:l,marker:c,tooltip:d}=this.properties,{datum:u,xValue:h,yValue:p,itemId:f}=e,g=t.formatDatum(h),y=n.formatDatum(p),v=$t(this.properties.title??a),b=$t(g+": "+y),M=xt({fill:c.stroke},c.getStyle(),{strokeWidth:l}),{fill:I}=this.getMarkerStyle(c,{datum:e,xKey:s,yKey:r,highlighted:!1},M);return d.toTooltipHtml({title:v,content:b,backgroundColor:I},S({datum:u,itemId:f,xKey:s,xName:o,yKey:r,yName:a,title:v,color:I,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){if(!(this.data?.length&&this.properties.isValid()&&e==="category"))return[];let{yKey:t,yName:n,stroke:s,strokeOpacity:r,strokeWidth:o,lineDash:a,title:l,marker:c,visible:d,legendItemName:u}=this.properties,h="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:u,seriesId:this.id,enabled:d,label:{text:u??l??n??t},symbols:[{marker:{shape:c.shape,fill:c.fill??h,stroke:c.stroke??s??h,fillOpacity:c.fillOpacity??1,strokeOpacity:c.strokeOpacity??r??1,strokeWidth:c.strokeWidth??0,enabled:c.enabled},line:{stroke:s??h,strokeOpacity:r,strokeWidth:o,lineDash:a}}]}]}async updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){let{interpolation:n}=this.properties,{nodeData:s}=t,[r]=e;r.path.clear(!0);for(let o of _D(s))Zg(ED(s,o),r,n);r.checkPathDirty()}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,annotationSelections:s,contextData:r,paths:o}=e,{animationManager:a}=this.ctx;this.updateLinePaths(o,r),$g(this,a,...o),Me([t],ic),Yg(this,a,t),Ct(this,"labels",a,n),Ct(this,"annotations",a,...s)}animateReadyResize(e){let{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){let{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:s,annotationSelections:r,contextData:o,paths:a,previousContextData:l}=e,[c]=a;this.resetMarkerAnimation(e),this.resetLabelAnimation(e);let d=()=>{this.resetPathAnimation(e),this.updateLinePaths(a,o)},u=()=>{t.skipCurrentBatch(),d()};if(o==null||l==null){d(),ec(this,t,"added",n),du(this,"path_properties",t,"add",c),Ct(this,"labels",t,s),Ct(this,"annotations",t,...r);return}if(o.crossFiltering!==l.crossFiltering){u();return}let h;try{h=OD(o,l,this.processedData?.reduced?.diff,this.properties.interpolation)}catch{h=void 0}if(h===void 0){u();return}else if(h.status==="no-op")return;ec(this,t,void 0,n),ie(this.id,"path_properties",t,[c],h.pathProperties),h.status==="added"?this.updateLinePaths(a,o):h.status==="removed"?this.updateLinePaths(a,l):sm(this.id,"path_update",t,[c],h.path),h.hasMotion&&(Ct(this,"labels",t,s),Ct(this,"annotations",t,...r))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ut}getFormattedMarkerStyle(e){let{xKey:t,yKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return Cc(this,e)}};return i.className="LineSeries",i.type="line",i})(),wR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:i=>new AR(i),stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:de,color:Oe},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:i=>{let{marker:e}=$u(i);return{stroke:e.fill,marker:e}}},WD=class extends Ce{constructor(){super(...arguments),this.placement="top"}};m([x(zm)],WD.prototype,"placement",2);var Jt=class extends _s{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new WD,this.tooltip=new mi,this.marker=new _i}};m([x(P)],Jt.prototype,"xKey",2);m([x(P)],Jt.prototype,"yKey",2);m([x(P,{optional:!0})],Jt.prototype,"labelKey",2);m([x(P,{optional:!0})],Jt.prototype,"colorKey",2);m([x(P,{optional:!0})],Jt.prototype,"xFilterKey",2);m([x(P,{optional:!0})],Jt.prototype,"yFilterKey",2);m([x(P,{optional:!0})],Jt.prototype,"xName",2);m([x(P,{optional:!0})],Jt.prototype,"yName",2);m([x(P,{optional:!0})],Jt.prototype,"labelName",2);m([x(P,{optional:!0})],Jt.prototype,"colorName",2);m([x(Tu,{optional:!0})],Jt.prototype,"colorDomain",2);m([x(hn)],Jt.prototype,"colorRange",2);m([x(P,{optional:!0})],Jt.prototype,"title",2);m([ue("marker.shape")],Jt.prototype,"shape",2);m([ue("marker.size")],Jt.prototype,"size",2);m([ue("marker.fill")],Jt.prototype,"fill",2);m([ue("marker.fillOpacity")],Jt.prototype,"fillOpacity",2);m([ue("marker.stroke")],Jt.prototype,"stroke",2);m([ue("marker.strokeWidth")],Jt.prototype,"strokeWidth",2);m([ue("marker.strokeOpacity")],Jt.prototype,"strokeOpacity",2);m([ue("marker.itemStyler",{optional:!0})],Jt.prototype,"itemStyler",2);m([x(Y)],Jt.prototype,"label",2);m([x(Y)],Jt.prototype,"tooltip",2);var CR=(()=>{let i=class extends yr{constructor(e){super({moduleCtx:e,directionKeys:xo,directionNames:Mo,pickModes:[2,1,0],pathsPerSeries:[],hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:wc,label:Ts}}),this.properties=new Jt,this.colorScale=new mo}get pickModeAxis(){return"main-category"}async processData(e){if(!this.properties.isValid()||this.data==null||!this.visible)return;let t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),o=this.colorScale.type,{xKey:a,yKey:l,xFilterKey:c,yFilterKey:d,labelKey:u,colorKey:h,colorDomain:p,colorRange:f}=this.properties,{dataModel:g,processedData:y}=await this.requestDataModel(e,this.data,{props:[yt(a,s,{id:"xValue"}),yt(l,r,{id:"yValue"}),...c!=null?[yt(c,s,{id:"xFilterValue"})]:[],...d!=null?[yt(d,r,{id:"yFilterValue"})]:[],...h?[yt(h,o,{id:"colorValue"})]:[],...u?[yt(u,"band",{id:"labelValue"})]:[]]});if(h){let v=g.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=p??y.domain.values[v]??[],this.colorScale.range=f,this.colorScale.update()}this.animationState.transition("updateData")}getSeriesDomain(e){let{dataModel:t,processedData:n}=this;if(!n||!t)return[];let s=e==="x"?"xValue":"yValue",r=t.resolveProcessedDataDefById(this,s),o=t.getDomain(this,s,"value",n);return r?.def.type==="value"&&r?.def.valueType==="category"?o:Si(Kn(o))}async createNodeData(){let{axes:e,dataModel:t,processedData:n,colorScale:s}=this,{xKey:r,yKey:o,xFilterKey:a,yFilterKey:l,labelKey:c,colorKey:d,xName:u,yName:h,labelName:p,marker:f,label:g,visible:y}=this.properties,{placement:v}=g,b=Zn(f.shape),M=e.x,I=e.y;if(!(t&&n&&y&&M&&I))return;let D=t.resolveProcessedDataIndexById(this,"xValue"),A=t.resolveProcessedDataIndexById(this,"yValue"),w=d!=null?t.resolveProcessedDataIndexById(this,"colorValue"):-1,C=c!=null?t.resolveProcessedDataIndexById(this,"labelValue"):-1,_=a!=null?t.resolveProcessedDataIndexById(this,"xFilterValue"):void 0,T=l!=null?t.resolveProcessedDataIndexById(this,"yFilterValue"):void 0,N=M.scale,j=I.scale,B=(N.bandwidth??0)/2,Z=(j.bandwidth??0)/2,$=[],Q=g.getFont(),it=Ds.getMeasurer({font:Q});for(let{values:rt,datum:ct}of n.data??[]){let bt=rt[D],nt=rt[A],ht=N.convert(bt)+B,Nt=j.convert(nt)+Z,vt=_!=null&&T!=null?rt[_]===bt&&rt[T]===nt:void 0,Qt=this.getLabelText(g,{value:c?rt[C]:nt,datum:ct,xKey:r,yKey:o,labelKey:c,xName:u,yName:h,labelName:p}),K=it.measureText(Qt),L=d?s.convert(rt[w]):void 0;$.push({series:this,itemId:o,yKey:o,xKey:r,datum:ct,xValue:bt,yValue:nt,capDefaults:{lengthRatioMultiplier:f.getDiameter(),lengthMax:1/0},point:{x:ht,y:Nt,size:f.size},midPoint:{x:ht,y:Nt},fill:L,label:S({text:Qt},K),marker:b,placement:v,selected:vt})}return{itemId:o,nodeData:$,labelData:$,scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:e}=this.properties.marker,t=Zn(e);return new t}async updateMarkerSelection(e){let{nodeData:t,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?t:[])}async updateMarkerNodes(e){let{markerSelection:t,isHighlight:n}=e,{xKey:s,yKey:r,labelKey:o,marker:a,highlightStyle:l}=this.properties,c=xt(n&&l.item,a.getStyle());t.each((d,u)=>{this.updateMarkerStyle(d,a,{datum:u,highlighted:n,xKey:s,yKey:r,labelKey:o},c,{selected:u.selected})}),n||a.markClean()}async updateLabelSelection(e){let t=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map(({datum:n,x:s,y:r})=>E(S({},n),{point:{x:s,y:r,size:n.point.size},placement:"top"})),n=>{n.pointerEvents=1})}async updateLabelNodes(e){let{label:t}=this.properties;e.labelSelection.each((n,s)=>{n.text=s.label.text,n.fill=t.color,n.x=s.point?.x??0,n.y=s.point?.y??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return As;let{xKey:s,yKey:r,labelKey:o,xName:a,yName:l,labelName:c,title:d=l,marker:u,tooltip:h}=this.properties,{datum:p,xValue:f,yValue:g,label:y,itemId:v}=e,b=xt({fill:e.fill,strokeWidth:this.getStrokeWidth(u.strokeWidth)},u.getStyle()),{fill:M="gray"}=this.getMarkerStyle(u,{datum:e,highlighted:!1,xKey:s,yKey:r,labelKey:o},b),I=$t(t.formatDatum(f)),D=$t(n.formatDatum(g)),A=`<b>${$t(a??s)}</b>: ${I}<br><b>${$t(l??r)}</b>: ${D}`;return o&&(A=`<b>${$t(c??o)}</b>: ${$t(y.text)}<br>`+A),h.toTooltipHtml({title:d,content:A,backgroundColor:M},S({datum:p,itemId:v,xKey:s,xName:a,yKey:r,yName:l,labelKey:o,labelName:c,title:d,color:M,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){let{yKey:t,yName:n,title:s,marker:r,visible:o}=this.properties,{fill:a,stroke:l,fillOpacity:c,strokeOpacity:d,strokeWidth:u}=r;return!this.data?.length||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:o,label:{text:s??n??t},symbols:[{marker:{shape:r.shape,fill:r.fill??a??"rgba(0, 0, 0, 0)",stroke:r.stroke??l??"rgba(0, 0, 0, 0)",fillOpacity:c??1,strokeOpacity:d??1,strokeWidth:u??0}}]}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,annotationSelections:s}=e;Hg(this,this.ctx.animationManager,t),Ct(this,"labels",this.ctx.animationManager,n),Ct(this,"annotations",this.ctx.animationManager,...s)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ut}getFormattedMarkerStyle(e){let{xKey:t,yKey:n,labelKey:s}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,labelKey:s,highlighted:!0})}computeFocusBounds(e){return Cc(this,e)}};return i.className="ScatterSeries",i.type="scatter",i})(),_R={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:i=>new CR(i),tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:de,color:Oe},errorBar:{cap:{lengthRatio:1}}}},paletteFactory:La},ZD=class dm{constructor(e,t,n,s){this.startAngle=e,this.endAngle=t,this.innerRadius=n,this.outerRadius=s}clone(){let{startAngle:e,endAngle:t,innerRadius:n,outerRadius:s}=this;return new dm(e,t,n,s)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[yu](e,t){return new dm(this.startAngle*(1-t)+e.startAngle*t,this.endAngle*(1-t)+e.endAngle*t,this.innerRadius*(1-t)+e.innerRadius*t,this.outerRadius*(1-t)+e.outerRadius*t)}};function iy({startAngle:i,endAngle:e,innerRadius:t,outerRadius:n}){let s=1/0,r=1/0,o=-1/0,a=-1/0,l=(c,d)=>{s=Math.min(c,s),r=Math.min(d,r),o=Math.max(c,o),a=Math.max(d,a)};return l(t*Math.cos(i),t*Math.sin(i)),l(t*Math.cos(e),t*Math.sin(e)),l(n*Math.cos(i),n*Math.sin(i)),l(n*Math.cos(e),n*Math.sin(e)),rn(0,i,e)&&l(n,0),rn(Math.PI*.5,i,e)&&l(0,n),rn(Math.PI,i,e)&&l(-n,0),rn(Math.PI*1.5,i,e)&&l(0,-n),new G(s,r,o-s,a-r)}function fu(i,e,t){let n=Math.sqrt(Math.pow(i,2)+Math.pow(e,2)),{innerRadius:s,outerRadius:r}=t;if(t.startAngle===t.endAngle||n<Math.min(s,r)||n>Math.max(s,r))return!1;let o=Xl(t.startAngle),a=Xl(t.endAngle),l=Math.atan2(e,i);return o<a?l<=a&&l>=o:l<=a&&l>=-Math.PI||l>=o&&l<=Math.PI}function Sx(i,e){let{startAngle:t,endAngle:n,innerRadius:s,outerRadius:r}=e,o={x:r*Math.cos(t),y:r*Math.sin(t)},a={x:r*Math.cos(n),y:r*Math.sin(n)},l=s===0?{x:0,y:0}:{x:s*Math.cos(t),y:s*Math.sin(t)},c=s===0?{x:0,y:0}:{x:s*Math.cos(n),y:s*Math.sin(n)};return ia(i.start.x,i.start.y,i.end.x,i.end.y,o.x,o.y,l.x,l.y)||ia(i.start.x,i.start.y,i.end.x,i.end.y,a.x,a.y,c.x,c.y)||YI(0,0,r,t,n,!0,i.start.x,i.start.y,i.end.x,i.end.y)}function $D(i,e){let t={x:i.x,y:i.y},n={x:i.x+i.width,y:i.y},s={x:i.x,y:i.y+i.height},r={x:i.x+i.width,y:i.y+i.height};return Sx({start:t,end:n},e)||Sx({start:s,end:r},e)}function Dx(i,e,t,n){if(t===0&&n===0)return 0;if(Math.asin(Math.abs(1*t)/(i+1*t))+Math.asin(Math.abs(1*n)/(i+1*n))-e<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){let l=(r+o)/2;Math.asin(Math.abs(l*t)/(i+l*t))+Math.asin(Math.abs(l*n)/(i+l*n))-e<0?r=l:o=l}return r}var ER=1e-6;function nr(i,e){return fc(i,e)<ER?e:Pt(i-e)+e}function Ld(i,e,t=0){let s=Math.abs(e-i)>=2*Math.PI?2*Math.PI:Pt(e-i);return i=nr(i,t),e=i+s,{startAngle:i,endAngle:e}}function Nd(i,e,t,n,s,r){let o=Math.sin(r),a=Math.cos(r),l=i**2+e**2-t**2,c=NaN,d=NaN,u=NaN,h=NaN;if(a>.5){let M=o/a,I=1+M**2,D=-2*(i+e*M),A=D**2-4*I*l;if(A<0)return;let w=(-D+Math.sqrt(A))/(2*I),C=(-D-Math.sqrt(A))/(2*I);c=w,d=w*M,u=C,h=C*M}else{let M=a/o,I=1+M**2,D=-2*(e+i*M),A=D**2-4*I*l;if(A<0)return;let w=(-D+Math.sqrt(A))/(2*I),C=(-D-Math.sqrt(A))/(2*I);c=w*M,d=w,u=C*M,h=C}let p=a,f=o,g=c*p+d*f,y=u*p+h*f,v=g>0?nr(Math.atan2(d-e,c-i),n):NaN,b=y>0?nr(Math.atan2(h-e,u-i),n):NaN;if(v>=n&&v<=s)return v;if(b>=n&&b<=s)return b}function kd(i,e,t,n,s,r){let o=Math.hypot(i,e),a=(o**2-t**2+r**2)/(2*o),l=o-a,c=Math.atan2(e,i),d=Math.acos(-l/t),u=nr(c+d,n),h=nr(c-d,n);if(u>=n&&u<=s)return u;if(h>=n&&h<=s)return h}var wf=class{constructor(i,e,t,n,s){this.cx=i,this.cy=e,this.r=t,this.a0=n,this.a1=s,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(i){return{x:this.cx+this.r*Math.cos(i),y:this.cy+this.r*Math.sin(i)}}clipStart(i){i==null||!this.isValid()||i<this.a0||(this.a0=i,(Number.isNaN(i)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(i){i==null||!this.isValid()||i>this.a1||(this.a1=i,(Number.isNaN(i)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},ei=(()=>{let i=class extends fi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return iy(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:e}=this,{innerRadius:t,outerRadius:n}=this;return t=t>0?t+e:0,n=Math.max(n-e,0),{innerRadius:t,outerRadius:n}}normalizedClipSector(){let{clipSector:e}=this;if(e==null)return;let{startAngle:t,endAngle:n}=Ld(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:r}=this.normalizedRadii(),o=Ld(e.startAngle,e.endAngle,t);return new ZD(Math.max(t,o.startAngle),Math.min(n,o.endAngle),Math.max(s,e.innerRadius),Math.min(r,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,s,r,o,a,l){if(e<=0)return;let{startAngle:c,endAngle:d}=Ld(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:h}=this.normalizedRadii(),p=this.normalizedClipSector();if(l&&u<=0)return;let f=l?this.getAngleOffset(u+e):this.getAngleOffset(h-e),g=a?c+f+t:d-f-t,y=l?u+e:h-e,v=y*Math.cos(g),b=y*Math.sin(g);if(p!=null&&(!a&&!(g>=c-1e-6&&g<=p.endAngle-1e-6)||a&&!(g>=p.startAngle+1e-6&&g<=d-1e-6)||l&&y<p.innerRadius-1e-6||!l&&y>p.outerRadius+1e-6))return;let M=new wf(v,b,e,n,s);if(p!=null){l?(M.clipStart(Nd(v,b,e,n,s,p.endAngle)),M.clipEnd(Nd(v,b,e,n,s,p.startAngle))):(M.clipStart(Nd(v,b,e,n,s,p.startAngle)),M.clipEnd(Nd(v,b,e,n,s,p.endAngle)));let C,_;if(a?(C=kd(v,b,e,n,s,p.innerRadius),_=kd(v,b,e,n,s,p.outerRadius)):(C=kd(v,b,e,n,s,p.outerRadius),_=kd(v,b,e,n,s,p.innerRadius)),M.clipStart(C),M.clipEnd(_),C!=null){let{x:T,y:N}=M.pointAt(C),j=nr(Math.atan2(N,T),c);a?o?.clipStart(j):r.clipEnd(j)}if(_!=null){let{x:T,y:N}=M.pointAt(_),j=nr(Math.atan2(N,T),c);a?r.clipStart(j):o?.clipEnd(j)}}if(p!=null){let{x:C,y:_}=M.pointAt((M.a0+M.a1)/2);if(!fu(C,_,p))return}let{x:I,y:D}=M.pointAt(a===l?M.a0:M.a1),A=nr(Math.atan2(D,I),c),w=l?o:r;return a?w?.clipStart(A):w?.clipEnd(A),M}updatePath(){let{path:t,centerX:n,centerY:s,concentricEdgeInset:r,radialEdgeInset:o}=this,{startOuterCornerRadius:a,endOuterCornerRadius:l,startInnerCornerRadius:c,endInnerCornerRadius:d}=this,{startAngle:u,endAngle:h}=Ld(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector(),y=h-u,v=y>=2*Math.PI-1e-6;if(t.clear(),p===0&&f===0||p>f)return;if((g?.startAngle??u)===(g?.endAngle??h))return;if(v&&this.clipSector==null&&a===0&&l===0&&c===0&&d===0){t.moveTo(n+f*Math.cos(u),s+f*Math.sin(u)),t.arc(n,s,f,u,h),p>r&&(t.moveTo(n+p*Math.cos(h),s+p*Math.sin(h)),t.arc(n,s,p,h,u,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(p-f)<1e-6){t.arc(n,s,f,u,h,!1),t.arc(n,s,f,h,u,!0),t.closePath();return}let b=this.getAngleOffset(p),M=this.getAngleOffset(f);if(y<2*M)return;let D=(g?.innerRadius??p)>r,A=p<r||y<2*b,w=f-p,C=Math.max(a,c,l,d),_=C>0?Math.min(w/C,1):1;a*=_,l*=_,c*=_,d*=_;let T=Dx(f,y-2*M,-a,-l);if(a*=T,l*=T,!A&&D){let W=Dx(p,y-2*b,c,d);c*=W,d*=W}else c=0,d=0;let N=Math.max(a+c,l+d),j=N>0?Math.min(w/N,1):1;a*=j,l*=j,c*=j,d*=j;let B=0,Z=0,$=a/(f-a),Q=l/(f-l);if($>=0&&$<.999999)B=Math.asin($);else{B=y/2;let W=f/(1/Math.sin(B)+1);a=Math.min(W,a)}if(Q>=0&&Q<.999999)Z=Math.asin(Q);else{Z=y/2;let W=f/(1/Math.sin(Z)+1);l=Math.min(W,l)}let it=Math.asin(c/(p+c)),rt=Math.asin(d/(p+d)),ct=g?.outerRadius??f,bt=this.getAngleOffset(ct),nt=new wf(0,0,ct,u+bt,h-bt),ht=g?.innerRadius??p,Nt=this.getAngleOffset(ht),vt=D?new wf(0,0,ht,u+Nt,h-Nt):void 0;g!=null&&(nt.clipStart(g.startAngle),nt.clipEnd(g.endAngle),vt?.clipStart(g.startAngle),vt?.clipEnd(g.endAngle));let Qt=this.arc(a,B,u-Math.PI*.5,u+B,nt,vt,!0,!1),K=this.arc(l,Z,h-Z,h+Math.PI*.5,nt,vt,!1,!1),L=this.arc(d,rt,h+Math.PI*.5,h+Math.PI-rt,nt,vt,!1,!0),H=this.arc(c,it,u+Math.PI+it,u+Math.PI*1.5,nt,vt,!0,!0);if(A){let W=y<Math.PI*.5?o*(1+Math.cos(y))/Math.sin(y):NaN,X;W>0&&W<f?X=Math.max(Math.hypot(o,W),p):X=o,X=Math.max(X,p);let lt=u+y*.5;t.moveTo(n+X*Math.cos(lt),s+X*Math.sin(lt))}else if(!(H?.isValid()===!0||vt?.isValid()===!0)){let W=u+y/2,X=p*Math.cos(W),lt=p*Math.sin(W);t.moveTo(n+X,s+lt)}if(Qt?.isValid()===!0){let{cx:W,cy:X,r:lt,a0:Dt,a1:Mt}=Qt;t.arc(n+W,s+X,lt,Dt,Mt)}if(nt.isValid()){let{r:W,a0:X,a1:lt}=nt;t.arc(n,s,W,X,lt)}if(K?.isValid()===!0){let{cx:W,cy:X,r:lt,a0:Dt,a1:Mt}=K;t.arc(n+W,s+X,lt,Dt,Mt)}if(!A){if(L?.isValid()===!0){let{cx:W,cy:X,r:lt,a0:Dt,a1:Mt}=L;t.arc(n+W,s+X,lt,Dt,Mt)}if(vt?.isValid()===!0){let{r:W,a0:X,a1:lt}=vt;t.arc(n,s,W,lt,X,!0)}if(H?.isValid()===!0){let{cx:W,cy:X,r:lt,a0:Dt,a1:Mt}=H;t.arc(n+W,s+X,lt,Dt,Mt)}}t.closePath()}isPointInPath(e,t){let{startAngle:n,endAngle:s,innerRadius:r,outerRadius:o}=this.clipSector??this;return fu(e-this.centerX,t-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(r,o),outerRadius:Math.max(r,o)})}};return i.className="Sector",i})();m([ot()],ei.prototype,"centerX",2);m([ot()],ei.prototype,"centerY",2);m([ot()],ei.prototype,"innerRadius",2);m([ot()],ei.prototype,"outerRadius",2);m([ot()],ei.prototype,"startAngle",2);m([ot()],ei.prototype,"endAngle",2);m([ot()],ei.prototype,"clipSector",2);m([ot()],ei.prototype,"concentricEdgeInset",2);m([ot()],ei.prototype,"radialEdgeInset",2);m([ot()],ei.prototype,"startOuterCornerRadius",2);m([ot()],ei.prototype,"endOuterCornerRadius",2);m([ot()],ei.prototype,"startInnerCornerRadius",2);m([ot()],ei.prototype,"endInnerCornerRadius",2);var De={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},zn={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},KD=class extends Xt{constructor(){super(...arguments),this.showInLegend=!1}};m([x(et)],KD.prototype,"showInLegend",2);var ny=class extends Ce{constructor(){super(...arguments),this.spacing=2}set(i,e){return super.set(i)}};m([x(P)],ny.prototype,"text",2);m([x(Gt)],ny.prototype,"spacing",2);var sy=class extends ft{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};m([x(Lt)],sy.prototype,"fill",2);m([x(At)],sy.prototype,"fillOpacity",2);var Oa=class extends Ce{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};m([x(F)],Oa.prototype,"offset",2);m([x(dr)],Oa.prototype,"minAngle",2);m([x(F)],Oa.prototype,"minSpacing",2);m([x(F)],Oa.prototype,"maxCollisionOffset",2);m([x(et)],Oa.prototype,"avoidCollisions",2);var ry=class extends Ce{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};m([x(Gt)],ry.prototype,"positionOffset",2);m([x(At)],ry.prototype,"positionRatio",2);var Ju=class extends ft{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};m([x(hn,{optional:!0})],Ju.prototype,"colors",2);m([x(F)],Ju.prototype,"length",2);m([x(F)],Ju.prototype,"strokeWidth",2);var St=class extends Bi{constructor(){super(...arguments),this.fills=Object.values(De),this.strokes=Object.values(zn),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new _u(ny),this.title=new KD,this.innerCircle=new sy,this.shadow=new Tn,this.calloutLabel=new Oa,this.sectorLabel=new ry,this.calloutLine=new Ju,this.tooltip=new mi}isValid(){let i=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(R.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):i}};m([x(P)],St.prototype,"angleKey",2);m([x(P,{optional:!0})],St.prototype,"angleName",2);m([x(P,{optional:!0})],St.prototype,"angleFilterKey",2);m([x(P,{optional:!0})],St.prototype,"radiusKey",2);m([x(P,{optional:!0})],St.prototype,"radiusName",2);m([x(F,{optional:!0})],St.prototype,"radiusMin",2);m([x(F,{optional:!0})],St.prototype,"radiusMax",2);m([x(P,{optional:!0})],St.prototype,"calloutLabelKey",2);m([x(P,{optional:!0})],St.prototype,"calloutLabelName",2);m([x(P,{optional:!0})],St.prototype,"sectorLabelKey",2);m([x(P,{optional:!0})],St.prototype,"sectorLabelName",2);m([x(P,{optional:!0})],St.prototype,"legendItemKey",2);m([x(hn)],St.prototype,"fills",2);m([x(hn)],St.prototype,"strokes",2);m([x(At)],St.prototype,"fillOpacity",2);m([x(At)],St.prototype,"strokeOpacity",2);m([x(Ss)],St.prototype,"lineDash",2);m([x(F)],St.prototype,"lineDashOffset",2);m([x(F)],St.prototype,"cornerRadius",2);m([x(wi,{optional:!0})],St.prototype,"itemStyler",2);m([x(dr)],St.prototype,"rotation",2);m([x(Gt)],St.prototype,"outerRadiusOffset",2);m([x(At)],St.prototype,"outerRadiusRatio",2);m([x(Gt,{optional:!0})],St.prototype,"innerRadiusOffset",2);m([x(At,{optional:!0})],St.prototype,"innerRadiusRatio",2);m([x(F)],St.prototype,"strokeWidth",2);m([x(Gt)],St.prototype,"sectorSpacing",2);m([x(TM)],St.prototype,"innerLabels",2);m([x(Y)],St.prototype,"title",2);m([x(Y)],St.prototype,"innerCircle",2);m([x(Y)],St.prototype,"shadow",2);m([x(Y)],St.prototype,"calloutLabel",2);m([x(Y)],St.prototype,"sectorLabel",2);m([x(Y)],St.prototype,"calloutLine",2);m([x(Y)],St.prototype,"tooltip",2);function ro(i,e,t,n){let s=[t.convert(0),t.convert(1)],r=[n.convert(0),n.convert(1)],o=Math.PI/-2+Je(e),a=i?"initial":"update",l=({radius:f})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*f}),c=({radius:f})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*f});return{nodes:{toFn:(f,g,y,{prevLive:v})=>{let{startAngle:b,endAngle:M,innerRadius:I,outerRadius:D}=g,{stroke:A,fill:w}=g.sectorFormat;if(y==="removed"&&v?(b=v.datum?.endAngle,M=v.datum?.endAngle):y==="removed"&&!v&&(b=o,M=o),y==="removed"){let C=l(g);I=C.innerRadius,D=C.outerRadius}return{startAngle:b,endAngle:M,outerRadius:D,innerRadius:I,stroke:A,fill:w}},fromFn:(f,g,y,{prevFromProps:v})=>{let{startAngle:b,endAngle:M,innerRadius:I,outerRadius:D}=f,{fill:A,stroke:w}=g.sectorFormat;if(y==="unknown"||y==="added"&&!v?(b=o,M=o,I=g.innerRadius,D=g.outerRadius):y==="added"&&v&&(b=v.endAngle??o,M=v.endAngle??o,I=v.innerRadius??g.innerRadius,D=v.outerRadius??g.outerRadius),y==="added"&&!i){let C=c(g);I=C.innerRadius,D=C.outerRadius}return y==="updated"&&(A=f.fill??A,w=f.stroke??w),{startAngle:b,endAngle:M,innerRadius:I,outerRadius:D,fill:A,stroke:w,phase:a}}},innerCircle:{fromFn:(f,g)=>({size:f.previousDatum?.radius??f.size??0,phase:a}),toFn:(f,g)=>({size:g.radius??0})}}}function oy(i,e){return{startAngle:e.startAngle,endAngle:e.endAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,fill:e.sectorFormat.fill,stroke:e.sectorFormat.stroke}}function ay(i,e){let t=e.y-i.centerY,n=e.x-i.centerX,s=Math.atan2(t,n),r=i.getItemNodes();for(let o of r)if(o.datum.missing!==!0&&rn(s,o.startAngle,o.endAngle)){let a=Math.sqrt(n*n+t*t),l=0;return a<o.innerRadius?l=o.innerRadius-a:a>o.outerRadius&&(l=a-o.outerRadius),{datum:o.datum,distance:l}}}var th=class extends yg{constructor(r){var o=r,{useLabelLayer:i=!1,pickModes:e=[1,0],canHaveAxes:t=!1,animationResetFns:n}=o,s=_t(o,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(E(S({},s),{useLabelLayer:i,pickModes:e,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:t})),this.itemGroup=this.contentGroup.appendChild(new ut),this.nodeData=[],this.itemSelection=Kt.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=Kt.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=Kt.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=Kt.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=n,this.animationState=new mc("empty",{empty:{update:{target:"ready",action:a=>this.animateEmptyUpdateReady(a)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:a=>this.animateReadyHighlight(a),highlightMarkers:a=>this.animateReadyHighlightMarkers(a),resize:a=>this.animateReadyResize(a),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:a=>this.animateWaitingUpdateReady(a)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:a=>this.animateClearingUpdateEmpty(a)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}resetAnimation(i){i==="initial"?this.animationState.transition("reset"):i==="ready"&&this.animationState.transition("skip")}labelFactory(){let i=new we;return i.pointerEvents=1,i}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(i,e){return null}resetAllAnimation(){let{item:i,label:e}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),i&&Me([this.itemSelection,this.highlightSelection],i),e&&Me([this.labelSelection,this.highlightLabelSelection],e),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(i){let{item:e,label:t}=this.animationResetFns??{};e&&Me([this.highlightSelection],e),t&&Me([this.highlightLabelSelection],t)}animateReadyHighlightMarkers(i){}animateReadyResize(i){this.resetAllAnimation()}animateClearingUpdateEmpty(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(i){return{seriesRect:i}}computeFocusBounds(i){let e=this.getNodeData()?.[i.datumIndex];if(e!==void 0)return this.itemSelection.select(t=>t instanceof fi&&t.datum===e)[0]}},TR=class extends Mc{constructor(i,e,t,n){super(i,e,t,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},LR=(()=>{let i=class extends th{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:oy,label:Ts}}),this.properties=new St,this.phantomNodeData=void 0,this.previousRadiusScale=new ln,this.radiusScale=new ln,this.phantomGroup=this.contentGroup.appendChild(new ut),this.phantomSelection=Kt.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ut({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Kt(this.calloutLabelGroup,ut),this.backgroundGroup=this.rootGroup.appendChild(new fa({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new eo),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new eo),this.innerLabelsGroup=this.contentGroup.appendChild(new ut({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=Kt.select(this.innerLabelsGroup,we),this.innerCircleSelection=Kt.select(this.innerCircleGroup,eo),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=TR,this.angleScale=new ln,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.includes(!0))}nodeFactory(){return new ei}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(this.data==null||!this.properties.isValid())return;let{data:t}=this,{visible:n,seriesItemEnabled:s}=this,{angleKey:r,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],p=[];d?h.push(wn(d,"band",{id:"legendItemKey"})):l?h.push(wn(l,"band",{id:"calloutLabelKey"})):c&&h.push(wn(c,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,g=this.radiusScale.type;a&&p.push(Ug(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),yt(a,f,{id:"radiusRaw"}),so("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(yt(l,"band",{id:"calloutLabelValue"})),c&&p.push(yt(c,"band",{id:"sectorLabelValue"})),d&&p.push(yt(d,"band",{id:"legendItemValue"})),o&&p.push(Jl(o,g,{id:"angleFilterValue",onlyPositive:!0}),yt(o,g,{id:"angleFilterRaw"}),so("angleFilterValue",[0,1],0,0)),u&&this.processedData&&h.length>0&&p.push(ka(this.processedData)),p.push(Na()),t=t.map((y,v)=>n&&s[v]?y:E(S({},y),{[r]:0})),await this.requestDataModel(e,t,{props:[...h,Jl(r,g,{id:"angleValue",onlyPositive:!0}),yt(r,g,{id:"angleRaw"}),so("angleValue",[0,1],0,0),...p]});for(let y of this.processedData?.defs?.values??[]){let{id:v,missing:b,property:M}=y,I=ag(this,b);v!=="angleRaw"&&I>0&&R.warnOnce(`no value was found for the key '${String(M)}' on ${I} data element${I>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue"),n=e.resolveProcessedDataIndexById(this,"angleRaw"),s=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,a=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,l=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,c=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,d=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:t,angleRawIdx:n,angleFilterIdx:s,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}}async createNodeData(){let{id:e,processedData:t,dataModel:n,angleScale:s}=this,{rotation:r,innerRadiusRatio:o}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!n||t.type!=="ungrouped")return;let{angleIdx:a,angleRawIdx:l,angleFilterIdx:c,angleFilterRawIdx:d,radiusIdx:u,radiusRawIdx:h,calloutLabelIdx:p,sectorLabelIdx:f,legendItemIdx:g}=this.getProcessedDataIndexes(n),y=d!=null&&t.data.some(({values:D})=>D[d]>D[l]),v=0,b=0,M=[],I=d!=null?[]:void 0;return t.data.forEach((D,A)=>{let{datum:w,values:C}=D,_=y?C[c]:C[a],T=d!=null&&!y?Math.sqrt(C[d]/C[l]):1,N=s.convert(v)+Je(r);v=_,b+=_;let j=s.convert(v)+Je(r),B=Math.abs(j-N),Z=N+B/2,$=C[l],it=(u!=null?C[u]??1:1)*T,rt=h!=null?C[h]:void 0,ct=g!=null?C[g]:void 0,bt=this.getLabels(w,Z,B,!0,p!=null?C[p]:void 0,f!=null?C[f]:void 0,ct),nt=this.getSectorFormat(w,A,!1),ht=S({itemId:A,series:this,datum:w,index:A,angleValue:$,midAngle:Z,midCos:Math.cos(Z),midSin:Math.sin(Z),startAngle:N,endAngle:j,radius:it,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(it),0),sectorFormat:nt,radiusValue:rt,legendItemValue:ct,enabled:this.seriesItemEnabled[A],focusable:!0},bt);M.push(ht),I?.push(E(S({},ht),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1}))}),this.zerosumOuterRing.visible=b===0,this.zerosumInnerRing.visible=b===0&&o!=null&&o!==1&&o>0,{itemId:e,nodeData:M,labelData:M,phantomNodeData:I}}getLabels(e,t,n,s,r,o,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:d}=this.properties,u=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!d)return{};let p={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return u&&n>Je(l.minAngle)&&(f.calloutLabel=E(S({},this.getTextAlignment(t)),{text:this.getLabelText(l,E(S({},p),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(f.sectorLabel={text:this.getLabelText(c,E(S({},p),{value:o}))}),d!=null&&a!=null&&(f.legendItem={key:d,text:a}),f}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Xl(e),s=-.75*Math.PI,r=n-s,o=Math.floor(r/(Math.PI/2)),a=Mu(o,t.length);return t[a]}getSectorFormat(e,t,n){let{callbackCache:s}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:d,strokes:u,itemStyler:h}=this.properties,p=u[t%u.length],{fill:f,fillOpacity:g,stroke:y,strokeWidth:v,strokeOpacity:b,lineDash:M,lineDashOffset:I,cornerRadius:D}=xt(n&&this.properties.highlightStyle.item,{fill:d.length>0?d[t%d.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),A;return h&&(A=s.call(h,{datum:e,angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:f,fillOpacity:g,stroke:y,strokeWidth:v,strokeOpacity:b,lineDash:M,lineDashOffset:I,cornerRadius:D,highlighted:n,seriesId:this.id})),{fill:A?.fill??f,fillOpacity:A?.fillOpacity??g,stroke:A?.stroke??y,strokeWidth:A?.strokeWidth??v,strokeOpacity:A?.strokeOpacity??b,lineDash:A?.lineDash??M,lineDashOffset:A?.lineDashOffset??I,cornerRadius:A?.cornerRadius??D}}getInnerRadius(){let{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,s=e*t+n;return s===e||s<0?0:s}getOuterRadius(){let{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){let t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);let n=s=>E(S({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-e);return-e-n-s}async update({seriesRect:e}){let{title:t}=this.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},s=cn(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){let r=this.getTitleTranslationY();t.node.y=isFinite(r)?r:0;let o=t.node.getBBox();t.node.visible=t.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(o)}for(let r of[this.zerosumInnerRing,this.zerosumOuterRing])r.fillOpacity=0,r.stroke=this.properties.calloutLabel.color,r.strokeWidth=1,r.strokeOpacity=1;this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){let{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){let e=t=>{let n=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,n),y:t.midSin*Math.max(0,n)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection(),this.updateInnerCircleSelection()}async updateGroupSelection(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:r,labelSelection:o,innerLabelsSelection:a}=this,l=this.nodeData.map(d=>E(S({},d),{sectorFormat:S({},d.sectorFormat)})),c=(d,u)=>{d.update(u,void 0,h=>this.getDatumId(h)),this.ctx.animationManager.isSkipped()&&d.cleanup()};c(e,this.nodeData),c(t,l),c(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,d=>{let u=new Ii;u.tag=0,u.pointerEvents=1,d.appendChild(u);let h=new we;h.tag=1,h.pointerEvents=1,d.appendChild(h)}),o.update(this.nodeData),s.update(l),a.update(this.properties.innerLabels,d=>{d.pointerEvents=1})}updateInnerCircleSelection(){let{innerCircle:e}=this.properties,t=0,n=this.getInnerRadius();if(n>0){let r=Math.min(n,this.getOuterRadius());t=Math.ceil(r*2+1)}let s=e?[{radius:t}]:[];this.innerCircleSelection.update(s)}async updateNodes(e){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.highlightLabel.visible=n&&t?.series===this,this.labelGroup.visible=n,this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((o,{radius:a})=>{o.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:a})});let s=this.ctx.animationManager.isSkipped(),r=(o,a,l,c)=>{let d=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,s&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||s)&&(o.fill=d.fill,o.stroke=d.stroke),o.strokeWidth=d.strokeWidth,o.fillOpacity=d.fillOpacity,o.strokeOpacity=d.strokeOpacity,o.lineDash=d.lineDash,o.lineDashOffset=d.lineDashOffset,o.cornerRadius=d.cornerRadius,o.fillShadow=this.properties.shadow;let u=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);o.inset=u,o.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((o,a,l)=>r(o,a,l,!1)),this.highlightSelection.each((o,a,l)=>{r(o,a,l,!0),o.visible=a.itemId===t?.itemId}),this.phantomSelection.each((o,a,l)=>r(o,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,s=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{let l=o.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;let u=l.midCos*d,h=l.midSin*d,p=l.midCos*(d+t),f=l.midSin*(d+t);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let y=c.box,v=p,b=f;p<y.x?v=y.x:p>y.x+y.width&&(v=y.x+y.width),f<y.y?b=y.y:f>y.y+y.height&&(b=y.y+y.height);let M=v-p,I=b-f,D=Math.sqrt(Math.pow(M,2)+Math.pow(I,2)),A=D-r;A>0&&(p=p+M*A/D,f=f+I*A/D)}o.x1=u,o.y1=h,o.x2=p,o.y2=f}else o.visible=!1})}getLabelOverflow(e,t,n){let s=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1,c=1;t.x+l<s?c=(t.x+t.width-s)/t.width:t.x+t.width-l>r&&(c=(r-t.x)/t.width);let d=t.y+l<o||t.y+t.height-l>a,u=c===1?e.length:Math.floor(e.length*c)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e){let{surroundingRadius:t}=this;if(t==null)return!1;let n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return n.some(r=>r.x**2+r.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:s,minSpacing:r}=t,o=e.convert(0),a=b=>!b.calloutLabel||b.outerRadius===0,l=this.calloutNodeData,c=l.filter(b=>!a(b));if(c.forEach(b=>{let M=b.calloutLabel;M!=null&&(M.hidden=!1,M.collisionTextAlign=void 0,M.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(b=>b.midCos<0).sort((b,M)=>b.midSin-M.midSin),u=c.filter(b=>b.midCos>=0).sort((b,M)=>b.midSin-M.midSin),h=c.filter(b=>b.midSin<0&&b.calloutLabel?.textAlign==="center").sort((b,M)=>b.midCos-M.midCos),p=c.filter(b=>b.midSin>=0&&b.calloutLabel?.textAlign==="center").sort((b,M)=>b.midCos-M.midCos),f=b=>{let M=b.calloutLabel;if(M==null)return G.zero.clone();let I=b.outerRadius+n.length+s,D=b.midCos*I,A=b.midSin*I+M.collisionOffsetY,w=M.collisionTextAlign??M.textAlign,C=M.textBaseline;return we.computeBBox(M.text,D,A,{font:this.properties.calloutLabel,textAlign:w,textBaseline:C})},g=(b,M,I)=>{let D=f(b).grow(r/2),A=f(M).grow(r/2);if(D.x<A.x+A.width&&D.x+D.width>A.x&&(I==="to-top"?D.y<A.y+A.height:D.y+D.height>A.y)){let C=I==="to-top"?D.y-A.y-A.height:D.y+D.height-A.y;M.calloutLabel.collisionOffsetY=C}},y=b=>{let M=b.slice().sort((D,A)=>Math.abs(D.midSin)-Math.abs(A.midSin))[0],I=b.indexOf(M);for(let D=I-1;D>=0;D--){let A=b[D+1],w=b[D];g(A,w,"to-top")}for(let D=I+1;D<b.length;D++){let A=b[D-1],w=b[D];g(A,w,"to-bottom")}},v=b=>{let M=c.some(_=>_.calloutLabel.collisionOffsetY!==0),I=b.map(_=>f(_)),D=I.map(_=>_.clone().grow(r/2)),A=!1;for(let _=0;_<D.length&&!A;_++){let T=D[_];for(let N=_+1;N<b.length;N++){let j=D[N];if(T.collidesBBox(j)){A=!0;break}}}let w=l.map(_=>{let{startAngle:T,endAngle:N,outerRadius:j}=_;return{startAngle:T,endAngle:N,innerRadius:o,outerRadius:j}}),C=I.some(_=>w.some(T=>$D(_,T)));!A&&!M&&!C||b.filter(_=>_.calloutLabel.textAlign==="center").forEach(_=>{let T=_.calloutLabel;_.midCos<0?T.collisionTextAlign="right":_.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};y(d),y(u),v(h),v(p)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,color:a}=n,l=new we;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:d}=c,u=d.calloutLabel,h=t.convert(d.radius),p=Math.max(0,h);if(!u?.text||p===0||u.hidden){c.visible=!1;return}let f=p+r+o,g=d.midCos*f,y=d.midSin*f+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};l.text=u.text,l.x=g,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(v);let b=l.getBBox(),M=u.text,I=!0;if(n.avoidCollisions){let{textLength:D,hasVerticalOverflow:A}=this.getLabelOverflow(u.text,b,e);M=u.text.length===D?u.text:`${u.text.substring(0,D)}\u2026`,I=!A}c.text=M,c.x=g,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign(v),c.fill=a,c.visible=I})}async computeLabelsBBox(e,t){let{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new we,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return this.calloutNodeData.forEach(p=>{let f=p.calloutLabel;if(!f||p.outerRadius===0)return null;let g=p.outerRadius+r+o,y=p.midCos*g,v=p.midSin*g+f.collisionOffsetY;d.text=f.text,d.x=y,d.y=v,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let b=d.getBBox();if(f.box=b,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(u){let M=t.y-this.centerY,I=new G(u.x-l,M,u.width+2*l,u.y+u.height+l-M);if(b.collidesBBox(I)){f.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:M,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:D}=this.getLabelOverflow(f.text,b,t),A=f.text.length>2&&M<2;if(I||A||D){f.hidden=!0;return}}f.hidden=!1,c.push(b)}),c.length===0?null:G.merge(c)}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:s,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,d=(u,h)=>{let{sectorLabel:p,outerRadius:f}=h,g=!1;if(p&&f!==0){let y=t*(1-l)+f*l+a;u.fill=c,u.fontStyle=s,u.fontWeight=r,u.fontSize=n,u.fontFamily=o,u.text=p.text,u.x=h.midCos*y,u.y=h.midSin*y,u.textAlign="center",u.textBaseline="middle";let v=u.getBBox(),b=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]],{startAngle:M,endAngle:I}=h,D={startAngle:M,endAngle:I,innerRadius:t,outerRadius:f};b.every(([A,w])=>fu(A,w,D))&&(g=!0)}u.visible=g};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateInnerLabelNodes(){let e=[],t=[];this.innerLabelsSelection.each((u,h)=>{let{fontStyle:p,fontWeight:f,fontSize:g,fontFamily:y,color:v}=h;u.fontStyle=p,u.fontWeight=f,u.fontSize=g,u.fontFamily=y,u.text=h.text,u.x=0,u.y=0,u.fill=v,u.textAlign="center",u.textBaseline="alphabetic",e.push(u.getBBox()),t.push(h.spacing)});let n=u=>u===0?0:t[u],s=u=>u===t.length-1?0:t[u],r=e.reduce((u,h,p)=>u+h.height+n(p)+s(p),0),o=Math.max(...e.map(u=>u.width)),a=this.getInnerRadius(),c=Math.sqrt(Math.pow(o/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),d=[];for(let u=0,h=-r/2;u<e.length;u++){let f=e[u].height+h+n(u);d.push(f),h=f+s(u)}this.innerLabelsSelection.each((u,h,p)=>{u.y=d[p],u.visible=c})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:s,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:l}=e;if(r&&l!==void 0)return l.text;if(n&&n!==t&&a?.text!==void 0)return a.text;if(s&&s!==t&&o?.text!==void 0)return o.text}pickNodeClosestDatum(e){return ay(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return As;let{datum:t,angleValue:n,sectorFormat:{fill:s},itemId:r}=e,o=$t(this.properties.title?.text),a=It(n)?xu(n):String(n),l=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:o??l,content:o&&l?`${l}: ${a}`:a,backgroundColor:s},{datum:t,itemId:r,title:o,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){let{visible:t,processedData:n,dataModel:s}=this;if(!s||!n?.data.length||!this.properties.isValid()||e!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!o||o===r)&&(!a||a===r))return[];let{calloutLabelIdx:c,sectorLabelIdx:d,legendItemIdx:u}=this.getProcessedDataIndexes(s),h=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let f=0;f<n.data.length;f++){let{datum:g,values:y}=n.data[f],v=[];h&&v.push(h);let b=this.getLabels(g,2*Math.PI,2*Math.PI,!1,c!=null?y[c]:void 0,d!=null?y[d]:void 0,u!=null?y[u]:void 0);if(l&&b.legendItem!==void 0?v.push(b.legendItem.text):o&&o!==r&&b.calloutLabel?.text!==void 0?v.push(b.calloutLabel?.text):a&&a!==r&&b.sectorLabel?.text!==void 0&&v.push(b.sectorLabel?.text),v.length===0)continue;let M=this.getSectorFormat(g,f,!1);p.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:t&&this.legendItemEnabled[f],label:{text:v.join(" - ")},symbols:[{marker:{fill:M.fill,stroke:M.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:l!=null?g[l]:void 0})}return p}onLegendItemClick(e){let{enabled:t,itemId:n,series:s,legendItemName:r}=e;s.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:s},r)=>{s[n]===e&&this.toggleSeriesItem(r,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=ro(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ie(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,r)=>this.getDatumId(r)),ie(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),Ct(this,"callout",t,this.calloutLabelSelection),Ct(this,"sector",t,this.labelSelection),Ct(this,"highlight",t,this.highlightLabelSelection),Ct(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:s,radiusScale:r,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(s?.defs.keys.length??0)>0,u=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=ro(!1,this.properties.rotation,r,o);ie(this.id,"nodes",a,[e,t,n],h.nodes,(p,f)=>this.getDatumId(f),l),ie(this.id,"innerCircle",a,[this.innerCircleSelection],h.innerCircle),Ct(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ct(this,"sector",this.ctx.animationManager,this.labelSelection),Ct(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Ct(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=ro(!1,this.properties.rotation,s,r);ie(this.id,"nodes",o,[e,t,n],a.nodes,(l,c)=>this.getDatumId(c)),ie(this.id,"innerCircle",o,[this.innerCircleSelection],a.innerCircle),Qs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Qs(this,"sector",this.ctx.animationManager,this.labelSelection),Qs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),Qs(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){let{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:s}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(s)return e[s];if(t)return e[t];if(n)return e[n]}}getDatumId(e){let{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){let{data:e,seriesItemEnabled:t,legendItemEnabled:n}=this;this.seriesItemEnabled=e?.map((s,r)=>t[r]??!0)??[],this.legendItemEnabled=e?.map((s,r)=>n[r]??!0)??[]}};return i.className="DonutSeries",i.type="donut",i})(),NR={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:de,color:no,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:de,color:Oe,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:de,color:Do,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ao,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:de,color:Oe,spacing:2}}},kR={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:de,color:no,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:de,color:Oe,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:de,color:Do,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Ao,xOffset:3,yOffset:3,blur:5}}},XD=({takeColors:i,colorsCount:e})=>{let{fills:t,strokes:n}=i(e);return{fills:t,strokes:n,calloutLine:{colors:n}}},RR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:i=>new LR(i),tooltipDefaults:{range:"exact"},themeTemplate:NR,paletteFactory:XD},QD=class extends Xt{constructor(){super(...arguments),this.showInLegend=!1}};m([x(et)],QD.prototype,"showInLegend",2);var Pa=class extends Ce{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};m([x(F)],Pa.prototype,"offset",2);m([x(dr)],Pa.prototype,"minAngle",2);m([x(F)],Pa.prototype,"minSpacing",2);m([x(F)],Pa.prototype,"maxCollisionOffset",2);m([x(et)],Pa.prototype,"avoidCollisions",2);var ly=class extends Ce{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};m([x(Gt)],ly.prototype,"positionOffset",2);m([x(At)],ly.prototype,"positionRatio",2);var eh=class extends ft{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};m([x(hn,{optional:!0})],eh.prototype,"colors",2);m([x(F)],eh.prototype,"length",2);m([x(F)],eh.prototype,"strokeWidth",2);var Et=class extends Bi{constructor(){super(...arguments),this.fills=Object.values(De),this.strokes=Object.values(zn),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new QD,this.shadow=new Tn,this.calloutLabel=new Pa,this.sectorLabel=new ly,this.calloutLine=new eh,this.tooltip=new mi}};m([x(P)],Et.prototype,"angleKey",2);m([x(P,{optional:!0})],Et.prototype,"angleName",2);m([x(P,{optional:!0})],Et.prototype,"angleFilterKey",2);m([x(P,{optional:!0})],Et.prototype,"radiusKey",2);m([x(P,{optional:!0})],Et.prototype,"radiusName",2);m([x(F,{optional:!0})],Et.prototype,"radiusMin",2);m([x(F,{optional:!0})],Et.prototype,"radiusMax",2);m([x(P,{optional:!0})],Et.prototype,"calloutLabelKey",2);m([x(P,{optional:!0})],Et.prototype,"calloutLabelName",2);m([x(P,{optional:!0})],Et.prototype,"sectorLabelKey",2);m([x(P,{optional:!0})],Et.prototype,"sectorLabelName",2);m([x(P,{optional:!0})],Et.prototype,"legendItemKey",2);m([x(hn)],Et.prototype,"fills",2);m([x(hn)],Et.prototype,"strokes",2);m([x(At)],Et.prototype,"fillOpacity",2);m([x(At)],Et.prototype,"strokeOpacity",2);m([x(Ss)],Et.prototype,"lineDash",2);m([x(F)],Et.prototype,"lineDashOffset",2);m([x(F)],Et.prototype,"cornerRadius",2);m([x(wi,{optional:!0})],Et.prototype,"itemStyler",2);m([x(dr)],Et.prototype,"rotation",2);m([x(Gt)],Et.prototype,"outerRadiusOffset",2);m([x(At)],Et.prototype,"outerRadiusRatio",2);m([x(F)],Et.prototype,"strokeWidth",2);m([x(Gt)],Et.prototype,"sectorSpacing",2);m([x(Y)],Et.prototype,"title",2);m([x(Y)],Et.prototype,"shadow",2);m([x(Y)],Et.prototype,"calloutLabel",2);m([x(Y)],Et.prototype,"sectorLabel",2);m([x(Y)],Et.prototype,"calloutLine",2);m([x(Y)],Et.prototype,"tooltip",2);var OR=class extends Mc{constructor(i,e,t,n){super(i,e,t,n),this.angleKey=n.properties.angleKey,this.radiusKey=n.properties.radiusKey,this.calloutLabelKey=n.properties.calloutLabelKey,this.sectorLabelKey=n.properties.sectorLabelKey}},PR=(()=>{let i=class extends th{constructor(e){super({moduleCtx:e,pickModes:[1,0],useLabelLayer:!0,animationResetFns:{item:oy,label:Ts}}),this.properties=new Et,this.phantomNodeData=void 0,this.previousRadiusScale=new ln,this.radiusScale=new ln,this.phantomGroup=this.contentGroup.appendChild(new ut),this.phantomSelection=Kt.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new ut({name:"pieCalloutLabels"})),this.calloutLabelSelection=new Kt(this.calloutLabelGroup,ut),this.backgroundGroup=this.rootGroup.appendChild(new fa({name:`${this.id}-background`,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new ut({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new eo),this.seriesItemEnabled=[],this.legendItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=OR,this.angleScale=new ln,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.phantomGroup.zIndexSubOrder=[()=>this._declarationOrder,0]}get calloutNodeData(){return this.phantomNodeData??this.nodeData}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.includes(!0))}nodeFactory(){let e=new ei;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(this.data==null||!this.properties.isValid())return;let{data:t}=this,{visible:n,seriesItemEnabled:s}=this,{angleKey:r,angleFilterKey:o,radiusKey:a,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:d}=this.properties,u=!this.ctx.animationManager.isSkipped(),h=[],p=[];d?h.push(wn(d,"band",{id:"legendItemKey"})):l?h.push(wn(l,"band",{id:"calloutLabelKey"})):c&&h.push(wn(c,"band",{id:"sectorLabelKey"}));let f=this.radiusScale.type,g=this.radiusScale.type;a&&p.push(Ug(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),yt(a,f,{id:"radiusRaw"}),so("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),l&&p.push(yt(l,"band",{id:"calloutLabelValue"})),c&&p.push(yt(c,"band",{id:"sectorLabelValue"})),d&&p.push(yt(d,"band",{id:"legendItemValue"})),o&&p.push(Jl(o,g,{id:"angleFilterValue",onlyPositive:!0}),yt(o,g,{id:"angleFilterRaw"}),so("angleFilterValue",[0,1],0,0)),u&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&h.length>0&&p.push(ka(this.processedData)),p.push(Na()),t=t.map((y,v)=>n&&s[v]?y:E(S({},y),{[r]:0})),await this.requestDataModel(e,t,{props:[...h,Jl(r,g,{id:"angleValue",onlyPositive:!0}),yt(r,g,{id:"angleRaw"}),so("angleValue",[0,1],0,0),...p]});for(let y of this.processedData?.defs?.values??[]){let{id:v,missing:b,property:M}=y,I=ag(this,b);v!=="angleRaw"&&I>0&&R.warnOnce(`no value was found for the key '${String(M)}' on ${I} data element${I>1?"s":""}`)}this.animationState.transition("updateData")}async maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;let{nodeData:e=[],phantomNodeData:t}=await this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue"),n=e.resolveProcessedDataIndexById(this,"angleRaw"),s=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterValue"):void 0,r=this.properties.angleFilterKey!=null?e.resolveProcessedDataIndexById(this,"angleFilterRaw"):void 0,o=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):void 0,a=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusRaw"):void 0,l=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):void 0,c=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):void 0,d=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):void 0;return{angleIdx:t,angleRawIdx:n,angleFilterIdx:s,angleFilterRawIdx:r,radiusIdx:o,radiusRawIdx:a,calloutLabelIdx:l,sectorLabelIdx:c,legendItemIdx:d}}async createNodeData(){let{id:e,processedData:t,dataModel:n,angleScale:s}=this,{rotation:r}=this.properties;if(!t||!n||t.type!=="ungrouped")return;let{angleIdx:o,angleRawIdx:a,angleFilterIdx:l,angleFilterRawIdx:c,radiusIdx:d,radiusRawIdx:u,calloutLabelIdx:h,sectorLabelIdx:p,legendItemIdx:f}=this.getProcessedDataIndexes(n),g=c!=null&&t.data.some(({values:I})=>I[c]>I[a]),y=0,v=0,b=[],M=c!=null?[]:void 0;return t.data.forEach((I,D)=>{let{datum:A,values:w}=I,C=g?w[l]:w[o],_=c!=null&&!g?Math.sqrt(w[c]/w[a]):1,T=s.convert(y)+Je(r);y=C,v+=C;let N=s.convert(y)+Je(r),j=Math.abs(N-T),B=T+j/2,Z=w[a],Q=(d!=null?w[d]??1:1)*_,it=u!=null?w[u]:void 0,rt=f!=null?w[f]:void 0,ct=this.getLabels(A,B,j,!0,h!=null?w[h]:void 0,p!=null?w[p]:void 0,rt),bt=this.getSectorFormat(A,D,!1),nt=S({itemId:D,series:this,datum:A,index:D,angleValue:Z,midAngle:B,midCos:Math.cos(B),midSin:Math.sin(B),startAngle:T,endAngle:N,radius:Q,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(Q),0),sectorFormat:bt,radiusValue:it,legendItemValue:rt,enabled:this.seriesItemEnabled[D]},ct);b.push(nt),M?.push(E(S({},nt),{radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0)}))}),this.zerosumOuterRing.visible=v===0,{itemId:e,nodeData:b,labelData:b,phantomNodeData:M}}getLabels(e,t,n,s,r,o,a){let{calloutLabel:l,sectorLabel:c,legendItemKey:d}=this.properties,u=!s||l.enabled?this.properties.calloutLabelKey:void 0,h=!s||c.enabled?this.properties.sectorLabelKey:void 0;if(!u&&!h&&!d)return{};let p={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},f={};return u&&n>Je(l.minAngle)&&(f.calloutLabel=E(S({},this.getTextAlignment(t)),{text:this.getLabelText(l,E(S({},p),{value:r})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),h&&(f.sectorLabel={text:this.getLabelText(c,E(S({},p),{value:o}))}),d!=null&&a!=null&&(f.legendItem={key:d,text:a}),f}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Xl(e),s=-.75*Math.PI,r=n-s,o=Math.floor(r/(Math.PI/2)),a=Mu(o,t.length);return t[a]}getSectorFormat(e,t,n){let{callbackCache:s}=this.ctx,{angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fills:d,strokes:u,itemStyler:h}=this.properties,p=u[t%u.length],{fill:f,fillOpacity:g,stroke:y,strokeWidth:v,strokeOpacity:b,lineDash:M,lineDashOffset:I,cornerRadius:D}=xt(n&&this.properties.highlightStyle.item,{fill:d.length>0?d[t%d.length]:void 0,stroke:p,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),A;return h&&(A=s.call(h,{datum:e,angleKey:r,radiusKey:o,calloutLabelKey:a,sectorLabelKey:l,legendItemKey:c,fill:f,strokeOpacity:b,stroke:y,strokeWidth:v,fillOpacity:g,lineDash:M,lineDashOffset:I,cornerRadius:D,highlighted:n,seriesId:this.id})),{fill:A?.fill??f,fillOpacity:A?.fillOpacity??g,stroke:A?.stroke??y,strokeWidth:A?.strokeWidth??v,strokeOpacity:A?.strokeOpacity??b,lineDash:A?.lineDash??M,lineDashOffset:A?.lineDashOffset??I,cornerRadius:A?.cornerRadius??D}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){let t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);let n=s=>E(S({},s),{innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){let e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;let n=2+(this.properties.title?.spacing??0),s=Math.max(0,-e);return-e-n-s}async update({seriesRect:e}){let{title:t}=this.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},s=cn(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),await this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){let r=this.getTitleTranslationY();t.node.y=isFinite(r)?r:0;let o=t.node.getBBox();t.node.visible=t.enabled&&isFinite(r)&&!this.bboxIntersectsSurroundingSeries(o)}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),await this.updateSelections(),await this.updateNodes(e)}updateTitleNodes(){let{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){let e=t=>{let n=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,n),y:t.midSin*Math.max(0,n)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}async updateSelections(){await this.updateGroupSelection()}async updateGroupSelection(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,highlightLabelSelection:s,calloutLabelSelection:r,labelSelection:o}=this,a=this.nodeData.map(c=>E(S({},c),{sectorFormat:S({},c.sectorFormat)})),l=(c,d)=>{c.update(d,void 0,u=>this.getDatumId(u)),this.ctx.animationManager.isSkipped()&&c.cleanup()};l(e,this.nodeData),l(t,a),l(n,this.phantomNodeData??[]),r.update(this.calloutNodeData,c=>{let d=new Ii;d.tag=0,d.pointerEvents=1,c.appendChild(d);let u=new we;u.tag=1,u.pointerEvents=1,c.appendChild(u)}),o.update(this.nodeData),s.update(a)}async updateNodes(e){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.includes(!0);this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.highlightLabel.visible=n&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity();let s=this.ctx.animationManager.isSkipped(),r=(o,a,l,c)=>{let d=this.getSectorFormat(a.datum,a.itemId,c);a.sectorFormat.fill=d.fill,a.sectorFormat.stroke=d.stroke,s&&(o.startAngle=a.startAngle,o.endAngle=a.endAngle,o.innerRadius=a.innerRadius,o.outerRadius=a.outerRadius),(c||s)&&(o.fill=d.fill,o.stroke=d.stroke),o.strokeWidth=d.strokeWidth,o.fillOpacity=d.fillOpacity,o.strokeOpacity=d.strokeOpacity,o.lineDash=d.lineDash,o.lineDashOffset=d.lineDashOffset,o.cornerRadius=d.cornerRadius,o.fillShadow=this.properties.shadow;let u=Math.max((this.properties.sectorSpacing+(d.stroke!=null?d.strokeWidth:0))/2,0);o.inset=u,o.lineJoin=this.properties.sectorSpacing>=0||u>0?"miter":"round"};this.itemSelection.each((o,a,l)=>r(o,a,l,!1)),this.highlightSelection.each((o,a,l)=>{r(o,a,l,!0),o.visible=a.itemId===t?.itemId}),this.phantomSelection.each((o,a,l)=>r(o,a,l,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){let{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,s=e.colors??this.properties.strokes,{offset:r}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((o,a)=>{let l=o.datum,{calloutLabel:c,outerRadius:d}=l;if(c?.text&&!c.hidden&&d!==0){o.visible=!0,o.strokeWidth=n,o.stroke=s[a%s.length],o.fill=void 0;let u=l.midCos*d,h=l.midSin*d,p=l.midCos*(d+t),f=l.midSin*(d+t);if((c.collisionTextAlign??c.collisionOffsetY!==0)&&c.box!=null){let y=c.box,v=p,b=f;p<y.x?v=y.x:p>y.x+y.width&&(v=y.x+y.width),f<y.y?b=y.y:f>y.y+y.height&&(b=y.y+y.height);let M=v-p,I=b-f,D=Math.sqrt(Math.pow(M,2)+Math.pow(I,2)),A=D-r;A>0&&(p=p+M*A/D,f=f+I*A/D)}o.x1=u,o.y1=h,o.x2=p,o.y2=f}else o.visible=!1})}getLabelOverflow(e,t,n){let s=n.x-this.centerX,r=n.x+n.width-this.centerX,o=n.y-this.centerY,a=n.y+n.height-this.centerY,l=1,c=1;t.x+l<s?c=(t.x+t.width-s)/t.width:t.x+t.width-l>r&&(c=(r-t.x)/t.width);let d=t.y+l<o||t.y+t.height-l>a,u=c===1?e.length:Math.floor(e.length*c)-1,h=this.bboxIntersectsSurroundingSeries(t);return{textLength:u,hasVerticalOverflow:d,hasSurroundingSeriesOverflow:h}}bboxIntersectsSurroundingSeries(e){let{surroundingRadius:t}=this;if(t==null)return!1;let n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return n.some(r=>r.x**2+r.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:s,minSpacing:r}=t,o=e.convert(0),a=b=>!b.calloutLabel||b.outerRadius===0,l=this.calloutNodeData,c=l.filter(b=>!a(b));if(c.forEach(b=>{let M=b.calloutLabel;M!=null&&(M.hidden=!1,M.collisionTextAlign=void 0,M.collisionOffsetY=0)}),c.length<=1)return;let d=c.filter(b=>b.midCos<0).sort((b,M)=>b.midSin-M.midSin),u=c.filter(b=>b.midCos>=0).sort((b,M)=>b.midSin-M.midSin),h=c.filter(b=>b.midSin<0&&b.calloutLabel?.textAlign==="center").sort((b,M)=>b.midCos-M.midCos),p=c.filter(b=>b.midSin>=0&&b.calloutLabel?.textAlign==="center").sort((b,M)=>b.midCos-M.midCos),f=b=>{let M=b.calloutLabel;if(M==null)return G.zero.clone();let I=b.outerRadius+n.length+s,D=b.midCos*I,A=b.midSin*I+M.collisionOffsetY,w=M.collisionTextAlign??M.textAlign,C=M.textBaseline;return we.computeBBox(M.text,D,A,{font:this.properties.calloutLabel,textAlign:w,textBaseline:C})},g=(b,M,I)=>{let D=f(b).grow(r/2),A=f(M).grow(r/2);if(D.x<A.x+A.width&&D.x+D.width>A.x&&(I==="to-top"?D.y<A.y+A.height:D.y+D.height>A.y)){let C=I==="to-top"?D.y-A.y-A.height:D.y+D.height-A.y;M.calloutLabel.collisionOffsetY=C}},y=b=>{let M=b.slice().sort((D,A)=>Math.abs(D.midSin)-Math.abs(A.midSin))[0],I=b.indexOf(M);for(let D=I-1;D>=0;D--){let A=b[D+1],w=b[D];g(A,w,"to-top")}for(let D=I+1;D<b.length;D++){let A=b[D-1],w=b[D];g(A,w,"to-bottom")}},v=b=>{let M=c.some(_=>_.calloutLabel.collisionOffsetY!==0),I=b.map(_=>f(_)),D=I.map(_=>_.clone().grow(r/2)),A=!1;for(let _=0;_<D.length&&!A;_++){let T=D[_];for(let N=_+1;N<b.length;N++){let j=D[N];if(T.collidesBBox(j)){A=!0;break}}}let w=l.map(_=>{let{startAngle:T,endAngle:N,outerRadius:j}=_;return{startAngle:T,endAngle:N,innerRadius:o,outerRadius:j}}),C=I.some(_=>w.some(T=>$D(_,T)));!A&&!M&&!C||b.filter(_=>_.calloutLabel.textAlign==="center").forEach(_=>{let T=_.calloutLabel;_.midCos<0?T.collisionTextAlign="right":_.midCos>0?T.collisionTextAlign="left":T.collisionTextAlign="center"})};y(d),y(u),v(h),v(p)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,color:a}=n,l=new we;this.calloutLabelSelection.selectByTag(1).forEach(c=>{let{datum:d}=c,u=d.calloutLabel,h=t.convert(d.radius),p=Math.max(0,h);if(!u?.text||p===0||u.hidden){c.visible=!1;return}let f=p+r+o,g=d.midCos*f,y=d.midSin*f+u.collisionOffsetY,v={textAlign:u.collisionTextAlign??u.textAlign,textBaseline:u.textBaseline};l.text=u.text,l.x=g,l.y=y,l.setFont(this.properties.calloutLabel),l.setAlign(v);let b=l.getBBox(),M=u.text,I=!0;if(n.avoidCollisions){let{textLength:D,hasVerticalOverflow:A}=this.getLabelOverflow(u.text,b,e);M=u.text.length===D?u.text:`${u.text.substring(0,D)}\u2026`,I=!A}c.text=M,c.x=g,c.y=y,c.setFont(this.properties.calloutLabel),c.setAlign(v),c.fill=a,c.visible=I})}async computeLabelsBBox(e,t){let{calloutLabel:n,calloutLine:s}=this.properties,r=s.length,{offset:o,maxCollisionOffset:a,minSpacing:l}=n;if(!n.avoidCollisions)return null;await this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let c=[],d=new we,u,{title:h}=this.properties;if(h?.text&&h.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(d.text=h.text,d.x=0,d.y=p,d.setFont(h),d.setAlign({textBaseline:"bottom",textAlign:"center"}),u=d.getBBox(),c.push(u))}return this.calloutNodeData.forEach(p=>{let f=p.calloutLabel;if(!f||p.outerRadius===0)return null;let g=p.outerRadius+r+o,y=p.midCos*g,v=p.midSin*g+f.collisionOffsetY;d.text=f.text,d.x=y,d.y=v,d.setFont(this.properties.calloutLabel),d.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline});let b=d.getBBox();if(f.box=b,Math.abs(f.collisionOffsetY)>a){f.hidden=!0;return}if(u){let M=t.y-this.centerY,I=new G(u.x-l,M,u.width+2*l,u.y+u.height+l-M);if(b.collidesBBox(I)){f.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:M,hasVerticalOverflow:I,hasSurroundingSeriesOverflow:D}=this.getLabelOverflow(f.text,b,t),A=f.text.length>2&&M<2;if(I||A||D){f.hidden=!0;return}}f.hidden=!1,c.push(b)}),c.length===0?null:G.merge(c)}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:s,fontWeight:r,fontFamily:o,positionOffset:a,positionRatio:l,color:c}=this.properties.sectorLabel,d=t>0,u=this.seriesItemEnabled.filter(Boolean).length===1,h=(p,f)=>{let{sectorLabel:g,outerRadius:y,startAngle:v,endAngle:b}=f,M=!1;if(g&&y!==0){let I=t*(1-l)+y*l+a;p.fill=c,p.fontStyle=s,p.fontWeight=r,p.fontSize=n,p.fontFamily=o,p.text=g.text,!d&&u?(p.x=0,p.y=0):(p.x=f.midCos*I,p.y=f.midSin*I),p.textAlign="center",p.textBaseline="middle";let A=p.getBBox(),w=[[A.x,A.y],[A.x+A.width,A.y],[A.x+A.width,A.y+A.height],[A.x,A.y+A.height]],C={startAngle:v,endAngle:b,innerRadius:t,outerRadius:y};w.every(([_,T])=>fu(_,T,C))&&(M=!0)}p.visible=M};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:s,legendItemKey:r}=this.properties,{sectorLabel:o,calloutLabel:a,legendItem:l}=e;if(r&&l!==void 0)return l.text;if(n&&n!==t&&a?.text!==void 0)return a.text;if(s&&s!==t&&o?.text!==void 0)return o.text}pickNodeClosestDatum(e){return ay(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return As;let{datum:t,angleValue:n,sectorFormat:{fill:s},itemId:r}=e,o=$t(this.properties.title?.text),a=It(n)?xu(n):String(n),l=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:o??l,content:o&&l?`${l}: ${a}`:a,backgroundColor:s},{datum:t,itemId:r,title:o,color:s,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){let{visible:t,processedData:n,dataModel:s}=this;if(!s||!n?.data.length||e!=="category")return[];let{angleKey:r,calloutLabelKey:o,sectorLabelKey:a,legendItemKey:l}=this.properties;if(!l&&(!o||o===r)&&(!a||a===r))return[];let{calloutLabelIdx:c,sectorLabelIdx:d,legendItemIdx:u}=this.getProcessedDataIndexes(s),h=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let f=0;f<n.data.length;f++){let{datum:g,values:y}=n.data[f],v=[];h&&v.push(h);let b=this.getLabels(g,2*Math.PI,2*Math.PI,!1,c!=null?y[c]:void 0,d!=null?y[d]:void 0,u!=null?y[u]:void 0);if(l&&b.legendItem!==void 0?v.push(b.legendItem.text):o&&o!==r&&b.calloutLabel?.text!==void 0?v.push(b.calloutLabel?.text):a&&a!==r&&b.sectorLabel?.text!==void 0&&v.push(b.sectorLabel?.text),v.length===0)continue;let M=this.getSectorFormat(g,f,!1);p.push({legendType:"category",id:this.id,itemId:f,seriesId:this.id,enabled:t&&this.legendItemEnabled[f],label:{text:v.join(" - ")},symbols:[{marker:{fill:M.fill,stroke:M.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:l!=null?g[l]:void 0})}return p}onLegendItemClick(e){let{enabled:t,itemId:n,series:s,legendItemName:r}=e;s.id===this.id?this.toggleSeriesItem(n,t):r!=null&&this.toggleOtherSeriesItems(r,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.legendItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}setLegendState(e){this.legendItemEnabled=e,this.ctx.updateService.update(4)}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:s},r)=>{s[n]===e&&this.toggleSeriesItem(r,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=ro(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);ie(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,r)=>this.getDatumId(r)),Ct(this,"callout",t,this.calloutLabelSelection),Ct(this,"sector",t,this.labelSelection),Ct(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:s,radiusScale:r,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,l=s?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let c=(l?.moved.size??0)===0,d=(s?.defs.keys.length??0)>0,u=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!d||!u)&&this.ctx.animationManager.skipCurrentBatch();let h=ro(!1,this.properties.rotation,r,o);ie(this.id,"nodes",a,[e,t,n],h.nodes,(p,f)=>this.getDatumId(f),l),Ct(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Ct(this,"sector",this.ctx.animationManager,this.labelSelection),Ct(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:s,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=ro(!1,this.properties.rotation,s,r);ie(this.id,"nodes",o,[e,t,n],a.nodes,(l,c)=>this.getDatumId(c)),Qs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),Qs(this,"sector",this.ctx.animationManager,this.labelSelection),Qs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){let{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:s}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(s)return e[s];if(t)return e[t];if(n)return e[n]}}getDatumId(e){let{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){let{data:e,seriesItemEnabled:t,legendItemEnabled:n}=this;this.seriesItemEnabled=e?.map((s,r)=>t[r]??!0)??[],this.legendItemEnabled=e?.map((s,r)=>n[r]??!0)??[]}};return i.className="PieSeries",i.type="pie",i})(),jR={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:i=>new PR(i),tooltipDefaults:{range:"exact"},themeTemplate:kR,paletteFactory:XD},ta={add:FR,angle:HR,apply:JR,equal:QR,distance:VR,distanceSquared:UR,from:qR,gradient:WR,intercept:ZR,intersectAtX:KR,intersectAtY:$R,length:dy,lengthSquared:BR,multiply:zR,normalized:GR,origin:uy,required:tO,rotate:YR,round:XR,sub:cy};function FR(i,e){return typeof e=="number"?{x:i.x+e,y:i.y+e}:{x:i.x+e.x,y:i.y+e.y}}function cy(i,e){return typeof e=="number"?{x:i.x-e,y:i.y-e}:{x:i.x-e.x,y:i.y-e.y}}function zR(i,e){return typeof e=="number"?{x:i.x*e,y:i.y*e}:{x:i.x*e.x,y:i.y*e.y}}function dy(i){return Math.sqrt(i.x*i.x+i.y*i.y)}function BR(i){return i.x*i.x+i.y*i.y}function VR(i,e){let t=cy(i,e);return Math.sqrt(t.x*t.x+t.y*t.y)}function UR(i,e){let t=cy(i,e);return t.x*t.x+t.y*t.y}function GR(i){let e=dy(i);return{x:i.x/e,y:i.y/e}}function HR(i,e=uy()){return Math.atan2(i.y,i.x)-Math.atan2(e.y,e.x)}function YR(i,e,t=uy()){let n=dy(i);return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function WR(i,e,t){let n=e.x-i.x;return(t==null?e.y-i.y:t-e.y-(t-i.y))/n}function ZR(i,e,t){return(t==null?i.y:t-i.y)-e*i.x}function $R(i,e,t=0,n){return{x:i===1/0?1/0:(t-e)/i,y:n==null?t:n-t}}function KR(i,e,t=0,n){let s=i===1/0?1/0:i*t+e;return{x:t,y:n==null?s:n-s}}function XR(i){return{x:Math.round(i.x),y:Math.round(i.y)}}function QR(i,e){return i.x===e.x&&i.y===e.y}function qR(i,e){if(typeof i=="number")return{x:i,y:e};if("regionOffsetX"in i)return{x:i.regionOffsetX,y:i.regionOffsetY};if("offsetWidth"in i)return{x:i.offsetWidth,y:i.offsetHeight};if("width"in i)return[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y+i.height}];if("x1"in i)return[{x:i.x1,y:i.y1},{x:i.x2,y:i.y2}];throw new Error(`Values can not be converted into a vector: [${i}] [${e}]`)}function JR(i,e){return i.x=e.x,i.y=e.y,i}function tO(i){return{x:i?.x??0,y:i?.y??0}}function uy(){return{x:0,y:0}}var Sn=class extends ft{constructor(i,e){super(),this.onChange=i,this.onButtonsChange=e,this.align="start",this.position="top",this.size="normal",this.buttonOverrides=new Map}buttonConfigurations(){let i=[...this.buttons??[]];return this.draggable&&i.unshift({icon:"drag-handle",tooltip:"toolbarAnnotationsDragHandle",value:"drag",id:"drag"}),i?.map(e=>{let t=e.id??e.value,n=this.buttonOverrides.get(t);return n!=null?S(S({},e),n):e})??[]}buttonsChanged(i){this.onButtonsChange(this.buttonConfigurations(),i)}overrideButtonConfiguration(i,e){let t=this.buttonOverrides.get(i);t==null&&(t=Object.create(null),this.buttonOverrides.set(i,t));for(let n in e){let s=e[n];s==null?delete t[n]:t[n]=s}this.buttonsChanged(!0)}};m([ti(i=>{i.onChange(i.enabled)}),x(et)],Sn.prototype,"enabled",2);m([ti(i=>{i.onChange(i.enabled)}),x(Ft([...og]),{optional:!0})],Sn.prototype,"align",2);m([ti(i=>{i.onChange(i.enabled)}),x(Ft(Xr),{optional:!0})],Sn.prototype,"position",2);m([x(et)],Sn.prototype,"draggable",2);m([ti(i=>{i.onChange(i.enabled)}),x(Ft(["small","normal"]),{optional:!0})],Sn.prototype,"size",2);m([ti(i=>{for(let e of i.buttons??[])e.icon!=null&&PE.includes(e.icon)&&R.warnOnce(`Icon '${e.icon}' is deprecated, use another icon instead.`),e.ariaLabel==="toolbarAnnotationsColor"&&R.warnOnce(`Aria label '${e.ariaLabel}' is deprecated, use 'toolbarAnnotationsLineColor' instead.`);i.buttonsChanged(!1)}),x(Ma,{optional:!0})],Sn.prototype,"buttons",2);var Ax="ag-charts-toolbar",Cl={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},Ut={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{first:"ag-charts-toolbar__button--first",last:"ag-charts-toolbar__button--last",active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled",fillVisible:"ag-charts-toolbar__button--fill-visible",strokeWidthVisible:"ag-charts-toolbar__button--stroke-width-visible",withTransition:"ag-charts-toolbar__button--with-transition",dragHandle:"ag-charts-toolbar__button--drag-handle",dragging:"ag-charts-toolbar__button--dragging"}},qD=class extends bc{constructor(i){super(),this.ctx=i,this.enabled=!0,this.seriesType=new Sn(this.onGroupChanged.bind(this,"seriesType"),this.onGroupButtonsChanged.bind(this,"seriesType")),this.annotations=new Sn(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new Sn(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new Sn(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new Sn(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.dragState={client:{x:0,y:0},position:{x:0,y:0},detached:!1},this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,left:new Set,right:new Set,bottom:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},left:{},right:{},bottom:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={seriesType:new Set,annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={seriesType:[],annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.ariaToolbars=[{groups:["seriesType","annotations"],destroyFns:[],resetListeners:()=>{}},{groups:["annotationOptions"],destroyFns:[],resetListeners:()=>{}},{groups:["ranges"],destroyFns:[],resetListeners:()=>{}},{groups:["zoom"],destroyFns:[],resetListeners:()=>{}}],this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,this.elements={};for(let n of Xr)this.elements[n]=i.domManager.addChild("canvas-overlay",`toolbar-${n}`),this.elements[n].role="presentation",this.renderToolbar(n);this.toggleVisibilities();let e=40,t=i.regionManager.getRegion("series");this.destroyFns.push(i.interactionManager.addListener("hover",this.onHover.bind(this),63),i.interactionManager.addListener("leave",this.onLeave.bind(this),63),t.addListener("drag-start",this.toggleNoPointerEvents.bind(this,!0),e),t.addListener("drag-end",this.toggleNoPointerEvents.bind(this,!1),63),i.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),i.toolbarManager.addListener("button-updated",this.onButtonUpdated.bind(this)),i.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),i.toolbarManager.addListener("group-updated",this.onGroupUpdated.bind(this)),i.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),i.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),i.layoutManager.registerElement(2,this.onLayoutStart.bind(this)),i.layoutManager.addListener("layout:complete",this.onLayoutComplete.bind(this)),i.updateService.addListener("pre-dom-update",this.onPreDomUpdate.bind(this)),i.updateService.addListener("update-complete",this.onUpdateComplete.bind(this)),i.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(Ax);for(let i of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${i}`)}onHover(i){let{enabled:e,elements:t,floatingDetectionRange:n,ctx:{scene:s}}=this,{offsetY:r,sourceEvent:{target:o}}=i,{FloatingBottom:a,FloatingTop:l}=oa;if(!e)return;let c=t[a],d=t[l],u=c.offsetTop-n,h=r>u&&r<s.canvas.element.offsetHeight||o===c,p=d.offsetTop+d.offsetHeight+n,f=r>0&&r<p||o===d;this.translateFloatingElements(a,h),this.translateFloatingElements(l,f)}onLeave(i){let{enabled:e,ctx:{scene:t}}=this,{relatedElement:n,targetElement:s}=i,{FloatingBottom:r,FloatingTop:o}=oa;!e||s!==t.canvas.element||Ud.some(l=>this.groupButtons[l].some(c=>c===n))||(this.translateFloatingElements(r,!1),this.translateFloatingElements(o,!1))}toggleNoPointerEvents(i){let e="ag-charts-toolbar__no-pointer-events";this.groupButtons.annotationOptions.forEach(t=>t.classList.toggle(e,i))}onGroupChanged(i){this[i]==null||this.groupProxied.has(i)||(this.createGroup(i),this.toggleVisibilities())}onGroupButtonsChanged(i,e,t){if(!(!this.enabled||this.groupProxied.has(i))){if(t)for(let n of this[i].buttonConfigurations())this.refreshButtonContent(i,n);else this.createGroupButtons(i,e);this.toggleVisibilities()}}onLayoutComplete(i){for(let e of Xr)this.elements[e].classList.remove(Ut.preventFlash);this.enabled&&this.refreshInnerLayout(i.series.rect)}toggleButtonsTransition(i){let e=Ut.button.withTransition;for(let t of Object.values(this.groupButtons).flat())i&&!t.classList.contains(e)&&t.getBoundingClientRect(),t.classList.toggle(e,i)}onPreDomUpdate(){this.toggleButtonsTransition(!1)}onUpdateComplete(){this.toggleButtonsTransition(!0)}onButtonUpdated(i){let r=i,{type:e,group:t,id:n}=r,s=_t(r,["type","group","id"]);this[t].overrideButtonConfiguration(n,s)}setButtonActive(i,e){i.classList.toggle(Ut.button.active,e)}setButtonChecked(i,e){i.role==="switch"&&(i.ariaChecked=e.toString())}setButtonGroupFirstLast(i){let e=Array.from(i.childNodes??[]),t=(r,o,a)=>{let l=!o.classList.contains(Ut.button.hiddenToggled);return o.classList.toggle(a,l&&r),l?!1:r},n=!0;e.forEach(r=>n=t(n,r,Ut.button.first));let s=!0;e.toReversed().forEach(r=>s=t(s,r,Ut.button.last))}onButtonToggled(i){let{group:e,id:t,active:n,enabled:s,visible:r,checked:o}=i;if(this.groupButtons[e].length===0){this.pendingButtonToggledEvents.push(i);return}let a=this.groupButtons[e].find(l=>l.dataset.toolbarId===`${t}`);a!=null&&(a.ariaDisabled=`${!s}`,a.classList.toggle(Ut.button.hiddenToggled,!r),this.setButtonActive(a,n),this.setButtonChecked(a,o),this.setButtonGroupFirstLast(a.parentNode))}onGroupToggled(i){let{caller:e,group:t,active:n,visible:s}=i;this.toggleGroup(e,t,n,s),this.toggleVisibilities()}onGroupUpdated(i){let{group:e}=i;for(let t of this.ariaToolbars)if(t.groups.includes(e)){t.resetListeners();return}}onFloatingAnchorChanged(i){let{elements:e,positions:t,horizontalSpacing:n,verticalSpacing:s}=this,{group:r,anchor:o}=i,a=e.floating;if(this.dragState.detached||a.classList.contains(Ut.hidden)||(this.dragState.detached=!1,!t.floating.has(r)))return;let l=o.position??"above",{offsetWidth:c,offsetHeight:d}=a,u=o.y-d-s,h=o.x-c/2;l==="below"?u=o.y+s:l==="right"?(u=o.y-d/2,h=o.x+n):l==="above-left"&&(h=o.x);let p=new G(h,u,c,d);this.positionGroup(a,r,p)}positionGroup(i,e,t){let{ctx:{domManager:n}}=this,s=n.getBoundingClientRect();t.x=at(0,t.x,s.width-t.width),t.y=at(0,t.y,s.height-t.height);let r=`${Math.floor(t.x)}px`,o=`${Math.floor(t.y)}px`;(i.style.getPropertyValue("left")!==r||i.style.getPropertyValue("top")!==o)&&(i.style.setProperty("left",r),i.style.setProperty("top",o),this.onGroupMoved(e,t))}onGroupMoved(i,e){let{groupButtons:t,ctx:{toolbarManager:n}}=this;for(let s of t[i]){if(s.classList.contains(Ut.button.hiddenToggled))continue;let r=s.offsetParent;n.buttonMoved(i,s.dataset.toolbarId,new G(s.offsetLeft+(r?.offsetLeft??0),s.offsetTop+(r?.offsetTop??0),s.offsetWidth,s.offsetHeight),e)}}buttonRect(i,e=this.ctx.domManager.getBoundingClientRect()){let t=i.getBoundingClientRect();return new G(t.left-e.left,t.top-e.top,t.width,t.height)}onProxyGroupOptions(i){if(!this.enabled)return;let{caller:e,group:t,options:n}=i;this.groupProxied.set(t,n),this[t].set(n),this.toggleGroup(e,t,void 0,n.enabled),this.createGroup(t,n.enabled,n.position),n.enabled&&this.createGroupButtons(t,n.buttons)}createGroup(i,e,t){e??(e=this[i].enabled),t??(t=this[i].position);for(let n of Xr)e&&t===n?this.positions[n].add(i):this.positions[n].delete(i)}createGroupButtons(i,e=[]){for(let u of this.groupButtons[i])u.remove();if(this.groupButtons[i]=[],e.length===0)return;let{align:t,position:n}=this[i],s=this.positionAlignments[n][t];if(!s)return;let r=u=>{let h=Array.from(s.children),p="data-group",f="data-section",g=h.find(y=>y.getAttribute(p)===i&&y.getAttribute(f)===(u??""));if(!g){g=Ot("div"),g.role="presentation",g.setAttribute(p,i),g.setAttribute(f,u??"");let y=tm[i],v=h.find(b=>{let M=b.getAttribute(p);return tm[M]>y});v!=null?s.insertBefore(g,v):s.appendChild(g),this.destroyFns.push(()=>g.remove())}return g.classList.add(Cl.section,Ut[this[i].size]),g},o=e.at(0)?.section,a=r(o);for(let u of e){o!==u.section&&(this.setButtonGroupFirstLast(a),a=r(u.section)),o=u.section;let h=this.createButtonElement(i,u);a.appendChild(h),this.groupButtons[i].push(h)}this.setButtonGroupFirstLast(a);let l=()=>{this.ctx.toolbarManager.cancel(i)},c,d;em(n)&&(c=()=>this.translateFloatingElements(n,!0),d=()=>this.translateFloatingElements(n,!1)),this.createAriaToolbar(i,s,c,d,l)}createAriaToolbar(i,e,t,n,s){let r=this.computeAriaOrientation(this[i].position),o=this.getAriaToolbar(i);o.resetListeners=()=>{let a=o.groups.map(l=>this.groupButtons[l]).flat().filter(l=>!l.classList.contains(Ut.button.hiddenToggled)&&!l.classList.contains(Ut.button.dragHandle));o.destroyFns.forEach(l=>l()),o.destroyFns=ig({orientation:r,toolbar:e,buttons:a,onEscape:s,onFocus:t,onBlur:n})},o.resetListeners(),this.updateToolbarAriaLabel(i,e)}computeAriaOrientation(i){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[i]}toggleGroup(i,e,t,n){if(n===!0?this.groupCallers[e].add(i):n===!1&&this.groupCallers[e].delete(i),t!=null)for(let s of this.groupButtons[e])this.setButtonActive(s,t)}processPendingEvents(){let i=(this.pendingButtonToggledEvents??[]).slice();for(let e of i)this.onButtonToggled(e);this.pendingButtonToggledEvents=[]}onLayoutStart(i){this.enabled&&(this.refreshOuterLayout(i.layoutBox),this.refreshLocale())}refreshOuterLayout(i){let{elements:e,horizontalSpacing:t,verticalSpacing:n}=this;e.top.classList.contains(Ut.hidden)||i.shrink(e.top.offsetHeight+n,"top"),e.right.classList.contains(Ut.hidden)||i.shrink(e.right.offsetWidth+t,"right"),e.bottom.classList.contains(Ut.hidden)||(i.shrink(e.bottom.offsetHeight+n,"bottom"),e.bottom.style.top=`${i.y+i.height+n}px`),e.left.classList.contains(Ut.hidden)||i.shrink(e.left.offsetWidth+t,"left")}refreshLocale(){let{hasNewLocale:i}=this;if(i){for(let e of Ud){let t=this[e].buttonConfigurations();for(let n of t)this.refreshButtonContent(e,n);this.updateToolbarAriaLabel(e)}this.hasNewLocale=!1}}refreshInnerLayout(i){let{elements:e,verticalSpacing:t}=this,{FloatingBottom:n,FloatingTop:s}=oa;e.top.style.top=`${i.y-e.top.offsetHeight-t}px`,e.top.style.left=`${i.x}px`,e.top.style.width=`${i.width}px`,e.bottom.style.left=`${i.x}px`,e.bottom.style.width=`${i.width}px`,e.right.style.top=`${i.y}px`,e.right.style.right="0px",e.right.style.height=`${i.height}px`,e.left.style.top=`${i.y}px`,e.left.style.left="0px",e.left.style.height=`${i.height}px`,e[s].style.top=`${i.y}px`,e[n].style.top=`${i.y+i.height-e[n].offsetHeight}px`}refreshButtonContent(i,e){let t=this.buttonId(e),n=this.groupProxied.get(i)?.buttons?.find(r=>this.buttonId(r)===t)??e,s=this.groupButtons[i].find(r=>r.getAttribute("data-toolbar-id")===t);s!=null&&this.updateButton(s,n)}toggleVisibilities(){if(this.elements==null)return;let i=t=>this[t].enabled&&this.groupCallers[t].size>0,e=t=>n=>{let s=this.buttonId(n);return s==null||s===t.dataset.toolbarId};for(let t of Xr){let n=this.enabled&&Array.from(this.positions[t].values()).some(i);t==="floating"&&!n&&(this.dragState.detached=!1),this.elements[t].classList.toggle(Ut.hidden,!n)}for(let t of Ud){if(this[t]==null)continue;let n=i(t);for(let s of this.groupButtons[t]){let r=n&&this[t].buttonConfigurations().some(e(s));s.classList.toggle(Ut.button.hiddenValue,!r)}}}translateFloatingElements(i,e){let{elements:t,verticalSpacing:n,positionAlignments:s}=this,r=t[i],o=Object.values(s[i]);r.classList.toggle(Ut.floatingHidden,!e);let a=i==="floating-bottom"?1:-1;for(let l of o)l.style.transform=e&&l.style.transform!==""?"translateY(0)":`translateY(${(r.offsetHeight+n)*a}px)`}renderToolbar(i="top"){let e=this.elements[i];e.classList.add(Ax,Ut[i],Ut.preventFlash),em(i)&&e.classList.add(Ut.floatingHidden);for(let t of og){let n=Ot("div");n.role="presentation",n.classList.add(Cl.align,Ut.align[t]),e.appendChild(n),this.positionAlignments[i][t]=n}}createButtonElement(i,e){let t=Ot("button");return t.classList.add(Cl.button),t.dataset.toolbarGroup=i,Ai(t,"tabindex",-1),e.haspopup&&co(t,{"aria-haspopup":!0,"aria-expanded":!1}),t.dataset.toolbarId=this.buttonId(e),t.addEventListener("click",Xf(t,n=>this.onButtonPress(n,t,i,e.id,e.value))),e.value==="drag"&&(t.addEventListener("mousedown",Xf(t,n=>this.onDragStart(n,t,i))),t.classList.add(Ut.button.dragHandle)),e.role==="switch"&&co(t,{role:e.role,"aria-checked":!1}),this.updateButton(t,e),this.destroyFns.push(()=>t.remove()),t}getAriaToolbar(i){for(let e of this.ariaToolbars)if(e.groups.includes(i))return e;throw new Error(`AG Charts - cannot find aria-toolbar of '${i}'`)}updateToolbarAriaLabel(i,e){if(!e){let{align:n,position:s}=this[i];if(e=this.positionAlignments[s][n],!e)return}let t={seriesType:"ariaLabelFinancialCharts",annotations:"ariaLabelFinancialCharts",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};e.ariaLabel=this.ctx.localeManager.t(t[i])}expandButtonConfig(i,e){return e.role!=="switch"||i.ariaChecked!=="true"||e.checkedOverrides===void 0?e:{icon:e.checkedOverrides.icon??e.icon,label:e.checkedOverrides.label??e.label,ariaLabel:e.checkedOverrides.ariaLabel??e.ariaLabel,tooltip:e.checkedOverrides.tooltip??e.tooltip}}updateButton(i,e){let{domManager:t,localeManager:n}=this.ctx,{icon:s,label:r,ariaLabel:o,tooltip:a}=this.expandButtonConfig(i,e);a&&(i.title=n.t(a));let l="";if(s!=null&&(l=`<span class="${t.getIconClassNames(s)} ${Cl.icon}"></span>`),r!=null){let u=n.t(r);l=`${l}<span class="${Cl.label}">${u}</span>`}i.innerHTML=l,i.classList.toggle(Ut.button.fillVisible,e.fill!=null),i.style.setProperty("--fill",e.fill??null);let c=e.strokeWidth!=null;i.classList.toggle(Ut.button.strokeWidthVisible,c),i.style.setProperty("--strokeWidth",c?`${e.strokeWidth}px`:null);let d=o?this.ctx.localeManager.t(o):void 0;Ai(i,"aria-label",d)}onButtonPress(i,e,t,n,s){this.ctx.toolbarManager.pressButton(t,this.buttonId({id:n,value:s}),s,this.buttonRect(e),i)}onDragStart(i,e,t){let n=this.elements.floating;i.preventDefault(),i.stopPropagation(),this.dragState={client:ta.from(i.clientX,i.clientY),position:ta.from(Number(n.style.getPropertyValue("left").replace("px","")),Number(n.style.getPropertyValue("top").replace("px",""))),detached:!0},e.classList.toggle(Ut.button.dragging,!0);let s=a=>this.onDrag(a,t),r=()=>{e.classList.toggle(Ut.button.dragging,!1),o.removeEventListener("mousemove",s)},o=je();o.addEventListener("mousemove",s),o.addEventListener("mouseup",r,{once:!0}),this.ctx.toolbarManager.groupMoved(t)}onDrag(i,e){let{elements:t,dragState:n}=this,s=t.floating,{offsetWidth:r,offsetHeight:o}=s,a=ta.sub(ta.from(i.clientX,i.clientY),n.client),l=ta.add(n.position,a),c=new G(l.x,l.y,r,o);this.positionGroup(s,e,c)}buttonId(i){let{id:e,value:t,label:n}=i;return e??(t!=null&&typeof t!="object"?String(t):n??"")}};m([ti(i=>{i.processPendingEvents(),i.toggleVisibilities()}),x(et)],qD.prototype,"enabled",2);var JD=1e3*60*60*24,Cf=JD*30,eO=JD*365,iO={enabled:!1,position:"left",align:"start",buttons:[{tooltip:"toolbarSeriesTypeDropdown",value:"type",haspopup:!0}]},nO={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu",section:"line-annotations",haspopup:!0},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu",section:"text-annotations",haspopup:!0},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu",section:"shape-annotations",haspopup:!0},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu",section:"measure-annotations",haspopup:!0},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},sO={enabled:!0,position:"floating",align:"start",draggable:!0,buttons:[{icon:"text-annotation",tooltip:"toolbarAnnotationsTextColor",value:"text-color",haspopup:!0},{icon:"line-color",tooltip:"toolbarAnnotationsLineColor",value:"line-color",haspopup:!0},{icon:"fill-color",tooltip:"toolbarAnnotationsFillColor",value:"fill-color",haspopup:!0},{tooltip:"toolbarAnnotationsTextSize",value:"text-size",haspopup:!0},{tooltip:"toolbarAnnotationsLineStrokeWidth",value:"line-stroke-width",haspopup:!0},{icon:"line-style-solid",tooltip:"toolbarAnnotationsLineStyle",value:"line-style-type",haspopup:!0},{icon:"settings",tooltip:"toolbarAnnotationsSettings",value:"settings",haspopup:!0},{role:"switch",icon:"unlocked",tooltip:"toolbarAnnotationsLock",ariaLabel:"toolbarAnnotationsLock",checkedOverrides:{icon:"locked",tooltip:"toolbarAnnotationsUnlock"},value:"lock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},rO={enabled:!1,position:Ac,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:Cf},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*Cf},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*Cf},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(i,e)=>[new Date(`${new Date(e).getFullYear()}-01-01`).getTime(),e],id:"year-to-date"},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:eO},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(i,e)=>[i,e],id:"all"}]},oO={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},aO={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],moduleFactory:i=>new qD(i),themeTemplate:{toolbar:{enabled:!0,seriesType:iO,annotations:nO,annotationOptions:sO,ranges:rO,zoom:oO}}};function lO(){er.register(zS,C1,m1,BS,aO,hR,bR,MR,wR,_R,RR,jR,SR);for(let i of[ba,yc,Wu,ma,Dc])gs.register(i.type,{moduleFactory:e=>new i(e),hidden:i===ma})}function cO(){for(let i of er.modules){if(i.packageType==="enterprise"&&!Ak(i)&&R.errorOnce("Unexpected enterprise module registered: "+i.identifier),i.type==="root"&&i.themeTemplate)for(let e of i.chartTypes)im.set(e,i.themeTemplate);if(i.type==="series"){if(i.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${i.identifier}`);Ri.register(i.identifier,i)}if(i.type==="series-option"&&i.themeTemplate)for(let e of i.seriesTypes)Ri.setThemeTemplate(e,i.themeTemplate);if(i.type==="axis-option"&&i.themeTemplate)for(let e of i.axisTypes){let t=gs.getThemeTemplate(e),n=xt(i.themeTemplate,t);gs.setThemeTemplate(e,n)}i.type==="axis"&&gs.register(i.identifier,i),i.type==="legend"&&lg.register(i.identifier,i)}if(er.hasEnterpriseModules()){let i=wk();i.length>0&&R.errorOnce("Enterprise modules expected but not registered: ",i)}}function dO(i){return i.type==="sankey"||i.type==="chord"}var uO=(()=>{let i=class extends gr{getChartType(){return"flow-proportion"}async updateData(){await super.updateData();let{nodes:e}=this.getOptions();this.series.forEach(t=>{dO(t)&&t.setChartNodes(e)})}performLayout(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s}=this,{layoutBox:r}=e,o=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r,t.visible=this.series.some(a=>a.visible);for(let a of[t,n,s])a.translationX=Math.floor(r.x),a.translationY=Math.floor(r.y),a.setClipRect(o.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:o,paddedRect:r}})}};return i.className="FlowProportionChart",i.type="flow-proportion",i})(),uo=class extends Qm{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(i,e){return null}computeRange(){}getAxisLinePoints(){}};m([x(Ft(["polygon","circle"],"a polar axis shape"))],uo.prototype,"shape",2);m([x(At)],uo.prototype,"innerRadiusRatio",2);function hO(i){return i.type==="radial-gauge"}function pO(i){return i.type==="linear-gauge"}var fO=(()=>{let i=class extends gr{getChartType(){return"gauge"}updateRadialGauge(e,t){let n=this.axes.find(T=>T.direction==="x");if(!(n instanceof uo))return;n.computeRange();let s=e.x,r=s+e.width,o=e.y,a=o+e.height,[l,c]=n.range,u=qM(c-l)>Math.PI,h=u||rn(1.5*Math.PI,l,c),p=u||rn(0*Math.PI,l,c),f=u||rn(.5*Math.PI,l,c),g=u||rn(1*Math.PI,l,c),y;g&&!p?y="right":!g&&p?y="left":y="center";let v;h&&!f?v="bottom":!h&&f?v="top":v="middle";let b=iy({startAngle:l,endAngle:c,innerRadius:0,outerRadius:.5}),M=-(b.x+b.width/2)*2,I=-(b.y+b.height/2)*2,{minimumRadius:D=0,maximumRadius:A}=t,w=Math.max(.5*Math.min(e.width/b.width,e.height/b.height),0),C=Math.min(A??1/0,Math.max(w,D??0)),_=8;for(let T=0;T<_;T+=1){let N=C<=D||T===_-1,j=e.x+e.width/2+M*C,B=e.y+e.height/2+I*C;n.translation.x=j,n.translation.y=B,n.gridLength=C,n.calculateLayout();let Z=n.computeLabelsBBox({hideWhenNecessary:N},e);if(N)break;let $=0;if(Z!=null){let Q=Z.x+j,it=Q+Z.width,rt=Z.y+B,ct=rt+Z.height;$=Math.max(o-rt,s-Q,ct-a,it-r,0)}if($>0)C=Math.max(C-$,D);else break}n.translation.x=e.x+e.width/2+M*C,n.translation.y=e.y+e.height/2+I*C,t.centerX=e.width/2+M*C,t.centerY=e.height/2+I*C,t.radius=C,t.textAlign=y,t.verticalAlign=v,(C===0||C>w)&&R.warnOnce("There was insufficient space to display the Radial Gauge.")}updateLinearGauge(e,t){let n=this.axes.find(v=>v.direction==="x"),s=this.axes.find(v=>v.direction==="y");if(!(n instanceof ar)||!(s instanceof ar))return e;let{horizontal:r,thickness:o}=t,a=0,l=0,c=new ln;c.domain=[0,100],c.range=r?n.range:s.range;let d=c.ticks();r?a=t.computeInset("x",d):l=t.computeInset("y",d);let u=e.width-Math.abs(a),h=e.height-Math.abs(l),p=Math.max(r?u:o,0),f=Math.max(r?o:h,0),g=e.x+(u-p)/2+Math.max(a,0),y=e.y+(h-f)/2-Math.min(l,0);n.range=[0,p],n.gridLength=p,n.calculateLayout(),n.translation.x=g,n.translation.y=y+(n.position==="bottom"?o:0),s.range=[0,f],s.gridLength=f,s.calculateLayout(),s.translation.x=g+(s.position==="right"?o:0),s.translation.y=y,t.originX=g-e.x,t.originY=y-e.y,(p===0||f===0)&&R.warnOnce("There was insufficient space to display the Linear Gauge.")}performLayout(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s,series:r,seriesArea:o}=this,{layoutBox:a}=e,l=a.clone();a.shrink(o.padding.toJson());let c=this.series[0];hO(c)?this.updateRadialGauge(a,c):pO(c)&&this.updateLinearGauge(a,c),this.axes.forEach(d=>d.update()),this.seriesRect=l.clone().translate(l.x-a.x,l.y-a.y),this.animationRect=a,t.visible=r.some(d=>d.visible);for(let d of[t,n,s])d.translationX=Math.floor(a.x),d.translationY=Math.floor(a.y);this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:t.visible,rect:l,paddedRect:a}})}getAriaLabel(){let e=[],t=this.getCaptionText();t.length!==0&&e.push(t);for(let s of this.series)e.push(s.getCaptionText());let n=e.join(". ");return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:n})}};return i.className="GaugeChart",i.type="gauge",i})(),mO=(()=>{let i=class extends gr{constructor(e,t){super(e,t)}getChartType(){return"hierarchy"}performLayout(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s}=this,{layoutBox:r}=e,o=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;for(let a of[t,n,s])a.translationX=Math.floor(r.x),a.translationY=Math.floor(r.y);t.visible=this.series[0].visible,t.setClipRect(r.clone()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:o,paddedRect:r}})}getAriaLabel(){let e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};return i.className="HierarchyChart",i.type="hierarchy",i})(),gO=(()=>{let i=class extends gr{constructor(e,t){super(e,t),this.padding=new mr(40),this.ctx.axisManager.axisGroup.zIndex=6}getChartType(){return"polar"}async performLayout(e){let{layoutBox:t}=e,n=t.clone();t.shrink(this.seriesArea.padding.toJson()),this.seriesRect=t,this.animationRect=t,await this.computeCircle(t),this.axes.forEach(s=>s.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:t}})}updateAxes(e,t,n){let s=this.axes.find(l=>l.direction==="x"),r=this.axes.find(l=>l.direction==="y");if(!(s instanceof uo)||!(r instanceof uo))return;let o=s.scale,a=r.innerRadiusRatio;s.innerRadiusRatio=a,s.computeRange(),s.gridLength=n,r.gridAngles=o.ticks?.().map(l=>o.convert(l)),r.gridRange=s.range,r.range=[n,n*a],[s,r].forEach(l=>{l.translation.x=e,l.translation.y=t,l.calculateLayout()})}async computeCircle(e){let t=this.series.filter(yO),n=this.axes.filter(bO),s=(d,u,h)=>{this.updateAxes(d,u,h),t.forEach(f=>{f.centerX=d,f.centerY=u,f.radius=h});let p=t.filter(f=>f.type==="donut"||f.type==="pie");if(p.length>1){let f=p.map(g=>{let y=g.getInnerRadius();return{series:g,innerRadius:y}}).sort((g,y)=>g.innerRadius-y.innerRadius);f.at(-1).series.surroundingRadius=void 0;for(let g=0;g<f.length-1;g++)f[g].series.surroundingRadius=f[g+1].innerRadius}},r=e.x+e.width/2,o=e.y+e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2),l=a;s(r,o,l);let c=async({hideWhenNecessary:d=!1}={})=>{let u=[];for(let f of Xs(n,t)){let g=await f.computeLabelsBBox({hideWhenNecessary:d},e);g&&u.push(g)}if(u.length===0){s(r,o,a);return}let h=G.merge(u),p=this.refineCircle(h,l,e);s(p.centerX,p.centerY,p.radius),l=p.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(let d of Xs(n,t))await d.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:l,centerX:r,centerY:o}}refineCircle(e,t,n){let r=-t,o=-t,a=t,l=t,c=Math.max(0,r-e.x),d=Math.max(0,o-e.y),u=Math.max(0,e.x+e.width-a),h=Math.max(0,e.y+e.height-l);c=u=Math.max(c,u),d=h=Math.max(d,h);let p=n.width-c-u,f=n.height-d-h,g=Math.min(p,f)/2,y=.5*n.width/2,v=.5*n.height/2,b=Math.min(y,v);if(g<b){g=b;let D=c+u,A=d+h;if(2*g+A>n.height){let w=n.height-2*g;Math.min(d,h)*2>w?(d=w/2,h=w/2):d>h?d=w-h:h=w-d}if(2*g+D>n.width){let w=n.width-2*g;Math.min(c,u)*2>w?(c=w/2,u=w/2):c>u?c=w-u:u=w-c}}let M=c+2*g+u,I=d+2*g+h;return{centerX:n.x+(n.width-M)/2+c+g,centerY:n.y+(n.height-I)/2+d+g,radius:g}}};return i.className="PolarChart",i.type="polar",i})();function yO(i){return i instanceof th}function bO(i){return i instanceof uo}var vO=(()=>{let i=class extends gr{constructor(e,t){super(e,t)}getChartType(){return"standalone"}performLayout(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s}=this,{layoutBox:r}=e,o=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;for(let a of[t,n,s])a.translationX=Math.floor(r.x),a.translationY=Math.floor(r.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:o,paddedRect:r}})}getAriaLabel(){let e=this.getCaptionText();return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:e})}};return i.className="StandaloneChart",i.type="standalone",i})(),ih=Math.PI/180,_f=i=>i*ih,Ef=i=>-Math.log(Math.tan(Math.PI*.25+i*ih*.5)),Tf=i=>i/ih,Lf=i=>(Math.atan(Math.exp(-i))-Math.PI*.25)/(ih*.5),um=class hm{constructor(e,t){this.domain=e,this.range=t,this.type="mercator",this.bounds=hm.bounds(e)}static bounds(e){let[[t,n],[s,r]]=e,o=_f(t),a=Ef(n),l=_f(s),c=Ef(r);return new G(Math.min(o,l),Math.min(a,c),Math.abs(l-o),Math.abs(c-a))}static fixedScale(){return new hm([[Tf(0),Lf(0)],[Tf(1),Lf(1)]],[[0,0],[1,1]])}convert([e,t]){let[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[(_f(e)-this.bounds.x)*a+n,(Ef(t)-this.bounds.y)*l+s]}invert([e,t]){let[[n,s],[r,o]]=this.range,a=(r-n)/this.bounds.width,l=(o-s)/this.bounds.height;return[Tf((e-n)/a+this.bounds.x),Lf((t-s)/l+this.bounds.y)]}};function wx(i){return i.type==="map-shape"||i.type==="map-line"||i.type==="map-marker"||i.type==="map-shape-background"||i.type==="map-line-background"}var xO=(()=>{let i=class extends gr{constructor(e,t){super(e,t),this.xAxis=new ba(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new ba(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}getChartType(){return"topology"}async updateData(){await super.updateData();let{topology:e}=this.getOptions();this.series.forEach(t=>{wx(t)&&t.setChartTopology(e)})}performLayout(e){let{seriesRoot:t,annotationRoot:n,highlightRoot:s}=this,{layoutBox:r}=e,o=r.clone();r.shrink(this.seriesArea.padding.toJson()),this.seriesRect=r,this.animationRect=r;let a=this.series.filter(wx),l=a.reduce((u,h)=>{if(!h.visible)return u;let p=h.topologyBounds;return p==null?u:u==null?p:(u.merge(p),u)},void 0),c;if(l!=null){let{lon0:u,lat0:h,lon1:p,lat1:f}=l,g=[[u,h],[p,f]],y=um.bounds(g),{width:v,height:b}=r,M=Math.min(v/y.width,b/y.height),I=y.width*M,D=y.height*M,A=(v-I)/2,w=(b-D)/2,C=A,_=w,T=A+I,N=w+D,j=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),B=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),Z=(T-C)/(j.max-j.min),$=C-Z*j.min,Q=(N-_)/(1-B.min-(1-B.max)),it=_-Q*(1-B.max);c=new um(g,[[$,it],[$+Z,it+Q]])}a.forEach(u=>{u.scale=c});let d=this.series.some(u=>u.visible);t.visible=d;for(let u of[t,n,s])u.translationX=Math.floor(r.x),u.translationY=Math.floor(r.y),u.setClipRect(r.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:d,rect:o,paddedRect:r}})}};return i.className="TopologyChart",i.type="topology",i})();var oo=Symbol("IGNORED_PROP");function sr(i,e){let t={};for(let n in e){let s=e[n];s!==oo&&Object.hasOwn(i,n)&&(t[n]=s)}return t}function MO(i){return i.type==="radial-gauge"}function IO(i){return i.type==="linear-gauge"}function SO(i){let Yi=i,{animation:e,background:t,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:f,width:g,type:y,cursor:v,nodeClickRange:b,tooltip:M,value:I,scale:D={},startAngle:A,endAngle:w,highlightStyle:C,segmentation:_,bar:T,needle:N,targets:j,outerRadius:B,innerRadius:Z,outerRadiusRatio:$,innerRadiusRatio:Q,cornerRadius:it,cornerMode:rt,label:ct,secondaryLabel:bt,spacing:nt}=Yi,ht=_t(Yi,["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","startAngle","endAngle","highlightStyle","segmentation","bar","needle","targets","outerRadius","innerRadius","outerRadiusRatio","innerRadiusRatio","cornerRadius","cornerMode","label","secondaryLabel","spacing"]);let Dr=D,{fills:Nt,fillMode:vt,fill:Qt,fillOpacity:K,stroke:L,strokeWidth:H,strokeOpacity:W,lineDash:X,lineDashOffset:lt,min:Dt=0,max:Mt=1,interval:se={},label:pe={}}=Dr,Be=_t(Dr,["fills","fillMode","fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset","min","max","interval","label"]);let Ve=sr(i,{animation:e,background:t,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:f,width:g}),kt=sr(D,{fills:Nt,fillMode:vt,fill:Qt,fillOpacity:K,stroke:L,strokeWidth:H,strokeOpacity:W,lineDash:X,lineDashOffset:lt}),re=sr(i,S({startAngle:oo,endAngle:oo,needle:N!=null?S({enabled:!0},N):oo,scale:kt,type:y,cursor:v,nodeClickRange:b,listeners:a,tooltip:M,value:I,highlightStyle:C,segmentation:_,bar:T,targets:j,outerRadius:B,innerRadius:Z,outerRadiusRatio:$,innerRadiusRatio:Q,cornerRadius:it,cornerMode:rt,label:ct,secondaryLabel:bt,spacing:nt},ht)),fe=[{type:"angle-number",min:Dt,max:Mt,startAngle:A,endAngle:w,interval:se??{},label:pe??{}},{type:"radius-number"}];return E(S({},Ve),{series:[re],axes:fe})}function DO(i){let Yi=i,{animation:e,background:t,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:f,width:g,type:y,cursor:v,nodeClickRange:b,tooltip:M,value:I,scale:D={},direction:A="vertical",thickness:w,highlightStyle:C,segmentation:_,bar:T,targets:N,cornerRadius:j,cornerMode:B,label:Z}=Yi,$=_t(Yi,["animation","background","container","contextMenu","footnote","height","listeners","locale","minHeight","minWidth","padding","subtitle","theme","title","width","type","cursor","nodeClickRange","tooltip","value","scale","direction","thickness","highlightStyle","segmentation","bar","targets","cornerRadius","cornerMode","label"]);let Dr=D,{fills:Q,fillMode:it,fill:rt,fillOpacity:ct,stroke:bt,strokeWidth:nt,strokeOpacity:ht,lineDash:Nt,lineDashOffset:vt,min:Qt=0,max:K=1,interval:L={},label:H={}}=Dr,W=_t(Dr,["fills","fillMode","fill","fillOpacity","stroke","strokeWidth","strokeOpacity","lineDash","lineDashOffset","min","max","interval","label"]);let X=sr(i,{animation:e,background:t,container:n,contextMenu:s,footnote:r,height:o,listeners:a,locale:l,minHeight:c,minWidth:d,padding:u,subtitle:h,theme:p,title:f,width:g}),lt=sr(D,{fills:Q,fillMode:it,fill:rt,fillOpacity:ct,stroke:bt,strokeWidth:nt,strokeOpacity:ht,lineDash:Nt,lineDashOffset:vt}),Dt=sr(i,S({scale:lt,type:y,cursor:v,nodeClickRange:b,listeners:a,tooltip:M,value:I,direction:A,thickness:w,highlightStyle:C,segmentation:_,bar:T,targets:N,cornerRadius:j,cornerMode:B,label:Z},$)),Ay=H,{placement:Mt}=Ay,se=_t(Ay,["placement"]),pe,Be,Ve=A==="horizontal";Ve?(pe=Mt==="before"?"top":"bottom",Be="left"):(pe=Mt==="after"?"right":"left",Be="bottom");let kt={type:"number",position:pe,min:Qt,max:K,reverse:!Ve,interval:L,label:se,nice:!1},re={type:"number",position:Be,min:0,max:1,label:{enabled:!1}},fe=Ve?[kt,re]:[re,kt];return E(S({},X),{series:[Dt],axes:fe})}function Cx(i,e){if(e==null)return i;let s=e,{targets:t}=s,n=_t(s,["targets"]);return i=xt(i,n),i.targets!=null&&t!=null&&(i.targets=Kd(i.targets,t)),i}function AO(i,e){if(MO(i)){let v=Cx(i,e);return SO(v)}else if(IO(i)){let v=Cx(i,e);return DO(v)}let{animation:t,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:f,title:g,width:y}=i;return sr(i,{animation:t,background:n,container:s,contextMenu:r,footnote:o,height:a,listeners:l,locale:c,minHeight:d,minWidth:u,padding:h,subtitle:p,theme:f,title:g,width:y})}function Ae(i,e){if(hi(i))return e(i)}var wO=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"];function CO(i,e,t){let $=i,{xKey:n,dateKey:s=n??"date",highKey:r="high",openKey:o="open",lowKey:a="low",closeKey:l="close",volumeKey:c="volume",chartType:d="candlestick",navigator:u=!1,volume:h=!0,rangeToolbar:p,rangeButtons:f=p??!0,statusBar:g=!0,annotations:y,toolbar:v=y??!0,zoom:b=!0,theme:M,data:I}=$,D=_t($,["xKey","dateKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeToolbar","rangeButtons","statusBar","annotations","toolbar","zoom","theme","data"]);n!=null&&R.warnOnce("Property [xKey] is deprecated, use [dateKey] instead."),p!=null&&R.warnOnce("Property [rangeToolbar] is deprecated, use [rangeButtons] instead."),y!=null&&R.warnOnce("Property [annotations] is deprecated, use [toolbar] instead.");let A=EO(M,d,s,r,a,o,l),w=_O(M,t,o,l,h,c),_={navigator:S({enabled:u},h?{miniChart:{enabled:u,series:[{type:"line",xKey:s,yKey:c,marker:{enabled:!1}}]}}:null)},T={annotations:{enabled:v,data:I,xKey:s,volumeKey:h?c:void 0}},N=g?{statusBar:{enabled:!0,data:I,highKey:r,openKey:o,lowKey:a,closeKey:l,volumeKey:h?c:void 0}}:null,j={zoom:{enabled:b,enableIndependentAxes:!0}},B={chartToolbar:{enabled:!0},toolbar:{seriesType:{enabled:v},annotationOptions:{enabled:v},annotations:{enabled:v},ranges:{enabled:f}}},Z=h?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"}}]:[];return S(S(S(S(S(S({theme:S({baseTheme:typeof M=="string"?M:"ag-financial"},xt(typeof M=="object"?M:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:5}}}})),animation:{enabled:!1},legend:{enabled:!1},series:[...w,...A],axes:[{type:"number",position:"right",keys:[o,l,r,a],interval:{maxSpacing:Ae(M,Q=>Q.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:Ae(M,Q=>Q.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...Z,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:I},T),_),N),j),B),D)}function _O(i,e,t,n,s,r){if(!s)return[];let o=Ae(i,l=>l.overrides?.bar?.series?.fill),a=o?{fill:o}:{itemStyler({datum:l}){let{up:c,down:d}=e().palette;return{fill:l[t]<l[n]?c?.fill:d?.fill}}};return[S({type:"bar",xKey:"date",yKey:r,focusPriority:1,tooltip:{enabled:!1},highlight:{enabled:!1},fillOpacity:Ae(i,l=>l.overrides?.bar?.series?.fillOpacity)??.5},a)]}var Rd="range-area";function EO(i,e,t,n,s,r,o){e===Rd&&(R.warnOnce(`type '${e}' is deprecated, use 'hlc' chart type instead`),e="hlc");let a={xKey:t,openKey:r,closeKey:o,highKey:n,lowKey:s},l={xKey:t,yKey:o},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return[S(S({type:"ohlc",focusPriority:0},c),a)];case"line":return[E(S(S({type:"line",focusPriority:0},c),l),{stroke:Ae(i,d=>d.overrides?.line?.series?.stroke)??Yl,marker:Ae(i,d=>d.overrides?.line?.series?.marker)??{enabled:!1}})];case"step-line":return[E(S(S({type:"line",focusPriority:0},c),l),{stroke:Ae(i,d=>d.overrides?.line?.series?.stroke)??Yl,interpolation:Ae(i,d=>d.overrides?.line?.series?.interpolation)??{type:"step"},marker:Ae(i,d=>d.overrides?.line?.series?.marker)??{enabled:!1}})];case"hlc":{let d=_x(Rd,i);return[E(S({type:Rd,focusPriority:0},c),{xKey:t,yHighKey:n,yLowKey:o,fill:d.fill??wg,stroke:d.stroke??Dg,fillOpacity:Ae(i,u=>u.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Ae(i,u=>u.overrides?.["range-area"]?.series?.strokeWidth)??2}),E(S({type:Rd,focusPriority:0},c),{xKey:t,yHighKey:o,yLowKey:s,fill:d.fill??Cg,stroke:d.stroke??Ag,fillOpacity:Ae(i,u=>u.overrides?.["range-area"]?.series?.fillOpacity)??.3,strokeWidth:Ae(i,u=>u.overrides?.["range-area"]?.series?.strokeWidth)??2}),E(S(S({type:"line"},c),l),{stroke:Ae(i,u=>u.overrides?.line?.series?.stroke)??Eg,strokeWidth:Ae(i,u=>u.overrides?.line?.series?.strokeWidth)??2,marker:Ae(i,u=>u.overrides?.line?.series?.marker)??{enabled:!1}})]}case"high-low":{let d=_x("range-bar",i);return[E(S({type:"range-bar",focusPriority:0},c),{xKey:t,yHighKey:n,yLowKey:s,fill:d.fill??_g,stroke:d.stroke??Yl,tooltip:{range:"nearest"}})]}case"candlestick":return[S(S({type:"candlestick",focusPriority:0},c),a)];case"hollow-candlestick":{let d=Ae(i,u=>u.overrides?.candlestick?.series?.item);return[E(S(S({type:"candlestick",focusPriority:0},c),a),{item:{up:{fill:d?.up?.fill??"transparent"}}})]}default:return R.warnOnce(`unknown chart type: ${e}; expected one of: ${wO.join(", ")}`),[S(S({type:"candlestick",focusPriority:0},c),a)]}}function _x(i,e){let t=Ae(e,s=>s.overrides?.[i]?.series?.fill),n=Ae(e,s=>s.overrides?.[i]?.series?.stroke);return{fill:t,stroke:n}}var tA={line:{enabled:!1},title:{enabled:!1},label:{enabled:!1},crosshair:{enabled:!1,strokeOpacity:.25,lineDash:[0],label:{enabled:!1}}},Nf=E(S({},tA),{nice:!1}),Od={bottom:{crosshair:{enabled:Sg}}},Ex={category:Od,number:Od,log:Od,time:Od},Tx={position:{type:"sparkline"}},TO={overrides:{common:{animation:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:E(S({},Nf),{interval:{values:[0]}}),log:S({},Nf),time:S({},Nf),category:E(S({},tA),{gridLine:{enabled:!1}})}},bar:{series:{sparklineMode:!0},tooltip:{range:"nearest"}},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},axes:Ex,series:{strokeWidth:1,marker:{enabled:!1,size:3},tooltip:Tx}},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},axes:Ex,series:{strokeWidth:1,fillOpacity:.4,tooltip:Tx}}}};function eA(i,e){return typeof i=="string"?E(S({},e),{baseTheme:i}):i!=null?E(S({},i),{baseTheme:eA(i.baseTheme,e)}):e}function LO(i){let b=i,{background:e,container:t,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,padding:l,width:c,theme:d,data:u,xAxis:h,yAxis:p}=b,f=_t(b,["background","container","height","listeners","locale","minHeight","minWidth","padding","width","theme","data","xAxis","yAxis"]);let g=f,y=g.type!=="bar"||g.direction!=="horizontal",v=sr(i,{background:e,container:t,height:n,listeners:s,locale:r,minHeight:o,minWidth:a,padding:l,width:c,data:u,xAxis:oo,yAxis:oo,theme:oo});return v.theme=eA(d,TO),v.series=[g],v.axes=y?[E(S({type:"number"},p),{position:"left"}),E(S({type:"category"},h),{position:"bottom"})]:[E(S({type:"category"},h),{position:"left"}),E(S({type:"number"},p),{position:"bottom"})],v}var NO={"price-volume":CO,gauge:AO,sparkline:LO};function Lx(i,e){let t=[],n=Gu(i),s=ws(i),r=s?Zt.get(s):"unknown";for(let{type:o,chartTypes:a,optionsKey:l,optionsInnerKey:c,identifier:d}of wa)if(!(r!=="unknown"&&!a.includes(r))){if(o==="root"||o==="legend"){let u=i[l];if(u==null)continue;c?u[c]&&(t.push(`${l}.${c}`),delete u[c]):(t.push(l),delete i[l])}else if(o==="axis"){if(!("axes"in i)||!i.axes?.some(u=>u.type===d))continue;t.push(`axis[type=${d}]`),i.axes=i.axes.filter(u=>u.type!==d)}else if(o==="axis-option"){if(!("axes"in i)||!i.axes?.some(u=>u[l]))continue;t.push(`axis.${l}`),i.axes.forEach(u=>{u[l]&&delete u[l]})}else if(o==="series"){if(!i.series?.some(u=>u.type===d))continue;t.push(`series[type=${d}]`),i.series=i.series.filter(u=>u.type!==d)}else if(o==="series-option"){if(!i.series?.some(u=>u[l]))continue;t.push(`series.${l}`),i.series.forEach(u=>{u[l]&&delete u[l]})}}if(t.length&&!e){n&&(t=["AgCharts.createGauge"]);let o="ag-charts-enterprise",a="https://ag-grid.com/charts/javascript/installation/";i.mode==="integrated"&&(o="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),R.warnOnce([`unable to use these enterprise features as '${o}' has not been loaded:`,"",...t,"",`See: ${a}`].join(`
`))}}function kO(i,e=1/0){switch(typeof i){case"undefined":return"undefined";case"number":if(isNaN(i))return"NaN";if(i===1/0)return"Infinity";if(i===-1/0)return"-Infinity";default:return i=JSON.stringify(i),i.length>e?`${i.slice(0,e)}... (+${i.length-e} characters)`:i}}var nh=Symbol("description"),RO=Symbol("required");function OO(i,e,t){let{errors:n}=iA(i,e,t);for(let{message:s}of n)R.warn(s);return n.length===0}function Nx(i,e,t){let n=Mi(t)?t:t[nh],s=n?`; expecting ${n}`:"";return`${i?`Option \`${i}\``:"Value"} cannot be set to \`${kO(e)}\`${s}, ignoring.`}function iA(i,e,t=""){if(!hi(i))return{valid:null,errors:[{path:t,value:i,message:Nx(t,i,"an object")}]};let n=new Set(Object.keys(i)),s=[],r={};function o(a){return qt(e)?`${t}[${a}]`:t?`${t}.${a}`:a}for(let[a,l]of Object.entries(e)){n.delete(a);let c=i[a];if(!(!l[RO]&&typeof c>"u"))if(Ms(l))l(c)?r[a]=c:s.push({key:a,path:t,value:c,message:Nx(o(a),c,l)});else{let d=iA(c,l,o(a));r[a]=d.valid,s.push(...d.errors)}}for(let a of n)s.push({key:a,path:t,unknown:!0,message:`Unknown option \`${o(a)}\`, ignoring.`});return{valid:r,errors:s}}function qn(i,e){return Object.assign(t=>i(t),{[nh]:e})}var PO=(...i)=>qn(e=>i.some(t=>t(e)),i.map(e=>e[nh]).filter(Boolean).join(" or ")),Mz=qn(qt,"an array"),Iz=qn(Cm,"a boolean"),Sz=qn(Ms,"a function"),Dz=qn(It,"a number"),kx=qn(hi,"an object"),cs=qn(Mi,"a string"),nA=(i,e=!0)=>qn(t=>It(t)&&(t>i||e&&t===i),`a number greater than ${e?"or equal to ":""}${i}`),sA=(i,e)=>qn(t=>It(t)&&t>=i&&t<=e,`a number between ${i} and ${e} inclusive`),Az=nA(0),wz=nA(1),Cz=sA(0,1),_z=sA(0,360),Rx=(i,e)=>qn(t=>qt(t)&&t.every(i),e??`${i[nh]} array`);function pm(i){return i?.up||i?.down||i?.neutral?"user-full":i?.fills||i?.strokes?"user-indexed":"inbuilt"}var Pd="white",fm={get cartesian(){return{seriesTypes:Zt.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:Zt.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:Zt.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:Zt.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:Zt.flowProportionTypes,commonOptions:[]}},get standalone(){return{seriesTypes:Zt.standaloneTypes,commonOptions:[]}},get gauge(){return{seriesTypes:Zt.gaugeTypes,commonOptions:[]}}},jO={"radial-gauge":!0,"linear-gauge":!0};function Ox(i){return jO[i]===!0}var FO=Object.values(fm).reduce((i,{commonOptions:e})=>i.concat(e),[]),tn=class rA{static getAxisDefaults(e){return xt(e,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:de,color:Oe},label:{fontSize:12,fontFamily:de,padding:5,color:Oe,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Hd},tick:{enabled:!1,width:1,stroke:Hd},gridLine:{enabled:!0,style:[{stroke:va,lineDash:[]}]},crossLines:{enabled:!1,fill:Hl,stroke:Hl,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:de,padding:5,color:Oe}},crosshair:{enabled:!0}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:lu},padding:{top:Zs,right:Zs,bottom:Zs,left:Zs},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:de,color:Oe,wrapping:"hyphenate",layoutStyle:Qr,textAlign:qr},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:de,color:no,wrapping:"hyphenate",layoutStyle:Qr,textAlign:qr},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:de,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:Qr,textAlign:qr},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:Oe,fontSize:12,fontFamily:de}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:Oe},inactiveStyle:{fill:no},highlightStyle:{fill:Oe},label:{color:Oe}}},tooltip:{enabled:!0,darkTheme:Gl,delay:0},overlays:{darkTheme:Gl},listeners:{}}}constructor(e={}){let{overrides:t,palette:n}=Pe(e),s=this.createChartConfigPerChartType(this.getDefaults()),r={};t&&this.mergeOverrides(s,r,t);let c=this.getDefaultColors(),{fills:o,strokes:a}=c,l=_t(c,["fills","strokes"]);this.palette=xt(n,S({fills:Object.values(o),strokes:Object.values(a)},l)),this.paletteType=pm(n),this.config=Object.freeze(this.templateTheme(s)),this.presets=r}mergeOverrides(e,t,n){for(let{seriesTypes:s,commonOptions:r}of Object.values(fm)){let o=S({},n.common);for(let a of FO)r.includes(a)||delete o[a];if(o)for(let a of s){let l=a;Ox(l)||(e[l]=xt(o,e[l]))}}Zt.seriesTypes.forEach(s=>{let r=s,o=n[r];Ox(r)?t[r]=o:e[r]=xt(o,e[r])})}createChartConfigPerChartType(e){for(let[t,{seriesTypes:n}]of Object.entries(fm)){let s=im.get(t);for(let r of n)e[r]||(e[r]=Pe(s))}return e}getDefaults(){let e=(t,n)=>{let s={},r=S(S(S({axes:{}},lg.getThemeTemplates()),this.getChartDefaults()),im.get(t));for(let o of n){s[o]=xt(Ri.getThemeTemplate(o),s[o]??Pe(r));let{axes:a}=s[o];for(let l of gs.keys())a[l]=xt(a[l],gs.getThemeTemplate(l),rA.cartesianAxisDefault[l])}return s};return xt(e("cartesian",Zt.cartesianTypes),e("polar",Zt.polarTypes),e("hierarchy",Zt.hierarchyTypes),e("topology",Zt.topologyTypes),e("flow-proportion",Zt.flowProportionTypes),e("standalone",Zt.standaloneTypes),e("gauge",Zt.gaugeTypes))}templateTheme(e){let t=Pe(e),n=this.getTemplateParameters();return Gn(t,s=>{if(qt(s))for(let r=0;r<s.length;r++){let o=s[r];n.has(o)&&(s[r]=n.get(o))}else for(let[r,o]of Object.entries(s))n.has(o)&&(s[r]=n.get(o))}),Pe(t)}getDefaultColors(){return{fills:De,strokes:zn,up:{fill:De.GREEN,stroke:zn.GREEN},down:{fill:De.RED,stroke:zn.RED},neutral:{fill:De.GRAY,stroke:zn.GRAY},altUp:{fill:De.BLUE,stroke:zn.BLUE},altDown:{fill:De.ORANGE,stroke:zn.ORANGE},altNeutral:{fill:De.GRAY,stroke:zn.GRAY}}}getTemplateParameters(){let{isEnterprise:e}=Un,t=new Map;t.set(Gl,!1),t.set(Sg,e),t.set(ZS,!e),t.set(de,"Verdana, sans-serif"),t.set(Oe,"rgb(70, 70, 70)"),t.set($S,"white"),t.set(no,"rgb(140, 140, 140)"),t.set(va,"rgb(224,234,241)"),t.set(Hd,"rgb(195, 195, 195)"),t.set(Hl,"rgb(70, 70, 70)"),t.set(Do,Pd),t.set(lu,Pd),t.set(Ao,"rgba(0, 0, 0, 0.5)"),t.set(Ui,[De.ORANGE,De.YELLOW,De.GREEN]),t.set(En,[De.GREEN,De.YELLOW,De.RED]),t.set(Es,["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"]),t.set(Zs,20),t.set(Qr,"block"),t.set(qr,"center"),t.set(Lg,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),t.set(Ng,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),t.set(Tg,Pd),t.set(Gi,De.BLUE),t.set(kg,De.BLUE),t.set(Hi,De.BLUE),t.set(Rg,Pd),t.set(Og,"#fafafa"),t.set(Pg,"#dddddd"),t.set(jg,"#000000"),t.set(Fg,"#181d1f"),t.set(tD,"#e35c5c"),t.set(eD,"#e35c5c"),t.set(zg,"#fafafa"),t.set(Bg,"#dddddd"),t.set(Vg,"#000000"),t.set(Ac,"top"),t.set(hs,!1);let n=this.getDefaultColors();return t.set(Dg,this.palette.up?.stroke??n.up.stroke),t.set(wg,this.palette.up?.fill??n.up.fill),t.set(Ag,this.palette.down?.stroke??n.down.stroke),t.set(Cg,this.palette.down?.fill??n.down.fill),t.set(Yl,this.palette.neutral?.stroke??n.neutral.stroke),t.set(_g,this.palette.neutral?.fill??n.neutral.fill),t.set(KS,this.palette.altUp?.stroke??n.up.stroke),t.set(QS,this.palette.altUp?.fill??n.up.fill),t.set(XS,this.palette.altDown?.stroke??n.down.stroke),t.set(qS,this.palette.altDown?.fill??n.down.fill),t.set(JS,this.palette.altNeutral?.fill??n.altNeutral.fill),t.set(Eg,this.palette.altNeutral?.stroke??n.altNeutral.stroke),t}};tn.cartesianAxisDefault={number:tn.getAxisDefaults({line:{enabled:!1}}),log:tn.getAxisDefaults({base:10,line:{enabled:!1},interval:{minSpacing:NaN}}),category:tn.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:hs},crosshair:{enabled:!1}}),time:tn.getAxisDefaults({gridLine:{enabled:hs}}),"ordinal-time":tn.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:hs}}),"angle-category":tn.getAxisDefaults({gridLine:{enabled:hs}}),"angle-number":tn.getAxisDefaults({gridLine:{enabled:hs}}),"radius-category":tn.getAxisDefaults({line:{enabled:!1}}),"radius-number":tn.getAxisDefaults({line:{enabled:!1}}),"grouped-category":tn.getAxisDefaults({tick:{enabled:!0}})};var Ls=tn,jd="#192232",si={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},Fr={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},ja=class extends Ls{getDefaultColors(){return{fills:si,strokes:Fr,up:{fill:si.GREEN,stroke:Fr.GREEN},down:{fill:si.RED,stroke:Fr.RED},neutral:{fill:si.GRAY,stroke:Fr.GRAY},altUp:{fill:si.BLUE,stroke:Fr.BLUE},altDown:{fill:si.ORANGE,stroke:Fr.ORANGE},altNeutral:{fill:si.GRAY,stroke:Fr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Gl,!0),i.set(Tg,jd),i.set(Oe,"white"),i.set(no,"#7D91A0"),i.set(va,"#545A6E"),i.set(Hl,"white"),i.set(Ui,[si.ORANGE,si.YELLOW,si.GREEN]),i.set(En,[si.GREEN,si.YELLOW,si.RED]),i.set(Es,["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"]),i.set(Lg,["#192834","#253746","#324859","#3f596c","#4d6a80"]),i.set(Ng,["#192834","#3b5164","#496275","#577287","#668399"]),i.set(lu,jd),i.set(Do,jd),i.set(Gi,si.BLUE),i.set(kg,"white"),i.set(Hi,si.BLUE),i.set(Rg,jd),i.set(Og,"#28313e"),i.set(Pg,"#4b525d"),i.set(jg,"#ffffff"),i.set(Fg,"#ffffff"),i.set(zg,"#28313e"),i.set(Bg,"#4b525d"),i.set(Vg,"#ffffff"),i}constructor(i){super(i)}},qi={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},zr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},zO=class extends ja{getDefaultColors(){return{fills:S({},qi),strokes:S({},zr),up:{fill:qi.GREEN,stroke:zr.GREEN},down:{fill:qi.RED,stroke:zr.RED},neutral:{fill:qi.BLUE,stroke:zr.BLUE},altUp:{fill:qi.GREEN,stroke:zr.GREEN},altDown:{fill:qi.RED,stroke:zr.RED},altNeutral:{fill:qi.GRAY,stroke:zr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[qi.GREEN,qi.BLUE,qi.RED]),i.set(Gi,qi.BLUE),i.set(Hi,qi.BLUE),i.set(va,"#343A4E"),i.set(Zs,0),i.set(Qr,"overlay"),i.set(qr,"left"),i.set(Ac,"bottom"),i.set(hs,!0),i}},Ji={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},Br={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},BO=class extends Ls{getDefaultColors(){return{fills:S({},Ji),strokes:S({},Br),up:{fill:Ji.GREEN,stroke:Br.GREEN},down:{fill:Ji.RED,stroke:Br.RED},neutral:{fill:Ji.BLUE,stroke:Br.BLUE},altUp:{fill:Ji.GREEN,stroke:Br.GREEN},altDown:{fill:Ji.RED,stroke:Br.RED},altNeutral:{fill:Ji.GRAY,stroke:Br.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[Ji.GREEN,Ji.BLUE,Ji.RED]),i.set(Gi,Ji.BLUE),i.set(Hi,Ji.BLUE),i.set(va,"#F2F3F3"),i.set(Zs,0),i.set(Qr,"overlay"),i.set(qr,"left"),i.set(Ac,"bottom"),i.set(hs,!0),i}},ri={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Vr={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},VO=class extends ja{getDefaultColors(){return{fills:ri,strokes:Vr,up:{fill:ri.GREEN,stroke:Vr.GREEN},down:{fill:ri.RED,stroke:Vr.RED},neutral:{fill:ri.GRAY,stroke:Vr.GRAY},altUp:{fill:ri.BLUE,stroke:Vr.BLUE},altDown:{fill:ri.RED,stroke:Vr.RED},altNeutral:{fill:ri.GRAY,stroke:Vr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[ri.ORANGE,ri.YELLOW,ri.GREEN]),i.set(Es,["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"]),i.set(En,[ri.GREEN,ri.YELLOW,ri.RED]),i.set(Gi,ri.BLUE),i.set(Hi,ri.BLUE),i}},oi={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},Ur={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},UO=class extends Ls{getDefaultColors(){return{fills:oi,strokes:Ur,up:{fill:oi.GREEN,stroke:Ur.GREEN},down:{fill:oi.RED,stroke:Ur.RED},neutral:{fill:oi.GRAY,stroke:Ur.GRAY},altUp:{fill:oi.BLUE,stroke:Ur.BLUE},altDown:{fill:oi.RED,stroke:Ur.RED},altNeutral:{fill:oi.GRAY,stroke:Ur.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[oi.ORANGE,oi.YELLOW,oi.GREEN]),i.set(Es,["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"]),i.set(En,[oi.GREEN,oi.YELLOW,oi.RED]),i.set(Gi,oi.BLUE),i.set(Hi,oi.BLUE),i}},ye={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Gr={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},GO=class extends ja{getDefaultColors(){return{fills:ye,strokes:Gr,up:{fill:ye.GREEN,stroke:Gr.GREEN},down:{fill:ye.RED,stroke:Gr.RED},neutral:{fill:ye.GRAY,stroke:Gr.GRAY},altUp:{fill:ye.BLUE,stroke:Gr.BLUE},altDown:{fill:ye.RED,stroke:Gr.RED},altNeutral:{fill:ye.GRAY,stroke:Gr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[ye.BLUE,ye.RED]),i.set(Es,[ye.BLUE,ye.PURPLE,ye.MAGENTA,ye.PINK,ye.RED,ye.ORANGE,ye.YELLOW,ye.GREEN]),i.set(En,[ye.BLUE,ye.RED]),i.set(Gi,ye.BLUE),i.set(Hi,ye.BLUE),i}},be={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},Hr={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},HO=class extends Ls{getDefaultColors(){return{fills:be,strokes:Hr,up:{fill:be.GREEN,stroke:Hr.GREEN},down:{fill:be.RED,stroke:Hr.RED},neutral:{fill:be.GRAY,stroke:Hr.GRAY},altUp:{fill:be.BLUE,stroke:Hr.BLUE},altDown:{fill:be.RED,stroke:Hr.RED},altNeutral:{fill:be.GRAY,stroke:Hr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[be.BLUE,be.RED]),i.set(Es,[be.BLUE,be.PURPLE,be.MAGENTA,be.PINK,be.RED,be.ORANGE,be.YELLOW,be.GREEN]),i.set(En,[be.BLUE,be.RED]),i.set(Gi,be.BLUE),i.set(Hi,be.BLUE),i}},qe={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Hs={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},YO=class extends ja{getDefaultColors(){return{fills:E(S({},qe),{RED:qe.ORANGE}),strokes:E(S({},Hs),{RED:Hs.ORANGE}),up:{fill:qe.GREEN,stroke:Hs.GREEN},down:{fill:qe.ORANGE,stroke:Hs.ORANGE},neutral:{fill:qe.GRAY,stroke:Hs.GRAY},altUp:{fill:qe.BLUE,stroke:Hs.BLUE},altDown:{fill:qe.ORANGE,stroke:Hs.ORANGE},altNeutral:{fill:qe.GRAY,stroke:Hs.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[qe.ORANGE,qe.YELLOW,qe.GREEN]),i.set(En,[qe.GREEN,qe.YELLOW,qe.ORANGE]),i.set(Gi,qe.BLUE),i.set(Hi,qe.BLUE),i}},ai={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},ds={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},WO=class extends Ls{getDefaultColors(){return{fills:E(S({},ai),{RED:ai.ORANGE}),strokes:E(S({},ds),{RED:ds.ORANGE}),up:{fill:ai.GREEN,stroke:ds.GREEN},down:{fill:ai.ORANGE,stroke:ds.ORANGE},neutral:{fill:ds.GRAY,stroke:ds.GRAY},altUp:{fill:ai.BLUE,stroke:ds.BLUE},altDown:{fill:ai.ORANGE,stroke:ds.ORANGE},altNeutral:{fill:ai.GRAY,stroke:ds.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[ai.ORANGE,ai.YELLOW,ai.GREEN]),i.set(En,[ai.GREEN,ai.YELLOW,ai.ORANGE]),i.set(Gi,ai.BLUE),i.set(Hi,ai.BLUE),i}},li={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Yr={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},ZO=class extends ja{getDefaultColors(){return{fills:li,strokes:Yr,up:{fill:li.GREEN,stroke:Yr.GREEN},down:{fill:li.RED,stroke:Yr.RED},neutral:{fill:li.GRAY,stroke:Yr.GRAY},altUp:{fill:li.BLUE,stroke:Yr.BLUE},altDown:{fill:li.ORANGE,stroke:Yr.ORANGE},altNeutral:{fill:li.GRAY,stroke:Yr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[li.ORANGE,li.YELLOW,li.GREEN]),i.set(Es,["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"]),i.set(En,[li.GREEN,li.YELLOW,li.RED]),i.set(Gi,li.BLUE),i.set(Hi,li.BLUE),i}},ci={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Wr={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},$O=class extends Ls{getDefaultColors(){return{fills:ci,strokes:Wr,up:{fill:ci.GREEN,stroke:Wr.GREEN},down:{fill:ci.RED,stroke:Wr.RED},neutral:{fill:ci.GRAY,stroke:Wr.GRAY},altUp:{fill:ci.BLUE,stroke:Wr.BLUE},altDown:{fill:ci.ORANGE,stroke:Wr.ORANGE},altNeutral:{fill:ci.GRAY,stroke:Wr.GRAY}}}getTemplateParameters(){let i=super.getTemplateParameters();return i.set(Ui,[ci.ORANGE,ci.YELLOW,ci.GREEN]),i.set(Es,["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"]),i.set(En,[ci.GREEN,ci.YELLOW,ci.RED]),i.set(Gi,ci.BLUE),i.set(Hi,ci.BLUE),i}},la=()=>new Ls,KO=()=>new ja,oA={"ag-default-dark":KO,"ag-sheets-dark":()=>new YO,"ag-polychroma-dark":()=>new GO,"ag-vivid-dark":()=>new ZO,"ag-material-dark":()=>new VO,"ag-financial-dark":()=>new zO,null:la,undefined:la,"ag-default":la,"ag-sheets":()=>new WO,"ag-polychroma":()=>new HO,"ag-vivid":()=>new $O,"ag-material":()=>new UO,"ag-financial":()=>new BO};function mu(i){if(i instanceof Ls)return i;if(i==null||typeof i=="string"){let e=oA[i];return e?e():(R.warnOnce(`the theme [${i}] is invalid, using [ag-default] instead.`),la())}if(OO(i,QO,"theme")){let e=XO(i),t=e.baseTheme?mu(e.baseTheme):la();return new t.constructor(e)}return la()}function XO(i){let e=i,t,n=[];for(;typeof e=="object";)t??(t=e.palette),e.overrides&&n.push(e.overrides),e=e.baseTheme;return{baseTheme:e,overrides:xt(...n),palette:t}}var QO={baseTheme:PO(cs,kx),overrides:kx,palette:{fills:Rx(cs),strokes:Rx(cs),up:{fill:cs,stroke:cs},down:{fill:cs,stroke:cs},neutral:{fill:cs,stroke:cs}}},qO=new Set(["map-shape-background","map-line-background"]),aA=class{constructor(i,e,t,n){this.debug=Wt.create(!0,"opts");var s;this.optionMetadata=n??{},this.processedOverrides=e??{};let r={shallow:["data"]};this.userOptions=Pe(i,r);let o=Pe(i,r),{presetType:a}=this.optionMetadata;if(a!=null){let b=NO[a],M=o,I=o.type,D=I!=null?mu(o.theme).presets[I]:void 0;this.debug(">>> AgCharts.createOrUpdate() - applying preset",M),o=b?.(M,D,()=>this.activeTheme)??o}Un.isEnterprise||Lx(o),this.activeTheme=mu(o.theme),a&&(o=this.activeTheme.templateTheme(o)),this.sanityCheckAndCleanup(o),this.defaultAxes=this.getDefaultAxes(o),this.specialOverrides=this.specialOverridesDefaults(S({},t));let l=this.optionsType(o),f=this.getSeriesThemeConfig(l),{axes:c={},annotations:g={}}=f,y=g,{axesButtons:d=null}=y,u=_t(y,["axesButtons"]),v=f,{series:h}=v,p=_t(v,["axes","annotations","series"]);this.processedOptions=Pe(xt(e,o,d!=null?{annotations:{axesButtons:d}}:{},p,this.defaultAxes),r),this.processAxesOptions(this.processedOptions,c),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=u,(ya(this.processedOptions)||Ok(this.processedOptions))&&this.processedOptions.legend?.enabled==null&&((s=this.processedOptions).legend??(s.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions,o),Un.isEnterprise||Lx(this.processedOptions,!0)}getOptions(){return this.processedOptions??{}}diffOptions(i){return cn(i,this.processedOptions)}getSeriesThemeConfig(i){let e=Pe(this.activeTheme?.config[i]??{});return this.removeLeftoverSymbols(e),e}getDefaultAxes(i){let e=this.optionsType(i),t=i.series?.find(n=>(n.type??"line")===e)??{};return Ri.cloneDefaultAxes(e,t)}optionsType(i){return i.series?.[0]?.type??"line"}sanityCheckAndCleanup(i){this.deprecationWarnings(i),this.axesTypeIntegrity(i),this.seriesTypeIntegrity(i),this.soloSeriesIntegrity(i),this.removeDisabledOptions(i),this.removeLeftoverSymbols(i),i.series?.some(e=>e.type==="bullet")&&i.sync!=null&&i.sync.enabled!==!1&&(R.warnOnce("bullet series cannot be synced, disabling synchronization."),delete i.sync)}processAxesOptions(i,e){"axes"in i&&(i.axes=i.axes.map(t=>{let u=xt(e[t.type]?.[t.position],e[t.type]),{crossLines:n}=u,s=_t(u,["crossLines"]);t.crossLines&&(t.crossLines=Kd(t.crossLines,n));let r=s.gridLine?.style;t.gridLine?.style&&r?.length&&(t.gridLine.style=t.gridLine.style.map((p,f)=>p.stroke!=null||p.lineDash!=null?xt(p,r.at(f%r.length)):p));let h=xt(t,s),{top:o,right:a,bottom:l,left:c}=h;return _t(h,["top","right","bottom","left"])}))}processSeriesOptions(i){let e=this.getTooltipPositionDefaults(i),t=hi(i.theme)?pm(i.theme?.palette):"inbuilt",n={colourIndex:0,userPalette:t},s=i.series?.map(r=>{r.type??(r.type=this.getDefaultSeriesType(i));let h=this.getSeriesThemeConfig(r.type).series??{},{innerLabels:o}=h,a=_t(h,["innerLabels"]),l=qO.has(r.type)?{colourIndex:0,userPalette:t}:n,c=this.getSeriesPalette(r.type,l),d=this.getTooltipRangeDefaults(i,r.type),u=xt(this.getSeriesGroupingOptions(r),r,e,d,a,c,{visible:!0});return u.innerLabels&&(u.innerLabels=Kd(u.innerLabels,o)),this.activeTheme.templateTheme(u)});i.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(i){let e=i.navigator?.miniChart?.series;if(e==null)return;let t={colourIndex:0,userPalette:hi(i.theme)?pm(i.theme.palette):"inbuilt"};e=e.map(n=>{n.type??(n.type="line");let a=this.getSeriesThemeConfig(n.type).series??{},{innerLabels:s}=a,r=_t(a,["innerLabels"]),o=xt(this.getSeriesGroupingOptions(n),n,r,this.getSeriesPalette(n.type,t));return this.activeTheme.templateTheme(o)}),i.navigator.miniChart.series=this.setSeriesGroupingOptions(e)}getSeriesPalette(i,e){let t=Ri.getPaletteFactory(i),{colourIndex:n,userPalette:s}=e,{fills:r=[],strokes:o=[]}=this.activeTheme.palette;return t?.({userPalette:s,colorsCount:Math.max(r.length,o.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(a){return e.colourIndex+=a,{fills:Uf(r,a,n),strokes:Uf(o,a,n)}}})}getSeriesGroupingOptions(i){let e=Ri.isGroupable(i.type),t=Ri.isStackable(i.type),n=Ri.isStackedByDefault(i.type);i.grouped&&!e&&R.warnOnce(`unsupported grouping of series type "${i.type}".`),(i.stacked||i.stackGroup)&&!t&&R.warnOnce(`unsupported stacking of series type "${i.type}".`);let{grouped:s,stacked:r}=i;return r??(r=(n||i.stackGroup!=null)&&!(e&&s)),s??(s=!0),{stacked:t&&r,grouped:e&&s&&!(t&&r)}}setSeriesGroupingOptions(i){let e=this.getSeriesGrouping(i);this.debug("setSeriesGroupingOptions() - series grouping: ",e);let t={},n=e.reduce((s,r)=>{var o;return r.groupType==="default"||(s[o=r.seriesType]??(s[o]=0),s[r.seriesType]+=r.groupType==="stack"?1:r.series.length),s},{});return e.flatMap(s=>{var r;switch(t[r=s.seriesType]??(t[r]=0),s.groupType){case"stack":{let o=t[s.seriesType]++;return s.series.map((a,l)=>Object.assign(a,{seriesGrouping:{groupId:s.groupId,groupIndex:o,groupCount:n[s.seriesType],stackIndex:l,stackCount:s.series.length}}))}case"group":return s.series.map(o=>Object.assign(o,{seriesGrouping:{groupId:s.groupId,groupIndex:t[s.seriesType]++,groupCount:n[s.seriesType],stackIndex:0,stackCount:0}}))}return s.series}).map(a=>{var l=a,{stacked:s,grouped:r}=l,o=_t(l,["stacked","grouped"]);return o})}getSeriesGroupId(i){return[i.type,i.xKey,i.stacked?i.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(i){let e=new Map;return i.reduce((t,n)=>{let s=n.type;if(!n.stacked&&!n.grouped)t.push({groupType:"default",seriesType:s,series:[n],groupId:"__default__"});else{let r=this.getSeriesGroupId(n);if(!e.has(r)){let a={groupType:n.stacked?"stack":"group",seriesType:s,series:[],groupId:r};e.set(r,a),t.push(a)}e.get(r).series.push(n)}return t},[])}getDefaultSeriesType(i){if(ya(i))return"line";if(Uu(i))return"pie";if(ug(i))return"treemap";if(hg(i))return"map-shape";if(pg(i))return"sankey";if(fg(i))return"pyramid";if(Gu(i))return"radial-gauge";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(i){let e=i.tooltip?.position;if(!Di(e))return;let{type:t,xOffset:n,yOffset:s}=e,r={};return Mi(t)&&pM(zx,t)&&(r.type=t),It(n)&&(r.xOffset=n),It(s)&&(r.yOffset=s),{tooltip:{position:r}}}getTooltipRangeDefaults(i,e){return{tooltip:{range:i.tooltip?.range??Ri.getTooltipDefauls(e)?.range}}}deprecationWarnings(i){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([t,n])=>{i.series?.some(s=>s[t]!=null)&&R.warnOnce(`Property [series.${t}] is deprecated, please use [series.${n}] and multiple series instead.`)})}axesTypeIntegrity(i){if("axes"in i){let e=i.axes??[];for(let{type:t}of e)if(!jk(t)){delete i.axes;let n=gs.publicKeys().join(", ");R.warnOnce(`unknown axis type: ${t}; expected one of: ${n}`)}}}seriesTypeIntegrity(i){i.series=i.series?.filter(({type:e})=>{if(e==null||Pk(e)||gk(e))return!0;R.warnOnce(`unknown series type: ${e}; expected one of: ${DS.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(i){let e=i.series;if(e&&e.length>1&&e.some(t=>Ri.isSolo(t.type))){let t=this.optionsType(i);if(Ri.isSolo(t))R.warn(`series[0] of type '${t}' is incompatible with other series types. Only processing series[0]`),i.series=e.slice(0,1);else{let{solo:n,nonSolo:s}=km(e,o=>Ri.isSolo(o.type)?"solo":"nonSolo"),r=wu(n.map(o=>o.type)).join(", ");R.warn(`Unable to mix these series types with the lead series type: ${r}`),i.series=s}}}enableConfiguredOptions(i,e){Gn(e,(t,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&t.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},i),Gn(i,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(i){Gn(i,e=>{"enabled"in e&&e.enabled===!1&&Object.keys(e).forEach(t=>{t!=="enabled"&&delete e[t]})},{skip:["data","theme"]})}removeLeftoverSymbols(i){Gn(i,e=>{if(!(!e||!hi(e)))for(let[t,n]of Object.entries(e))fM(n)&&delete e[t]},{skip:["data"]})}specialOverridesDefaults(i){if(i.window!=null?rM(i.window):typeof window<"u"?i.window=window:typeof global<"u"&&(i.window=global.window),i.document!=null?sM(i.document):typeof document<"u"?i.document=document:typeof global<"u"&&(i.document=global.document),i.window==null)throw new Error("AG Charts - unable to resolve global window");if(i.document==null)throw new Error("AG Charts - unable to resolve global document");return i}},_l=Wt.create(!0,"opts");function Px(i){if(ya(i))return"cartesian";if(Uu(i))return"polar";if(ug(i))return"hierarchy";if(hg(i))return"topology";if(pg(i))return"flow-proportion";if(fg(i))return"standalone";if(Gu(i))return"gauge";throw new Error(`AG Chart - unknown type of chart for options with type: ${i.type}`)}var gu=(()=>{let i=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=Un.licenseManager?.(e),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){return Un.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return jx.getInstance(e)}static create(e,t){this.licenseCheck(e);let n=jx.createOrUpdate({userOptions:e,licenseManager:this.licenseManager,styles:Un.styles!=null?[["ag-charts-enterprise",Un.styles]]:[],optionsMetadata:t});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&Un.injectWatermark?.(n.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),n}static createFinancialChart(e){return this.create(e,{presetType:"price-volume"})}static createGauge(e){return this.create(e,{presetType:"gauge"})}static __createSparkline(e){return this.create(e,{presetType:"sparkline"})}};return i.licenseChecked=!1,i.gridContext=!1,i})(),$s=class Ws{static getInstance(e){let t=gr.getInstance(e);return t?ox.chartInstances.get(t):void 0}static initialiseModules(){Ws.initialised||(lO(),cO(),Ws.initialised=!0)}static createOrUpdate(e){let{proxy:t}=e,{userOptions:n,licenseManager:s,styles:r,processedOverrides:o=t?.chart.chartOptions.processedOverrides??{},specialOverrides:a=t?.chart.chartOptions.specialOverrides??{},optionsMetadata:l=t?.chart.chartOptions.optionMetadata??{}}=e,{presetType:c}=l;Ws.initialiseModules(),_l(">>> AgCharts.createOrUpdate() user options",n);let d=n;gu.optionsMutationFn&&(d=gu.optionsMutationFn(d,c),_l(">>> AgCharts.createOrUpdate() MUTATED user options",d));let v=d,{overrideDevicePixelRatio:u,document:h,window:p}=v,f=_t(v,["overrideDevicePixelRatio","document","window"]),g=new aA(f,o,E(S({},a),{document:h,window:p,overrideDevicePixelRatio:u}),l),y=t?.chart;return(y==null||Px(g.processedOptions)!==Px(y?.chartOptions.processedOptions))&&(y=Ws.createChartInstance(g,y),r?.forEach(([b,M])=>{y?.ctx.domManager.addStyles(b,M)})),t==null?t=new ox(y,Ws.callbackApi,s):t.chart=y,_l.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[y.id]=y),y.queuedUserOptions.push(n),y.requestFactoryUpdate(b=>{b.applyOptions(g);let M=b.queuedUserOptions.indexOf(n)+1;b.queuedUserOptions.splice(0,M)}),t}static updateUserDelta(e,t){t=Pe(t,{shallow:["data"]}),Gn(t,o=>{if(typeof o=="object")for(let[a,l]of Object.entries(o))typeof l>"u"&&Object.assign(o,{[a]:Symbol("UNSET")})},{skip:["data"]});let{chart:n}=e,s=n.getOptions(),r=xt(t,s);_l(">>> AgCharts.updateUserDelta() user delta",t),_l("AgCharts.updateUserDelta() - base options",s),Ws.createOrUpdate({userOptions:r,proxy:e})}static createChartInstance(e,t){let n=t?.destroy({keepTransferableResources:!0}),s=Ws.getChartByOptions(e.processedOptions);return new s(e,n)}static getChartByOptions(e){if(ya(e))return f1;if(ug(e))return mO;if(Uu(e))return gO;if(hg(e))return xO;if(pg(e))return uO;if(fg(e))return vO;if(Gu(e))return fO;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};$s.caretaker=new PI(iu);$s.initialised=!1;$s.callbackApi={caretaker:$s.caretaker,create(i,e,t,n){return $s.createOrUpdate({userOptions:i,processedOverrides:e,specialOverrides:t,optionsMetadata:n})},update(i,e){return $s.createOrUpdate({userOptions:i,proxy:e})},updateUserDelta(i,e){return $s.updateUserDelta(i,e)}};var jx=$s;var JO={};xs(JO,{Arc:()=>Jn,ArrowDown:()=>n2,ArrowUp:()=>cA,BBox:()=>G,BandScale:()=>or,Caption:()=>Xt,ChangeDetectableProperties:()=>Gg,Circle:()=>eo,ConicGradient:()=>t2,ContinuousScale:()=>Tt,Diamond:()=>LS,DropShadow:()=>Tn,ExtendedPath2D:()=>ql,Gradient:()=>Ou,Group:()=>ut,HdpiCanvas:()=>ng,Image:()=>Io,Label:()=>Ce,Layer:()=>Wn,Line:()=>Ii,LinearGradient:()=>Wm,LinearScale:()=>ln,Marker:()=>zi,Node:()=>rr,OrdinalTimeScale:()=>In,Path:()=>fi,PointerEvents:()=>oM,RadialColumnShape:()=>ts,Rect:()=>Ci,RedrawType:()=>Js,Rotatable:()=>fo,RotatableGroup:()=>AL,RotatableText:()=>iI,Scalable:()=>Ym,ScalableGroup:()=>DL,Scene:()=>qI,SceneChangeDetection:()=>V,ScenePathChangeDetection:()=>ot,Sector:()=>ei,SectorBox:()=>ZD,Selection:()=>Kt,Shape:()=>Cn,Square:()=>au,SvgPath:()=>hy,Text:()=>we,Tooltip:()=>pn,Transformable:()=>ne,TransformableText:()=>lo,Translatable:()=>pr,TranslatableGroup:()=>fs,TranslatableLayer:()=>fa,Triangle:()=>aa,calculateDerivativeExtrema:()=>Qf,calculateDerivativeExtremaXY:()=>WI,drawCorner:()=>Ol,easing:()=>Nm,evaluateBezier:()=>nu,getFont:()=>r2,getMarker:()=>Zn,getRadialColumnWidth:()=>e2,motion:()=>s2,sectorBox:()=>iy,solveBezier:()=>su,splitBezier:()=>ru,toRadians:()=>Je,toTooltipHtml:()=>pa});var Jn=class extends fi{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return Jr(Pt(this.startAngle),Pt(this.endAngle))}updatePath(){let i=this.path;i.clear(),i.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?i.closePath():this.type===2&&!this.fullPie&&(i.lineTo(this.centerX,this.centerY),i.closePath())}computeBBox(){return new G(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(i,e){let t=this.getBBox();return this.type!==0&&t.containsPoint(i,e)&&this.path.isPointInPath(i,e)}};Jn.className="Arc";Jn.defaultStyles=E(S({},Cn.defaultStyles),{lineWidth:1,fillStyle:null});m([ot()],Jn.prototype,"centerX",2);m([ot()],Jn.prototype,"centerY",2);m([ot()],Jn.prototype,"radius",2);m([ot()],Jn.prototype,"startAngle",2);m([ot()],Jn.prototype,"endAngle",2);m([ot()],Jn.prototype,"counterClockwise",2);m([ot()],Jn.prototype,"type",2);var t2=class extends Ou{constructor(i,e,t=0,n){super(i,e,n),this.angle=t}createCanvasGradient(i,e){let{colorSpace:n,stops:s,angle:r}=this,o=Pt(Je(r+90));if(!("createConicGradient"in i))return new Wm(n,s,r).createCanvasGradient(i,e);let a=e.x+e.width*.5,l=e.y+e.height*.5;return i.createConicGradient(o,a,l)}};function kf(i,e,t){let n=Math.sqrt(i**2+e**2),r=Math.atan2(e,i)+t;return{x:Math.cos(r)*n,y:Math.sin(r)*n}}var ts=(()=>{let i=class extends fi{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){let{innerRadius:e,outerRadius:t,columnWidth:n}=this,s=this.getRotation(),r=-n/2,o=n/2,a=-t,l=-e,c=1/0,d=1/0,u=-1/0,h=-1/0;for(let p=0;p<4;p+=1){let{x:f,y:g}=kf(p%2===0?r:o,p<2?a:l,s);c=Math.min(f,c),d=Math.min(g,d),u=Math.max(f,u),h=Math.max(g,h)}return new G(c,d,u-c,h-d)}getRotation(){let{startAngle:e,endAngle:t}=this,n=fc(e,t);return Pt(e+n/2+Math.PI/2)}updatePath(){let{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:e,innerRadius:t,outerRadius:n,path:s}=this,r=-e/2,o=e/2,a=-n,l=-t,c=this.getRotation(),d=[[r,l],[r,a],[o,a],[o,l]].map(([u,h])=>kf(u,h,c));s.clear(!0),s.moveTo(d[0].x,d[0].y),s.lineTo(d[1].x,d[1].y),s.lineTo(d[2].x,d[2].y),s.lineTo(d[3].x,d[3].y),s.closePath()}updateBeveledPath(){let{columnWidth:e,path:t,outerRadius:n,innerRadius:s,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:a}=this,l=Jr(s,r),c=Math.asin(e/2/s),d=this.getRotation(),u=(_,T)=>kf(_,T,d),h=(_,T)=>Math.sqrt(_**2+T**2),p=(_,T)=>T>_?0:Math.sqrt(_**2-T**2),f=(_,T,N)=>N?_<T:_>T,g=l&&!isNaN(c)&&c<Math.PI/6,y=-e/2,v=e/2,b=-n,M=-s*(g?Math.cos(c):1),I=f(o,h(s,e/2),!a);if(I){let _=p(o,s);y=-_,v=_}t.clear(!0);let D=u(y,M);t.moveTo(D.x,D.y);let A=Jr(s,n),w=f(o,h(n,e/2),!a);if(A&&g)t.arc(0,0,s,Pt(-c-Math.PI/2)+d,Pt(c-Math.PI/2)+d,!1);else if(w){let _=-p(o,e/2),T=p(o,n);if(!I){let N=u(y,_);t.lineTo(N.x,N.y)}if(t.arc(0,0,o,Math.atan2(_,y)+d,Math.atan2(b,-T)+d,!1),!Jr(T,0)){let N=u(T,b);t.lineTo(N.x,N.y)}t.arc(0,0,o,Math.atan2(b,T)+d,Math.atan2(_,v)+d,!1)}else{let _=u(y,b),T=u(v,b);t.lineTo(_.x,_.y),t.lineTo(T.x,T.y)}let C=u(v,M);if(t.lineTo(C.x,C.y),g)t.arc(0,0,s,Pt(c-Math.PI/2)+d,Pt(-c-Math.PI/2)+d,!0);else{let _=u(y,M);t.lineTo(_.x,_.y)}t.closePath()}};return i.className="RadialColumnShape",i})();m([ot()],ts.prototype,"isBeveled",2);m([ot()],ts.prototype,"columnWidth",2);m([ot()],ts.prototype,"startAngle",2);m([ot()],ts.prototype,"endAngle",2);m([ot()],ts.prototype,"outerRadius",2);m([ot()],ts.prototype,"innerRadius",2);m([ot()],ts.prototype,"axisInnerRadius",2);m([ot()],ts.prototype,"axisOuterRadius",2);m([ot()],ts.prototype,"isRadiusAxisReversed",2);function e2(i,e,t,n,s){let r=fc(i,e),o=r*(1-n)/2;if(i+=o,e-=o,r<.001)return 2*t*s;if(r>=2*Math.PI){let p=i+r/2;i=p-Math.PI,e=p+Math.PI}let a=t*Math.cos(i),l=t*Math.sin(i),c=t*Math.cos(e),d=t*Math.sin(e),u=Math.floor(Math.sqrt((a-c)**2+(l-d)**2)),h=2*t*s;return Math.max(1,Math.min(h,u))}var hy=class extends fi{constructor(i=""){super(),this.x=0,this.y=0,this.commands=[],this._d="",this.d=i}get d(){return this._d}set d(i){if(i!==this._d){this._d=i,this.commands.length=0;for(let[e,t,n]of i.matchAll(/([A-Z])([0-9. ]*)/g)){let s=n.split(/\s+/g).map(Number);this.commands.push([t,s])}this.checkPathDirty()}}updatePath(){let{path:i,x:e,y:t}=this;i.clear();let n=e,s=t;for(let[r,o]of this.commands)switch(r){case"M":i.moveTo(e+o[0],t+o[1]),n=e+o[0];break;case"C":i.cubicCurveTo(e+o[0],t+o[1],e+o[2],t+o[3],e+o[4],t+o[5]),n=e+o[4],s=t+o[5];break;case"H":i.lineTo(e+o[0],s),n=t+o[0];break;case"L":i.lineTo(e+o[0],t+o[1]),n=e+o[0],s=t+o[1];break;case"V":i.lineTo(n,t+o[0]),s=t+o[0];break;case"Z":i.closePath();break;default:throw new Error(`Could not translate command '${r}' with '${o.join(" ")}'`)}i.closePath()}};m([ot()],hy.prototype,"x",2);m([ot()],hy.prototype,"y",2);var i2=(()=>{let i=class lA extends zi{updatePath(){let t=this.size/2;super.applyPath(t,lA.moves)}};return i.className="ArrowUp",i.moves=[{x:0,y:0,t:"move"},{x:1,y:1.2},{x:-.5,y:0},{x:0,y:.8},{x:-1,y:0},{x:0,y:-.8},{x:-.5,y:0}],i})(),cA=i2,n2=(()=>{let i=class extends zi{updatePath(){let e=this.size/2;super.applyPath(e,cA.moves.map(t=>({x:t.x*-1,y:t.y*-1})))}};return i.className="ArrowDown",i})(),s2=S(S({},tM),PM),r2=ve.toFontString,o2={};xs(o2,{CARTESIAN_AXIS_TYPE:()=>HS,CARTESIAN_POSITION:()=>GS,ChartTheme:()=>Ls,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>Hi,DEFAULT_ANNOTATION_COLOR:()=>Gi,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Rg,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>jg,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Fg,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>tD,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>eD,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Og,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Pg,DEFAULT_AXIS_GRID_COLOUR:()=>va,DEFAULT_AXIS_LINE_COLOUR:()=>Hd,DEFAULT_BACKGROUND_COLOUR:()=>lu,DEFAULT_CAPTION_ALIGNMENT:()=>qr,DEFAULT_CAPTION_LAYOUT_STYLE:()=>Qr,DEFAULT_COLOURS:()=>T1,DEFAULT_CROSS_LINES_COLOUR:()=>Hl,DEFAULT_DIVERGING_SERIES_COLOR_RANGE:()=>Ui,DEFAULT_FONT_FAMILY:()=>de,DEFAULT_FUNNEL_SERIES_COLOR_RANGE:()=>Es,DEFAULT_GAUGE_SERIES_COLOR_RANGE:()=>En,DEFAULT_GRIDLINE_ENABLED:()=>hs,DEFAULT_HIERARCHY_FILLS:()=>Lg,DEFAULT_HIERARCHY_STROKES:()=>Ng,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>Do,DEFAULT_INVERTED_LABEL_COLOUR:()=>$S,DEFAULT_LABEL_COLOUR:()=>Oe,DEFAULT_MUTED_LABEL_COLOUR:()=>no,DEFAULT_PADDING:()=>Zs,DEFAULT_POLAR_SERIES_STROKE:()=>Tg,DEFAULT_SHADOW_COLOUR:()=>Ao,DEFAULT_TEXTBOX_COLOR:()=>Vg,DEFAULT_TEXTBOX_FILL:()=>zg,DEFAULT_TEXTBOX_STROKE:()=>Bg,DEFAULT_TEXT_ANNOTATION_COLOR:()=>kg,DEFAULT_TOOLBAR_POSITION:()=>Ac,FONT_SIZE:()=>VS,FONT_WEIGHT:()=>US,IS_COMMUNITY:()=>ZS,IS_DARK_THEME:()=>Gl,IS_ENTERPRISE:()=>Sg,PALETTE_ALT_DOWN_FILL:()=>qS,PALETTE_ALT_DOWN_STROKE:()=>XS,PALETTE_ALT_NEUTRAL_FILL:()=>JS,PALETTE_ALT_NEUTRAL_STROKE:()=>Eg,PALETTE_ALT_UP_FILL:()=>QS,PALETTE_ALT_UP_STROKE:()=>KS,PALETTE_DOWN_FILL:()=>Cg,PALETTE_DOWN_STROKE:()=>Ag,PALETTE_NEUTRAL_FILL:()=>_g,PALETTE_NEUTRAL_STROKE:()=>Yl,PALETTE_UP_FILL:()=>wg,PALETTE_UP_STROKE:()=>Dg,POLAR_AXIS_SHAPE:()=>WS,POLAR_AXIS_TYPE:()=>YS,getChartTheme:()=>mu,markerPaletteFactory:()=>$u,singleSeriesPaletteFactory:()=>La,swapAxisCondition:()=>FD,themes:()=>a2});var a2=_m(oA,i=>i?.()),l2={};xs(l2,{BandScale:()=>or,ColorScale:()=>mo,ContinuousScale:()=>Tt,Invalidating:()=>Fe,LinearScale:()=>ln,OrdinalTimeScale:()=>In,TimeScale:()=>Gm});var c2={};xs(c2,{Color:()=>Vn,Debug:()=>Wt,Logger:()=>R,Padding:()=>mr,TimeInterval:()=>ao,angleBetween:()=>fc,angleDiff:()=>EL,arcDistanceSquared:()=>tI,areArrayNumbersEqual:()=>sI,checkDatum:()=>Wf,clamp:()=>at,clampArray:()=>Zd,clockwiseAngle:()=>JM,clockwiseAngles:()=>NL,countFractionDigits:()=>ac,createId:()=>dn,day:()=>xm,deepClone:()=>Pe,displacePointFromVector:()=>TL,extent:()=>Kn,findMinMax:()=>xi,findRangeExtent:()=>da,formatNormalizedPercentage:()=>Am,formatPercentage:()=>wm,friday:()=>Zx,generateUUID:()=>bT,getAttribute:()=>rI,hour:()=>vm,interpolateColor:()=>cM,interpolateNumber:()=>lM,isBetweenAngles:()=>rn,isContinuous:()=>Pu,isDate:()=>dc,isDenseInterval:()=>Kl,isEqual:()=>Jr,isNegative:()=>oc,isNumber:()=>It,isNumberEqual:()=>Jr,isNumberObject:()=>uI,isString:()=>Mi,isStringObject:()=>dI,jsonApply:()=>ra,jsonDiff:()=>cn,jsonWalk:()=>Gn,lineDistanceSquared:()=>zl,millisecond:()=>gm,minute:()=>bm,mod:()=>Mu,monday:()=>Gx,month:()=>Im,normalisedExtentWithMetadata:()=>Au,normalizeAngle180:()=>Xl,normalizeAngle360:()=>Pt,normalizeAngle360Inclusive:()=>qM,range:()=>Ru,resetIds:()=>eM,round:()=>vu,sanitizeHtml:()=>$t,saturday:()=>$x,second:()=>ym,setAttribute:()=>Ai,setAttributes:()=>co,setElementStyle:()=>Ys,shallowClone:()=>Jd,sunday:()=>Mm,thursday:()=>Wx,tickFormat:()=>GM,tickStep:()=>ha,ticks:()=>ku,toDegrees:()=>_L,toFixed:()=>xu,toRadians:()=>Je,transformIntegratedCategoryValue:()=>to,tuesday:()=>Hx,utcDay:()=>Qx,utcHour:()=>Xx,utcMinute:()=>Kx,utcMonth:()=>qx,utcYear:()=>Jx,wednesday:()=>Yx,year:()=>Sm});var d2={};xs(d2,{AND:()=>un,ARRAY:()=>Ma,ARRAY_OF:()=>Is,AbstractBarSeries:()=>zD,AbstractBarSeriesProperties:()=>qg,ActionOnSet:()=>pi,Animation:()=>xM,AnimationManager:()=>iS,Axis:()=>Qm,AxisInterval:()=>go,AxisLabel:()=>_e,AxisTick:()=>Aa,AxisTicks:()=>L2,BOOLEAN:()=>et,BOOLEAN_ARRAY:()=>tL,Background:()=>Ca,BackgroundModule:()=>zS,BaseModuleInstance:()=>bc,BaseProperties:()=>ft,COLOR_STRING:()=>Lt,COLOR_STRING_ARRAY:()=>hn,CachedTextMeasurer:()=>eI,CachedTextMeasurerPool:()=>Ds,CartesianAxis:()=>ar,CartesianSeries:()=>yr,CartesianSeriesNodeEvent:()=>vg,CartesianSeriesProperties:()=>_s,CategoryAxis:()=>yc,ChartAxisDirection:()=>Bm,ChartEventManager:()=>nS,ChartOptions:()=>aA,ChartUpdateType:()=>Vl,ContextMenuRegistry:()=>sS,Cursor:()=>oS,CursorManager:()=>aS,DATE:()=>Pm,DATE_ARRAY:()=>eL,DATE_OR_DATETIME_MS:()=>jm,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>xo,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>Mo,DEFAULT_TOOLTIP_CLASS:()=>Bn,DEFAULT_TOOLTIP_DARK_CLASS:()=>aI,DEGREE:()=>dr,DIRECTION:()=>NM,DOMManager:()=>HI,DRAG_INTERACTION_TYPES:()=>sg,DataController:()=>IS,DataModel:()=>MS,DataModelSeries:()=>yg,DataService:()=>Vu,Default:()=>fr,Deprecated:()=>u2,DeprecatedAndRenamedTo:()=>h2,EMPTY_TOOLTIP_CONTENT:()=>As,FONT_STYLE:()=>ur,FONT_WEIGHT:()=>hr,FUNCTION:()=>wi,GREATER_THAN:()=>Sa,GestureDetector:()=>lS,GroupedCategoryAxis:()=>ma,HierarchyNode:()=>Pl,HierarchySeries:()=>C2,HierarchySeriesProperties:()=>Mr,HighlightManager:()=>cS,HighlightProperties:()=>bg,HighlightStyle:()=>Sc,INTERACTION_RANGE:()=>Nu,INTERPOLATION_STEP_POSITION:()=>vD,INTERPOLATION_TYPE:()=>bD,InteractionManager:()=>eS,InteractionState:()=>Bu,InterpolationProperties:()=>Ra,KeyNavManager:()=>dS,LABEL_PLACEMENT:()=>zm,LARGEST_KEY_INTERVAL:()=>hD,LESS_THAN:()=>Ia,LINE_CAP:()=>iL,LINE_DASH:()=>Ss,LINE_JOIN:()=>nL,LINE_STYLE:()=>sL,LayoutElement:()=>tg,LayoutManager:()=>kI,LonLatBBox:()=>_2,MARKER_SHAPE:()=>gD,MATCHING_CROSSLINE_TYPE:()=>Xm,MAX_SPACING:()=>RM,MIN_SPACING:()=>kM,MercatorScale:()=>um,ModuleRegistry:()=>EI,Motion:()=>Nm,NAN:()=>Eu,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>ui,NUMBER:()=>Gt,NUMBER_ARRAY:()=>Tu,NUMBER_OR_NAN:()=>xa,Navigator:()=>xr,NavigatorModule:()=>BS,NodeRegionBBoxProvider:()=>Bl,OBJECT:()=>Y,OBJECT_ARRAY:()=>TM,OR:()=>po,OVERFLOW_STRATEGY:()=>oL,ObserveChanges:()=>ti,PHASE_METADATA:()=>$l,PHASE_ORDER:()=>Xo,PLACEMENT:()=>aL,PLAIN_OBJECT:()=>wM,POINTER_INTERACTION_TYPES:()=>rg,POSITION:()=>Fm,POSITION_TOP_COORDINATES:()=>eu,POSITIVE_NUMBER:()=>F,PolarAxis:()=>uo,PolarSeries:()=>th,PropertiesArray:()=>_u,ProxyOnWrite:()=>UL,ProxyProperty:()=>ue,ProxyPropertyOnWrite:()=>ze,QUICK_TRANSITION:()=>Xd,RATIO:()=>At,REAL_NUMBER:()=>CM,REGIONS:()=>uS,RegionManager:()=>pS,RepeatType:()=>vM,SKIP_JS_BUILTINS:()=>Tm,SMALLEST_KEY_INTERVAL:()=>uD,SORT_DOMAIN_GROUPS:()=>pD,STRING:()=>P,STRING_ARRAY:()=>EM,Series:()=>Ic,SeriesGroupingChangedEvent:()=>mg,SeriesItemHighlightStyle:()=>Cs,SeriesMarker:()=>_i,SeriesNodeEvent:()=>Mc,SeriesNodePickMode:()=>wS,SeriesProperties:()=>Bi,SeriesTooltip:()=>mi,SimpleRegionBBoxProvider:()=>hS,SimpleTextMeasurer:()=>$m,StateMachine:()=>mc,TEXT_ALIGN:()=>LM,TEXT_WRAP:()=>Lu,TICK_INTERVAL:()=>mI,TOOLBAR_ALIGNMENTS:()=>og,TOOLBAR_GROUPS:()=>Ud,TOOLBAR_GROUP_ORDERING:()=>tm,TOOLBAR_POSITIONS:()=>Xr,TextUtils:()=>ve,TextWrapper:()=>Km,ToolbarManager:()=>fS,ToolbarPosition:()=>oa,Tooltip:()=>pn,TooltipManager:()=>ou,TooltipPosition:()=>Da,UNION:()=>Ft,UpdateService:()=>gS,VERTICAL_ALIGN:()=>rL,Validate:()=>x,Vec2:()=>ta,Vec4:()=>f2,ZIndexMap:()=>cI,ZoomManager:()=>mS,__FORCE_MODULE_DETECTION:()=>N2,accumulateGroup:()=>fD,accumulateStack:()=>mD,accumulatedValue:()=>rD,accumulativeValueProperty:()=>Jl,addHitTestersToQuadtree:()=>Xg,adjustLabelPlacement:()=>HD,animationValidation:()=>Na,area:()=>om,arraysEqual:()=>tr,backfillPathPointData:()=>Wg,buildFormatter:()=>uc,buildResetPathFn:()=>Kg,calculateDefaultTimeTickFormat:()=>SM,calculateLabelChartPadding:()=>pI,calculateLabelTranslation:()=>Zf,calculatePlacement:()=>oI,checkCrisp:()=>UD,circularSliceArray:()=>Uf,clamp:()=>at,clampArray:()=>Zd,collapsedStartingBarPosition:()=>nc,computeBarFocusBounds:()=>ty,computeMarkerFocusBounds:()=>Cc,convertValuesToScaleByDefs:()=>Yk,countFractionDigits:()=>ac,createButton:()=>k2,createCheckbox:()=>R2,createDatumId:()=>bs,createDeprecationWarning:()=>py,createElement:()=>Ot,createElementId:()=>ST,createElementNS:()=>Ff,createIcon:()=>dA,createSelect:()=>O2,createTextArea:()=>P2,dateToNumber:()=>vi,deconstructSelectionsOrNodes:()=>Du,deepClone:()=>Pe,deepMerge:()=>jT,defaultTimeTickFormat:()=>Om,determinePathStatus:()=>kD,diff:()=>ka,downloadUrl:()=>nM,enterpriseModule:()=>Un,excludesType:()=>mM,extent:()=>Kn,extractDecoratedProperties:()=>kT,findMaxValue:()=>p2,findMinMax:()=>xi,findQuadtreeMatch:()=>Qg,findRangeExtent:()=>da,fixNumericExtent:()=>Si,focusCursorAtEnd:()=>MT,formatNormalizedPercentage:()=>Am,formatPercentage:()=>wm,formatValue:()=>Ku,fromToMotion:()=>ie,getDocument:()=>An,getLastFocus:()=>VI,getMissCount:()=>ag,getPath:()=>Em,getPathComponents:()=>xS,getRectConfig:()=>VD,getWindow:()=>je,groupAccumulativeValueProperty:()=>ir,groupAverage:()=>sD,groupBy:()=>km,groupCount:()=>rm,groupStackValueProperty:()=>dD,groupSum:()=>iD,initMenuKeyNav:()=>SN,initRovingTabIndex:()=>Ql,initToolbarKeyNav:()=>ig,isAnimatingFloatingPosition:()=>em,isArray:()=>qt,isBoolean:()=>Cm,isButtonClickEvent:()=>BI,isDate:()=>cc,isDecoratedObject:()=>Su,isDefined:()=>ua,isEnumKey:()=>PT,isEnumValue:()=>pM,isEqual:()=>Jr,isFiniteNumber:()=>It,isFunction:()=>Ms,isHtmlElement:()=>hM,isNegative:()=>oc,isNumber:()=>Oi,isObject:()=>hi,isObjectLike:()=>OT,isPlainObject:()=>Di,isProperties:()=>Yn,isRegExp:()=>uM,isString:()=>Mi,isSymbol:()=>fM,isValidDate:()=>dc,jsonApply:()=>ra,jsonDiff:()=>cn,jsonWalk:()=>Gn,keyProperty:()=>wn,labelDirectionHandling:()=>fI,listDecoratedProperties:()=>sa,makeAccessibleClickListener:()=>Xf,mapValues:()=>_m,markerFadeInAnimation:()=>ec,markerPaletteFactory:()=>$u,markerScaleInAnimation:()=>Hg,markerSwipeScaleInAnimation:()=>Yg,mergeArrayDefaults:()=>Kd,mergeDefaults:()=>xt,midpointStartingBarPosition:()=>pR,minMax:()=>lm,mod:()=>Mu,moduleRegistry:()=>er,nearestSquared:()=>bu,nearestSquaredInContainer:()=>xT,normaliseGroupTo:()=>Qu,normalisePropertyTo:()=>so,normalisedExtentWithMetadata:()=>Au,objectEqualWith:()=>gM,pairCategoryData:()=>ND,pairContinuousData:()=>LD,partialAssign:()=>Kr,pathFadeInAnimation:()=>du,pathFadeOutAnimation:()=>Q1,pathRangePoints:()=>ED,pathRangePointsReverse:()=>q1,pathRanges:()=>_D,pathSwipeInAnimation:()=>$g,pickByMatchingAngle:()=>ay,pickNode:()=>Jo,plotPath:()=>Zg,predicateWithMessage:()=>jt,prepareAreaPathAnimation:()=>jD,prepareAxisAnimationContext:()=>$f,prepareAxisAnimationFunctions:()=>gI,prepareBarAnimationFunctions:()=>sc,prepareLinePathAnimation:()=>OD,prepareLinePathAnimationFns:()=>RD,prepareLinePathPropertyAnimation:()=>qu,prepareMarkerAnimation:()=>AD,preparePieSeriesAnimationFunctions:()=>ro,range:()=>nD,rangedValueProperty:()=>Ug,renderPartialPath:()=>CD,resetAxisGroupFn:()=>yI,resetAxisLabelSelectionFn:()=>vI,resetAxisLineSelectionFn:()=>xI,resetAxisSelectionFn:()=>bI,resetBarSelectionsFn:()=>rc,resetIds:()=>eM,resetLabelFn:()=>Ts,resetMarkerFn:()=>wc,resetMarkerPositionFn:()=>ic,resetMotion:()=>Me,resetPieSelectionsFn:()=>oy,round:()=>vu,scale:()=>We,seriesLabelFadeInAnimation:()=>Ct,seriesLabelFadeOutAnimation:()=>Qs,setDocument:()=>sM,setElementBBox:()=>qs,setPath:()=>Lm,setWindow:()=>rM,shallowClone:()=>Jd,singleSeriesPaletteFactory:()=>La,sortBasedOnArray:()=>YT,splitPairData:()=>wD,staticFromToMotion:()=>$n,stopPageScrolling:()=>UI,stringify:()=>jl,sum:()=>L1,sumValues:()=>Xu,toArray:()=>Qd,toFixed:()=>xu,toTooltipHtml:()=>pa,trailingAccumulatedValue:()=>oD,trailingAccumulatedValueProperty:()=>k1,unique:()=>wu,updateClipPath:()=>uu,updateLabelNode:()=>GD,updateRect:()=>BD,validateCrossLineValues:()=>hI,valueProperty:()=>yt,without:()=>zf});function py(){return(i,e)=>{let t=[`Property [${i}] is deprecated.`,e].filter(Boolean).join(" ");R.warnOnce(t)}}function u2(i,e){let t=py(),n=e?.default;return vs((s,r,o)=>(o!==n&&t(r.toString(),i),o))}function h2(i,e){let t=py();return vs((n,s,r)=>(r!==n[i]&&(t(s.toString(),`Use [${i}] instead.`),Lm(n,i,e?e(r):r)),$d),(n,s)=>(t(s.toString(),`Use [${i}] instead.`),Em(n,i)))}function p2(i,e,t){if(i>e)return;let n;for(;e>=i;){let s=Math.floor((e+i)/2),r=t(s);r==null?e=s-1:(n=r,i=s+1)}return n}var f2={bottomCenter:v2,center:b2,clone:S2,end:g2,from:D2,height:M2,round:I2,start:m2,topCenter:y2,origin:A2,width:x2};function m2(i){return{x:i.x1,y:i.y1}}function g2(i){return{x:i.x2,y:i.y2}}function y2(i){return{x:(i.x1+i.x2)/2,y:Math.min(i.y1,i.y2)}}function b2(i){return{x:(i.x1+i.x2)/2,y:(i.y1+i.y2)/2}}function v2(i){return{x:(i.x1+i.x2)/2,y:Math.max(i.y1,i.y2)}}function x2(i){return Math.abs(i.x2-i.x1)}function M2(i){return Math.abs(i.y2-i.y1)}function I2(i){return{x1:Math.round(i.x1),y1:Math.round(i.y1),x2:Math.round(i.x2),y2:Math.round(i.y2)}}function S2(i){return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}}function D2(i,e,t,n){if(typeof i=="number")return{x1:i,y1:e,x2:t,y2:n};if("width"in i)return{x1:i.x,y1:i.y,x2:i.x+i.width,y2:i.y+i.height};throw new Error(`Values can not be converted into a vector4: [${i}] [${e}] [${t}] [${n}]`)}function A2(){return{x1:0,y1:0,x2:0,y2:0}}var w2=(()=>{let i=class Yd{constructor(t,n,s,r,o,a,l,c,d,u,h){this.series=t,this.index=n,this.datum=s,this.size=r,this.colorValue=o,this.fill=a,this.stroke=l,this.sumSize=c,this.depth=d,this.parent=u,this.children=h,this.midPoint={x:0,y:0}}contains(t){let n=t;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(t,n=Yd.Walk.PreOrder){n===Yd.Walk.PreOrder&&t(this),this.children.forEach(s=>{s.walk(t,n)}),n===Yd.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(let t of this.children)yield*t}};return i.Walk={PreOrder:0,PostOrder:1},i})(),Pl=w2,C2=class extends Ic{constructor(i){super({moduleCtx:i,pickModes:[1,0],contentGroupVirtual:!1}),this.rootNode=new Pl(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new mc("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(i){i==="initial"?this.animationState.transition("reset"):i==="ready"&&this.animationState.transition("skip")}async processData(){let{childrenKey:i,sizeKey:e,colorKey:t,fills:n,strokes:s,colorRange:r}=this.properties,o=0,a=()=>(o+=1,o),l=0,c=1/0,d=-1/0,u=new Array((this.data?.length??0)+1).fill(void 0),h=(v,b)=>{let M=a(),I=b.depth!=null?b.depth+1:0,D=i!=null?v[i]:void 0,A=D==null||D.length===0,w=e!=null?v[e]:void 0;Number.isFinite(w)?w=Math.max(w,0):w=A?1:0;let C=w;l=Math.max(l,I);let _=t!=null?v[t]:void 0;return typeof _=="number"&&(u[M]=_,c=Math.min(c,_),d=Math.max(d,_)),p(new Pl(this,M,v,w,_,void 0,void 0,C,I,b,[]),D)},p=(v,b)=>(b?.forEach(M=>{let I=h(M,v);v.children.push(I),v.sumSize+=I.sumSize}),v),f=p(new Pl(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),g=[c,d],y;r!=null&&Number.isFinite(c)&&Number.isFinite(d)&&(y=new mo,y.domain=g,y.range=r,y.update()),f.children.forEach((v,b)=>{v.walk(M=>{let I,D=u[M.index];D!=null&&(I=y?.convert(D)),I??(I=n?.[b%n.length]),M.fill=I,M.stroke=y==null?s?.[b%s.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=f,this.maxDepth=l,this.colorDomain=g,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]}async update({seriesRect:i}){await this.updateSelections(),await this.updateNodes();let e=this.getAnimationData();this.checkResize(i)&&this.animationState.transition("resize",e),this.animationState.transition("update",e)}resetAllAnimation(i){let e=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),e!=null&&Me(i.datumSelections,e)}animateEmptyUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animateWaitingUpdateReady(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animateReadyHighlight(i){let e=this.animationResetFns?.datum;e!=null&&Me([i],e)}animateReadyResize(i){this.resetAllAnimation(i)}animateClearingUpdateEmpty(i){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(i)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(i){let{colorKey:e,colorName:t,colorRange:n,visible:s}=this.properties;return i==="gradient"&&e!=null&&n!=null?[{legendType:"gradient",enabled:s,seriesId:this.id,colorName:t,colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(i){return`${i.index}`}getDatumId(i){return this.getDatumIdFromData(i)}pickFocus(i){if(this.rootNode.children.length===0)return;this.focusPath.length===0&&R.error("this.focusPath should not be empty");let{datumIndexDelta:e,otherIndexDelta:t}=i,{focusPath:n}=this,s=n.length-2;if(t!==0||n.length===1){let r=Math.max(0,s+t);if(n[r+1]!==void 0)return n.length=r+2,this.computeFocusOutputs(n[r+1]);{let o=n[n.length-1];for(;o.nodeDatum.children.length>0&&(o.nodeDatum.depth??-1)<r;){let a={nodeDatum:o.nodeDatum.children[0],childIndex:0};n.push(a),o=a}return this.computeFocusOutputs(o)}}else if(e!==0){let r=n[s+1].childIndex+e,o=n[s].nodeDatum,a=o?.children?.length;if(a!==void 0){let l=at(0,r,a-1),c={nodeDatum:o.children[l],childIndex:l};return n[s+1]=c,n.length=s+2,this.computeFocusOutputs(c)}}else return this.computeFocusOutputs(n[n.length-1])}getDatumAriaText(i,e){if(!(i instanceof Pl)){R.error(`datum is not HierarchyNode: ${i}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(i.depth??-1)+1,count:i.children.length,description:e})}computeFocusOutputs({nodeDatum:i,childIndex:e}){let t=this.computeFocusBounds(i);if(t)return{datum:i,datumIndex:e,otherIndex:i.depth,bounds:t,showFocusBox:!0}}},Mr=class extends Bi{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(De),this.strokes=Object.values(zn)}};m([x(P)],Mr.prototype,"childrenKey",2);m([x(P,{optional:!0})],Mr.prototype,"sizeKey",2);m([x(P,{optional:!0})],Mr.prototype,"colorKey",2);m([x(P,{optional:!0})],Mr.prototype,"colorName",2);m([x(hn)],Mr.prototype,"fills",2);m([x(hn)],Mr.prototype,"strokes",2);m([x(hn,{optional:!0})],Mr.prototype,"colorRange",2);var _2=class{constructor(i,e,t,n){this.lon0=i,this.lat0=e,this.lon1=t,this.lat1=n}merge(i){this.lon0=Math.min(this.lon0,i.lon0),this.lat0=Math.min(this.lat0,i.lat0),this.lon1=Math.max(this.lon1,i.lon1),this.lat1=Math.max(this.lat1,i.lat1)}};function E2(){let i=new Map;return e=>{let t=i.get(e);return t?(i.set(e,t+1),`${e}${t}`):(i.set(e,1),e)}}var T2=(()=>{let i=class mm{constructor(){this.id=dn(this),this.axisGroup=new fs({name:`${this.id}-AxisTicks`,zIndex:2}),this.labelSelection=Kt.select(this.axisGroup,we),this.interval=new go,this.label=new _e,this.scale=new ln,this.position="bottom",this.translationX=0,this.translationY=0,this.padding=0}attachAxis(t){t.appendChild(this.axisGroup)}calculateLayout(){this.scale.interval=this.interval.step;let t=[],n=this.generateTicks(),{translationX:s,translationY:r}=this;return this.labelSelection.update(n.ticks.map(o=>this.createLabelDatum(o)),void 0,o=>o.tickId),this.labelSelection.each((o,a)=>{o.setProperties(a),a.visible&&t.push(o.getBBox())}),this.axisGroup.setProperties({translationX:s,translationY:r}),G.merge(t)}getLabelParams(t){let{padding:n}=this,{translate:s}=t;switch(this.position){case"top":case"bottom":return{x:s,y:n,textAlign:"center",textBaseline:"top"};case"left":case"right":return{x:n,y:s,textAlign:"start",textBaseline:"middle"}}}inRange(t,n=.001){let[s,r]=xi(this.scale.range);return t>=s-n&&t<=r+n}createLabelDatum(t){let{x:n,y:s,textBaseline:r,textAlign:o}=this.getLabelParams(t);return{visible:!!t.tickLabel,tickId:t.tickId,fill:this.label.color,fontFamily:this.label.fontFamily,fontSize:this.label.fontSize,fontStyle:this.label.fontStyle,fontWeight:this.label.fontWeight,rotation:0,rotationCenterX:0,text:t.tickLabel,textAlign:o,textBaseline:r,x:n,y:s}}generateTicks(){let{minSpacing:t,maxSpacing:n}=this.interval,s=vu(da(this.scale.range),2),{maxTickCount:r,minTickCount:o,tickCount:a}=IL(s,t,n,mm.DefaultTickCount,mm.DefaultMinSpacing);a&&(this.scale.tickCount=a,this.scale.minTickCount=o,this.scale.maxTickCount=r);let l=this.getTicksData();if(this.position==="bottom"||this.position==="top"){let c=Ds.getMeasurer({font:this.label}),d=this.scale.getDomain(),h=d[0]>d[1]?-1:1,p=-1/0*h;l.ticks=l.ticks.filter(f=>Math.sign(f.translate-p)!==h?!1:(p=f.translate+c.textWidth(f.tickLabel,!0)*h,!0))}return l}getTicksData(){let t=[],n=this.scale.ticks(),s=n.reduce((a,l)=>Math.max(a,typeof l=="number"?ac(l):0),0),r=E2(),o=this.label.format?this.scale.tickFormat({ticks:n,specifier:this.label.format}):a=>Oi(a)?a.toFixed(s):String(a);for(let a=0;a<n.length;a++){let l=n[a],c=this.scale.convert(l);if(!this.inRange(c))continue;let d=this.label.formatter?.({value:l,index:a,fractionDigits:s})??o(l),u=r(d);t.push({tick:l,tickId:u,tickLabel:d,translate:c})}return{rawTicks:n,fractionDigits:s,ticks:t}}};return i.DefaultTickCount=5,i.DefaultMinSpacing=50,i})(),L2=T2,N2=0;function k2(i,e){let t=Ot("button",sh("ag-charts-input ag-charts-button",e));return i.label!==void 0?t.append(i.label):(t.append(dA(i.icon)),t.ariaLabel=i.altText),t.addEventListener("click",i.onPress),co(t,e),t}function R2(i,e){let t=Ot("input",sh("ag-charts-input ag-charts-checkbox",e));return t.type="checkbox",t.checked=i.checked,t.addEventListener("change",n=>i.onChange(t.checked,n)),t.addEventListener("keydown",n=>{BI(n)&&(n.preventDefault(),t.click())}),co(t,e),t}function O2(i,e){let t=Ot("select",sh("ag-charts-input ag-charts-select",e));return t.append(...i.options.map(n=>{let s=Ot("option");return s.value=n.value,s.textContent=n.label,s})),Ai(t,"data-preventdefault",!1),t.value=i.value,t.addEventListener("change",n=>i.onChange(t.value,n)),co(t,e),t}function P2(i,e){let t=Ot("textarea",sh("ag-charts-input ag-charts-textarea",e));return t.value=i.value,t.addEventListener("input",n=>i.onChange(t.value,n)),co(t,e),t}function dA(i){let e=Ot("span",`ag-charts-icon ag-charts-icon-${i}`);return Ai(e,"aria-hidden",!0),e}function sh(i,e){return e==null?i:`${i} ${e.class}`}var fy=class{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let e=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(e)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(e){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(e){let t=n=>{let s=n??{};for(let[r,o]of Object.entries(s))typeof o=="function"&&(s[r]=(...a)=>{this.runInsideAngular(()=>o(...a))})};return t(e?.legend?.listeners),t(e?.listeners),e.series?.forEach(n=>{t(n.listeners)}),e.container?e:E(S({},e),{container:this._nativeElement})}runOutsideAngular(e){return this.ngZone?this.ngZone.runOutsideAngular(e):e()}runInsideAngular(e){return this.ngZone?this.ngZone.run(e):e()}},uA=(()=>{class i extends fy{ngZone;options={};onChartReady=new Xe;constructor(t,n){super(),this.ngZone=n,this._nativeElement=t.nativeElement}createChart(t){return gu.create(t)}static \u0275fac=function(n){return new(n||i)(q(te),q(wt))};static \u0275cmp=ae({type:i,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[Os,ce],decls:0,vars:0,template:function(n,s){},encapsulation:2})}return i})();function hA(i,e){let t=[];for(let n=i;n<=e;n++)t.push({x:n,y:j2(n),xConstant:4});return t}function j2(i){let n=-((i-0)**2)/18;return 1/(3*Math.sqrt(2*Math.PI))*Math.exp(n)}var rh=(()=>{class i{#t=yi(document.documentElement.classList.contains("dark")?"dark":"light");currentTheme$=of(this.#t);getCurrentTheme(){return this.#t.asReadonly()}setCurrentTheme(t){document.querySelector(":root")?.classList.contains("dark")?localStorage.setItem("theme","light"):localStorage.setItem("theme","dark"),localStorage.getItem("theme")==="dark"?document.querySelector(":root")?.classList.add("dark"):document.querySelector(":root")?.classList.remove("dark"),this.#t.set(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var pA={palette:{fills:["#0f766e","#d97706"],strokes:["black"]}},F2={baseTheme:"ag-default-dark",palette:{fills:["#0f766e","#d97706"],strokes:["white"]}},fA=(()=>{class i{chartOptions=yi({theme:pA,title:{text:"Value at Risk"},subtitle:{text:"Confidence Level: 2.89%"},data:hA(-10,10),series:[{type:"line",xKey:"x",xName:"Returns",yKey:"y",yName:"Frequency",interpolation:{type:"smooth"},marker:{enabled:!1},tooltip:{enabled:!1}},{type:"line",xKey:"xConstant",yKey:"y",yName:"Value at Risk",marker:{enabled:!1},tooltip:{showArrow:!1,renderer:()=>'<div class="bg-slate-100 p-2 rounded-lg">Value at Risk</div>'}}],background:{visible:!1}});#t=z(rh);constructor(){this.#t.currentTheme$.pipe(rf()).subscribe(t=>{this.chartOptions.set(E(S({},this.chartOptions()),{theme:t==="dark"?F2:pA}))})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ae({type:i,selectors:[["clean-ag-chart"]],standalone:!0,features:[bn([Ib]),ce],decls:1,vars:1,consts:[[2,"height","100%",3,"options"]],template:function(n,s){n&1&&dt(0,"ag-charts",0),n&2&&Ue("options",s.chartOptions())},dependencies:[On,uA],encapsulation:2,changeDetection:0})}return i})();function Ir(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function MA(i){return i!=null&&typeof i.length=="number"}var IA=new pt(""),SA=new pt(""),z2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ba=class{static min(e){return B2(e)}static max(e){return V2(e)}static required(e){return U2(e)}static requiredTrue(e){return G2(e)}static email(e){return H2(e)}static minLength(e){return Y2(e)}static maxLength(e){return W2(e)}static pattern(e){return Z2(e)}static nullValidator(e){return DA(e)}static compose(e){return TA(e)}static composeAsync(e){return LA(e)}};function B2(i){return e=>{if(Ir(e.value)||Ir(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function V2(i){return e=>{if(Ir(e.value)||Ir(i))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function U2(i){return Ir(i.value)?{required:!0}:null}function G2(i){return i.value===!0?null:{required:!0}}function H2(i){return Ir(i.value)||z2.test(i.value)?null:{email:!0}}function Y2(i){return e=>Ir(e.value)||!MA(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function W2(i){return e=>MA(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Z2(i){if(!i)return DA;let e,t;return typeof i=="string"?(t="",i.charAt(0)!=="^"&&(t+="^"),t+=i,i.charAt(i.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),n=>{if(Ir(n.value))return null;let s=n.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}function DA(i){return null}function AA(i){return i!=null}function wA(i){return Gc(i)?Ke(i):i}function CA(i){let e={};return i.forEach(t=>{e=t!=null?S(S({},e),t):e}),Object.keys(e).length===0?null:e}function _A(i,e){return e.map(t=>t(i))}function $2(i){return!i.validate}function EA(i){return i.map(e=>$2(e)?e:t=>e.validate(t))}function TA(i){if(!i)return null;let e=i.filter(AA);return e.length==0?null:function(t){return CA(_A(t,e))}}function xy(i){return i!=null?TA(EA(i)):null}function LA(i){if(!i)return null;let e=i.filter(AA);return e.length==0?null:function(t){let n=_A(t,e).map(wA);return Oc(n).pipe(gt(CA))}}function My(i){return i!=null?LA(EA(i)):null}function mA(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function NA(i){return i._rawValidators}function kA(i){return i._rawAsyncValidators}function my(i){return i?Array.isArray(i)?i:[i]:[]}function ah(i,e){return Array.isArray(i)?i.includes(e):i===e}function gA(i,e){let t=my(e);return my(i).forEach(s=>{ah(t,s)||t.push(s)}),t}function yA(i,e){return my(e).filter(t=>!ah(i,t))}var lh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=My(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},wo=class extends lh{get formDirective(){return null}get path(){return null}},ch=class extends lh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},gy=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},K2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},E3=E(S({},K2),{"[class.ng-submitted]":"isSubmitted"});var RA=(()=>{class i extends gy{constructor(t){super(t)}static{this.\u0275fac=function(n){return new(n||i)(q(wo,10))}}static{this.\u0275dir=le({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){n&2&&Ne("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Os]})}}return i})();var _c="VALID",oh="INVALID",Fa="PENDING",Ec="DISABLED",Sr=class{},dh=class extends Sr{constructor(e,t){super(),this.value=e,this.source=t}},Lc=class extends Sr{constructor(e,t){super(),this.pristine=e,this.source=t}},Nc=class extends Sr{constructor(e,t){super(),this.touched=e,this.source=t}},za=class extends Sr{constructor(e,t){super(),this.status=e,this.source=t}},yy=class extends Sr{constructor(e){super(),this.source=e}},by=class extends Sr{constructor(e){super(),this.source=e}};function OA(i){return(mh(i)?i.validators:i)||null}function X2(i){return Array.isArray(i)?xy(i):i||null}function PA(i,e){return(mh(e)?e.asyncValidators:i)||null}function Q2(i){return Array.isArray(i)?My(i):i||null}function mh(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function q2(i,e,t){let n=i.controls;if(!(e?Object.keys(n):n).length)throw new Vt(1e3,"");if(!n[t])throw new Vt(1001,"")}function J2(i,e,t){i._forEachChild((n,s)=>{if(t[s]===void 0)throw new Vt(1002,"")})}var uh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Rn(()=>this.statusReactive()),this.statusReactive=yi(void 0),this._pristine=Rn(()=>this.pristineReactive()),this.pristineReactive=yi(!0),this._touched=Rn(()=>this.touchedReactive()),this.touchedReactive=yi(!1),this._events=new me,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ki(this.statusReactive)}set status(e){Ki(()=>this.statusReactive.set(e))}get valid(){return this.status===_c}get invalid(){return this.status===oh}get pending(){return this.status==Fa}get disabled(){return this.status===Ec}get enabled(){return this.status!==Ec}get pristine(){return Ki(this.pristineReactive)}set pristine(e){Ki(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Ki(this.touchedReactive)}set touched(e){Ki(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(gA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(gA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yA(e,this._rawAsyncValidators))}hasValidator(e){return ah(this._rawValidators,e)}hasAsyncValidator(e){return ah(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(E(S({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Nc(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),t&&e.emitEvent!==!1&&this._events.next(new Nc(!1,n))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(E(S({},e),{sourceControl:n})),t&&e.emitEvent!==!1&&this._events.next(new Lc(!1,n))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),t&&e.emitEvent!==!1&&this._events.next(new Lc(!0,n))}markAsPending(e={}){this.status=Fa;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new za(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(E(S({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ec,this.errors=null,this._forEachChild(s=>{s.disable(E(S({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dh(this.value,n)),this._events.next(new za(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(E(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_c,this._forEachChild(n=>{n.enable(E(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(E(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_c||this.status===Fa)&&this._runAsyncValidator(n,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dh(this.value,t)),this._events.next(new za(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(E(S({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ec:_c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Fa,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let n=wA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,s)=>n&&n._find(s),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new za(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,n)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Ec:this.errors?oh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fa)?Fa:this._anyControlsHaveStatus(oh)?oh:_c}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let n=!this._anyControlsDirty(),s=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),s&&this._events.next(new Lc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=X2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Q2(this._rawAsyncValidators)}},hh=class extends uh{constructor(e,t,n){super(OA(t),PA(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){J2(this,!0,e),Object.keys(e).forEach(n=>{q2(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(n=>{let s=this.controls[n];s&&s.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,s)=>{n.reset(e?e[s]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>n._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,n,s)=>((n.enabled||this.disabled)&&(t[s]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((s,r)=>{n=t(n,s,r)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var gh=new pt("CallSetDisabledState",{providedIn:"root",factory:()=>yh}),yh="always";function vy(i,e,t=yh){Iy(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),eP(i,e),nP(i,e),iP(i,e),tP(i,e)}function bA(i,e,t=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),fh(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ph(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tP(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function Iy(i,e){let t=NA(i);e.validator!==null?i.setValidators(mA(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=kA(i);e.asyncValidator!==null?i.setAsyncValidators(mA(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let s=()=>i.updateValueAndValidity();ph(e._rawValidators,s),ph(e._rawAsyncValidators,s)}function fh(i,e){let t=!1;if(i!==null){if(e.validator!==null){let s=NA(i);if(Array.isArray(s)&&s.length>0){let r=s.filter(o=>o!==e.validator);r.length!==s.length&&(t=!0,i.setValidators(r))}}if(e.asyncValidator!==null){let s=kA(i);if(Array.isArray(s)&&s.length>0){let r=s.filter(o=>o!==e.asyncValidator);r.length!==s.length&&(t=!0,i.setAsyncValidators(r))}}}let n=()=>{};return ph(e._rawValidators,n),ph(e._rawAsyncValidators,n),t}function eP(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&jA(i,e)})}function iP(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&jA(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function jA(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function nP(i,e){let t=(n,s)=>{e.valueAccessor.writeValue(n),s&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function FA(i,e){i==null,Iy(i,e)}function sP(i,e){return fh(i,e)}function zA(i,e){i._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function rP(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}var oP={provide:wo,useExisting:wh(()=>kc)},Tc=Promise.resolve(),kc=(()=>{class i extends wo{get submitted(){return Ki(this.submittedReactive)}constructor(t,n,s){super(),this.callSetDisabledState=s,this._submitted=Rn(()=>this.submittedReactive()),this.submittedReactive=yi(!1),this._directives=new Set,this.ngSubmit=new Xe,this.form=new hh({},xy(t),My(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Tc.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),vy(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Tc.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Tc.then(()=>{let n=this._findContainer(t.path),s=new hh({});FA(s,t),n.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Tc.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Tc.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),zA(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(n){return new(n||i)(q(IA,10),q(SA,10),q(gh,8))}}static{this.\u0275dir=le({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){n&1&&$i("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([oP]),Os]})}}return i})();function vA(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function xA(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Sy=class extends uh{constructor(e=null,t,n){super(OA(t),PA(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(xA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var aP=i=>i instanceof Sy;var BA=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=le({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})();var lP=new pt("");var cP={provide:wo,useExisting:wh(()=>Dy)},Dy=(()=>{class i extends wo{get submitted(){return Ki(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,s){super(),this.callSetDisabledState=s,this._submitted=Rn(()=>this._submittedReactive()),this._submittedReactive=yi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return vy(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){bA(t.control||null,t,!1),rP(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),zA(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new yy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new by(this.form))}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,s=this.form.get(t.path);n!==s&&(bA(n||null,t),aP(s)&&(vy(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);FA(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&sP(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Iy(this.form,this),this._oldForm&&fh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(q(IA,10),q(SA,10),q(gh,8))}}static{this.\u0275dir=le({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,s){n&1&&$i("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([cP]),Os,_r]})}}return i})();var VA=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Le({type:i})}static{this.\u0275inj=Te({})}}return i})();var UA=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:gh,useValue:t.callSetDisabledState??yh}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Le({type:i})}static{this.\u0275inj=Te({imports:[VA]})}}return i})(),GA=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:lP,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gh,useValue:t.callSetDisabledState??yh}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Le({type:i})}static{this.\u0275inj=Te({imports:[VA]})}}return i})();var uP=["mat-button",""],hP=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],pP=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var fP=new pt("MAT_BUTTON_CONFIG");var mP=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],gP=(()=>{class i{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,n,s,r){this._elementRef=t,this._platform=n,this._ngZone=s,this._animationMode=r,this._focusMonitor=z(qb),this._rippleLoader=z(cv),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let o=z(fP,{optional:!0}),a=t.nativeElement,l=a.classList;this.disabledInteractive=o?.disabledInteractive??!1,this.color=o?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(let{attribute:c,mdcClasses:d}of mP)a.hasAttribute(c)&&l.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",n){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(n){To()}}static{this.\u0275dir=le({type:i,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",vn],disabled:[2,"disabled","disabled",vn],ariaDisabled:[2,"aria-disabled","ariaDisabled",vn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",vn]},features:[Ps]})}}return i})();var bh=(()=>{class i extends gP{constructor(t,n,s,r){super(t,n,s,r)}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(Qe),q(wt),q(ns,8))}}static{this.\u0275cmp=ae({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,s){n&2&&(Li("disabled",s._getDisabledAttribute())("aria-disabled",s._getAriaDisabled()),Vc(s.color?"mat-"+s.color:""),Ne("mat-mdc-button-disabled",s.disabled)("mat-mdc-button-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mat-unthemed",!s.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Os,ce],attrs:uP,ngContentSelectors:pP,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,s){n&1&&(js(hP),dt(0,"span",0),ke(1),k(2,"span",1),ke(3,1),O(),ke(4,2),dt(5,"span",2)(6,"span",3)),n&2&&Ne("mdc-button__ripple",!s._isFab)("mdc-fab__ripple",s._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return i})();var YA=zs({passive:!0}),WA=(()=>{class i{constructor(t,n){this._platform=t,this._ngZone=n,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ln;let n=Pn(t),s=this._monitoredElements.get(n);if(s)return s.subject;let r=new me,o="cdk-text-field-autofilled",a=l=>{l.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(o)?(n.classList.add(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(o)&&(n.classList.remove(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",a,YA),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:()=>{n.removeEventListener("animationstart",a,YA)}}),r}stopMonitoring(t){let n=Pn(t),s=this._monitoredElements.get(n);s&&(s.unlisten(),s.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((t,n)=>this.stopMonitoring(n))}static{this.\u0275fac=function(n){return new(n||i)(tt(Qe),tt(wt))}}static{this.\u0275prov=st({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var bP=new pt("MAT_INPUT_VALUE_ACCESSOR"),vP=["button","checkbox","file","hidden","image","radio","range","reset","submit"],xP=0,ZA=(()=>{class i{get disabled(){return this._disabled}set disabled(t){this._disabled=kr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ba.required)??!1}set required(t){this._required=kr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&lp().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=kr(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,n,s,r,o,a,l,c,d,u){this._elementRef=t,this._platform=n,this.ngControl=s,this._autofillMonitor=c,this._ngZone=d,this._formField=u,this._uid=`mat-input-${xP++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new me,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>lp().has(f)),this._iOSKeyupListener=f=>{let g=f.target;!g.value&&g.selectionStart===0&&g.selectionEnd===0&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new qc(a,s,o,r,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=p==="select",this._isTextarea=p==="textarea",this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=t,t?n.setAttribute("placeholder",t):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){vP.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,n=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&n&&n.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static{this.\u0275fac=function(n){return new(n||i)(q(te),q(Qe),q(ch,10),q(kc,8),q(Dy,8),q(av),q(bP,10),q(WA),q(wt),q(bp,8))}}static{this.\u0275dir=le({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(n,s){n&1&&$i("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),n&2&&(Za("id",s.id)("disabled",s.disabled)("required",s.required),Li("name",s.name||null)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required)("id",s.id),Ne("mat-input-server",s._isServer)("mat-mdc-form-field-textarea-control",s._isInFormField&&s._isTextarea)("mat-mdc-form-field-input-control",s._isInFormField)("mdc-text-field__input",s._isInFormField)("mat-mdc-native-select-inline",s._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[bn([{provide:yp,useExisting:i}]),_r]})}}return i})();var $A=(()=>{class i{control=new Sy(void 0,Ba.required);static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ae({type:i,selectors:[["app-angular-material-test"]],standalone:!0,features:[ce],decls:32,vars:0,consts:[[1,"border","border-gray-200","dark:border-none","shadow-lg","p-8","bg-white","dark:bg-slate-800","overflow-hidden","rounded-lg","dark:highlight-white/5"],[1,"text-base","font-semibold","leading-7","text-gray-900","dark:text-gray-100"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"mt-10","grid","grid-cols-1","sm:grid-cols-6","gap-x-8","gap-y-3","border-b","border-b-gray-200","dark:border-b-gray-600","pb-10","mb-10"],[1,"col-span-full","sm:col-span-3"],["for","first-name1",1,"block","text-sm","text-gray-900","font-medium","mb-2","dark:text-gray-100"],["autocomplete","given-name","id","first-name1","matInput","",1,"custom-autofill"],[1,"col-span-full","sm:col-span-4"],["for","lel10",1,"block","text-sm","text-gray-900","font-medium","mb-2","dark:text-gray-100"],["autocomplete","email","id","lel10","matInput",""],[1,"row-start-3","col-span-full","sm:col-span-2"],["for","lel3",1,"block","text-sm","text-gray-900","font-medium","mb-2","dark:text-gray-100"],["id","lel3","matInput",""],[1,"col-span-full"],[1,"block","text-sm","text-gray-900","font-medium","mb-2","dark:text-gray-100"],["matInput","","rows","8"],[1,"flex","justify-end","gap-x-2","mt-6"],["mat-button",""],["mat-flat-button","",1,"highlight-white/20"]],template:function(n,s){n&1&&(k(0,"div",0)(1,"form")(2,"h2",1),U(3,"Kontaktformular"),O(),k(4,"div",2),U(5,"Sie erhalten eine Best\xE4tigungsemail, das ihre Nachricht bei uns angekommen ist."),O(),k(6,"div",3)(7,"div",4)(8,"label",5),U(9,"Name"),O(),k(10,"mat-form-field"),dt(11,"input",6),O()(),k(12,"div",7)(13,"label",8),U(14,"E-Mail"),O(),k(15,"mat-form-field"),dt(16,"input",9),O()(),k(17,"div",10)(18,"label",11),U(19,"Betreff"),O(),k(20,"mat-form-field"),dt(21,"input",12),O()(),k(22,"div",13)(23,"label",14),U(24,"Nachricht"),O(),k(25,"mat-form-field"),dt(26,"textarea",15),O()()(),k(27,"div",16)(28,"button",17),U(29,"Cancel"),O(),k(30,"button",18),U(31,"Nachricht senden"),O()()()())},dependencies:[On,xv,ZA,UA,BA,RA,kc,GA,bh],encapsulation:2})}return i})();var KA=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ae({type:i,selectors:[["clean-footer"]],standalone:!0,features:[ce],decls:59,vars:0,consts:[[1,"pb-16","text-sm","divide-y","divide-slate-200","dark:divide-slate-700","max-w-7xl","text-gray-600","dark:text-gray-300","mx-auto","px-4","sm:px-6","md:px-8"],[1,"grid","grid-cols-12","leading-6","gap-6"],[1,"col-span-full","lg:col-span-4","self-center","flex","flex-col","gap-y-4"],["id","Ebene_2","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 98.46 167.19",1,"dark:text-white","w-5","h-auto","fill-teal-700","dark:fill-teal-400"],["id","Ebene_1-2"],["d","M9.7,19.4C4.35,19.4,0,15.05,0,9.7S4.35,0,9.7,0s9.7,4.35,9.7,9.7-4.35,9.7-9.7,9.7Z",2,"stroke-width","0"],["d","M50.2,115.45c-14.86,0-27.53-10.54-30.12-25.06-.32-1.78-.48-3.56-.48-5.32v-34.91h0c0-8.12-6.58-14.7-14.7-14.7H0v50c.02,1.4.09,2.8.21,4.18,1.13,12.29,6.84,23.69,16.06,32.1,9.29,8.46,21.34,13.12,33.92,13.12,7.16,0,14.06-1.47,20.53-4.36v-22.91c-5.55,5.01-12.82,7.86-20.53,7.86Z",2,"stroke-width","0"],["d","M98.28,80.89c-1.04-12.38-6.71-23.87-15.96-32.36-9.31-8.54-21.4-13.25-34.06-13.25-7.87,0-15.54,1.84-22.5,5.32,1.34,2.91,2.1,6.15,2.1,9.57v12.27c5.54-4.94,12.75-7.74,20.4-7.74,15.1,0,27.79,10.73,30.2,25.51.26,1.62.4,3.26.4,4.87v59.87h0v7.55c0,8.12,6.58,14.7,14.7,14.7h4.9v-82.12c0-1.36-.06-2.77-.18-4.18Z",2,"stroke-width","0"],[1,""],["rel","noopener nofollow","target","_blank","href","https://www.linkedin.com/company/example-gmbh",1,"fill-slate-400","hover:fill-slate-500","dark:fill-slate-300","dark:hover:fill-white"],["width","24","height","24","viewBox","0 0 24 24","version","1.1","xmlns","http://www.w3.org/2000/svg","aria-hidden","true","focusable","false"],["d","M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"],[1,"col-span-full","lg:col-span-2","flex","flex-col"],[1,"font-semibold","text-slate-9d00","dark:text-slate-100"],["href","mailto:info@example.de"],[1,"font-semibold","text-slate-900","dark:text-slate-100"],["href","lele",1,"hover:text-slate-900","dark:hover:text-slate-100"],[1,"col-span-full","lg:col-span-4","flex","flex-col"],["mat-stroked-button","",1,"mt-2","md:max-w-52"],[1,"mt-6","pt-6","text-slate-500","text-xs"]],template:function(n,s){n&1&&(k(0,"footer",0)(1,"div",1)(2,"div",2),Ha(),k(3,"svg",3)(4,"g",4),dt(5,"path",5)(6,"path",6)(7,"path",7),O()(),Ya(),k(8,"div",8),U(9," Unsere Vision ist es, effiziente Strukturen zu schaffen, um das Risikomanagement in der Bankenwelt neu zu definieren. "),O(),k(10,"div")(11,"a",9),Ha(),k(12,"svg",10),dt(13,"path",11),O()()()(),Ya(),k(14,"div",12)(15,"h2",13),U(16,"Example GmbH"),O(),k(17,"div"),U(18,"Example-Stra\xDFe 14, "),dt(19,"br"),U(20," 68165 Mannheim "),O(),k(21,"div"),U(22,"+49 6543 00000"),O(),k(23,"a",14),U(24,"info@example.de"),O()(),k(25,"div",12)(26,"h2",15),U(27,"Links"),O(),k(28,"ul")(29,"li")(30,"a",16),U(31,"Datenschutz"),O()(),k(32,"li")(33,"a",16),U(34,"Impressum"),O()(),k(35,"li")(36,"a",16),U(37,"AGB"),O()(),k(38,"li")(39,"a",16),U(40,"\xDCber uns"),O()(),k(41,"li")(42,"a",16),U(43,"Ribeca (Tool)"),O()(),k(44,"li")(45,"a",16),U(46,"Kontakt"),O()()()(),k(47,"div",17)(48,"h2",15),U(49,"Wir suchen dich"),O(),k(50,"div"),U(51,"Du suchst nach einer neuen Herausforderung und m\xF6chtest mit uns zusammenarbeiten?"),O(),k(52,"div"),U(53,"Wir freuen uns auf deine Kontaktaufnahme."),O(),k(54,"button",18),U(55,"Kontakt aufnehmen"),O()()(),k(56,"div",19)(57,"p"),U(58," \xA9 2024 example GmbH. All rights reserved. "),O()()())},dependencies:[On,bh],encapsulation:2,changeDetection:0})}return i})();function MP(i,e){if(i&1&&(k(0,"div",3)(1,"div",4)(2,"h3",5),dt(3,"mat-icon",6),U(4),O(),k(5,"div",7)(6,"div",8),U(7),O()()()()),i&2){let t=e.$implicit;zt(3),Ue("fontIcon",t.icon),zt(),Lo(" ",t.title," "),zt(3),Lo(" ",t.description," ")}}function IP(i,e){if(i&1&&(k(0,"div",3)(1,"div",4)(2,"h3",5),dt(3,"mat-icon",6),U(4),O(),k(5,"div",7)(6,"div",8),U(7),O()()()()),i&2){let t=e.$implicit;zt(3),Ue("fontIcon",t.icon),zt(),Lo(" ",t.title," "),zt(3),Lo(" ",t.description," ")}}var XA=(()=>{class i{services=yi([{title:"Arbeitsanweisungen erstellen.",description:"Wir erstellen detaillierte Arbeitsanweisungen und Prozessbeschreibungen sowie Leitf\xE4den f\xFCr das Risikomanagement.",image:"Arbeitsanweisungen_erstellen.webp",icon:"checklist"},{title:"Prozesse optimieren.",description:"Unsere umfassende Prozessoptimierung umfasst die Analyse und Verkn\xFCpfung aller Risikomanagementbestandteile. Dadurch k\xF6nnen wir Ihre internen Prozesse effizienter gestalten und Ihre Gesamtperformance verbessern.",image:"prozessoptimierung.webp",icon:"engineering"},{title:"Kapital & Gesch\xE4ftsplanung erstellen.",description:"Wir unterst\xFCtzen Ihre strategische Planung und erstellen auf dieser Basis eine umfassende Kapitalplanung. Dabei stellen wir die richtigen Parameter bereit und planen die Gesch\xE4ftsjahre auf Basis eines rollierenden 3- bis 4-Jahres-Horizonts. Dies erm\xF6glicht eine pr\xE4zise Planung des weiteren Gesch\xE4ftsverlaufs und eine exakte Berechnung der entsprechenden Risikopotenziale. Wir ber\xFCcksichtigen dabei sowohl die normative als auch die \xF6konomische Perspektive, um Ihnen einen pr\xE4ziseren Steuerungsimpuls zu geben.",image:"stresstest.webp",icon:"savings"},{title:"Stresstests durchf\xFChren.",description:"Unsere Stresstests sind darauf ausgelegt, Ihnen eine umfassende Sicht auf die Risikopotenziale zu bieten. Durch Prozessoptimierung, pr\xE4zise Parametrisierung, detaillierte Darstellung und umfassende Berichterstattung sowie genaue Kalkulationen stellen wir sicher, dass Ihre Bank bestens vorbereitet ist.",image:"stresstest.webp",icon:"quiz"}]);services2=yi([{title:"Risikoinventur",description:"Unsere umfassende Prozessoptimierung umfasst die Analyse und Verkn\xFCpfung aller Risikomanagement- bestandteile. Dadurch k\xF6nnen wir Ihre internen Prozesse effizienter gestalten und Ihre Gesamtperformance verbessern.",image:"Risikoinventur.webp",icon:"inventory"},{title:"Risikoberichtserstattung",description:`Unsere MaRisk-konforme Risikoberichterstattung sichert Ihre Daten und integriert effektive Kontrollmechanismen.
Wir analysieren und optimieren den Berichterstattungsprozess, um die Effizienz zu maximieren.`,image:"prozessoptimierung.webp",icon:"report"},{title:"Einzelrisikobewertung",description:`Wir analysieren die Berechnungsweise der Einzelrisikoarten und optimieren diese mithilfe unseres Tools.
Dies sorgt f\xFCr pr\xE4zisere und effizientere Risikoanalysen.`,image:"prozessoptimierung.webp",icon:"flood"},{title:"Effektive Tool-Unterst\xFCtzung f\xFCr Ihre Risikomanagementprozesse.",description:"Wir bieten eine ma\xDFgeschneiderte Implementierung unseres Tools in Ihre bestehenden Risikomanagementsysteme an. Dazu geh\xF6ren die nahtlose Datenankn\xFCpfung an Ihre Kontrollsysteme und die Integration von Kredit-, Liquidit\xE4ts-, Marktpreis- und OpRisk-Daten. Wir passen das Tool funktional an Ihr bestehendes System an, kalibrieren die Risikoauswertung und Berichterstattung und validieren das System. Dabei legen wir gro\xDFen Wert auf eine individuell angepasste Berichterstattung und die Erstellung spezifischer Stresstestszenarien.",image:"prozessoptimierung.webp",icon:"hardware"}]);static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ae({type:i,selectors:[["clean-services"]],standalone:!0,features:[ce],decls:9,vars:0,consts:[[1,"text-center","text-5xl","text-slate-950","dark:text-white","mb-8","tracking-tight","font-extrabold"],[1,"grid","grid-cols-1","gap-6","lg:gap-8","sm:grid-cols-2","mt-8"],[1,"space-y-8"],[1,"border","border-gray-200","dark:border-none","flex","flex-row","overflow-hidden","rounded-xl","bg-white","dark:bg-slate-800","dark:highlight-white/20","w-full","items-center","justify-center","hover:cursor-pointer"],[1,"h-full","w-full","divide-y","divide-slate-200","dark:divide-slate-700","flex","flex-col"],[1,"px-6","py-4","font-semibold","flex","gap-2"],[1,"flex-shrink-0",3,"fontIcon"],[1,"px-6","py-4","flex","gap-6","overflow-hidden","flex-grow"],[1,"dark:text-slate-300","leading-7"]],template:function(n,s){n&1&&(k(0,"h2",0),U(1,"Unsere Services."),O(),k(2,"div",1)(3,"div",2),Oh(4,MP,8,3,"div",3,Rh),O(),k(6,"div",2),Oh(7,IP,8,3,"div",3,Rh),O()()),n&2&&(zt(4),Ph(s.services()),zt(3),Ph(s.services2()))},dependencies:[On,Md],encapsulation:2,changeDetection:0})}return i})();var QA=(()=>{class i{title="clean-project";#t=z(rh);toggleTheme(){this.#t.setCurrentTheme(this.#t.getCurrentTheme()()==="light"?"dark":"light")}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ae({type:i,selectors:[["app-root"]],standalone:!0,features:[ce],decls:118,vars:2,consts:[[1,"relative","w-full"],[1,"px-4","sm:px-6","lg:px-8"],[1,"bg-[url('bg-image--light.png')]","dark:bg-[url('bg-image--dark.png')]","background-image","absolute","bottom-10","bg-bottom","bg-no-repeat","inset-0","dark:bg-[rgb(16,13,40)]"],[1,"absolute","inset-0","bg-grid-slate-900/[0.04]","bg-[bottom_1px_center]","dark:bg-grid-slate-400/[0.05]","dark:bg-bottom","dark:border-b","dark:border-slate-100/5",2,"mask-image","linear-gradient(to bottom, transparent, black)","-webkit-mask-image","linear-gradient(to bottom, transparent, black)"],[1,"relative","flex","pt-8","justify-between","font-semibold","text-sm","text-slate-500","dark:text-slate-200"],[1,"flex"],[1,"text-md","font-semibold","text-2xl",2,"line-height","19px"],["id","Ebene_2","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 98.46 167.19",1,"dark:text-white","w-5","h-7","fill-slate-500","dark:fill-slate-200"],["id","Ebene_1-2"],["d","M9.7,19.4C4.35,19.4,0,15.05,0,9.7S4.35,0,9.7,0s9.7,4.35,9.7,9.7-4.35,9.7-9.7,9.7Z",2,"stroke-width","0"],["d","M50.2,115.45c-14.86,0-27.53-10.54-30.12-25.06-.32-1.78-.48-3.56-.48-5.32v-34.91h0c0-8.12-6.58-14.7-14.7-14.7H0v50c.02,1.4.09,2.8.21,4.18,1.13,12.29,6.84,23.69,16.06,32.1,9.29,8.46,21.34,13.12,33.92,13.12,7.16,0,14.06-1.47,20.53-4.36v-22.91c-5.55,5.01-12.82,7.86-20.53,7.86Z",2,"stroke-width","0"],["d","M98.28,80.89c-1.04-12.38-6.71-23.87-15.96-32.36-9.31-8.54-21.4-13.25-34.06-13.25-7.87,0-15.54,1.84-22.5,5.32,1.34,2.91,2.1,6.15,2.1,9.57v12.27c5.54-4.94,12.75-7.74,20.4-7.74,15.1,0,27.79,10.73,30.2,25.51.26,1.62.4,3.26.4,4.87v59.87h0v7.55c0,8.12,6.58,14.7,14.7,14.7h4.9v-82.12c0-1.36-.06-2.77-.18-4.18Z",2,"stroke-width","0"],[1,"hidden","sm:block","md:flex","items-center"],[1,"flex","gap-x-8"],["href","",1,"hover:text-teal-400"],[1,"flex","border-l","pl-6","ml-6"],["type","button","id","headlessui-listbox-button-:R5beilb6:","aria-haspopup","listbox","aria-expanded","false","data-headlessui-state","","aria-labelledby","headlessui-label-:R3beilb6: headlessui-listbox-button-:R5beilb6:",3,"click"],[1,"dark:hidden"],["fontIcon","light_mode"],[1,"hidden","dark:inline"],["fontIcon","dark_mode"],[1,"relative","max-w-5xl","mx-auto","pt-20","sm:pt-24","lg:pt-32"],[1,"text-center","font-extrabold","text-2xl","md:text-6xl","tracking-tight","dark:text-white","text-slate-900"],[1,"dark:text-slate-400","text-slate-800","text-lg","text-center","mx-auto","mt-6","max-w-3xl"],[1,"emphasize-text"],[1,"mt-10","flex","justify-center","font-semibold","space-x-6"],["href","lele",1,"bg-teal-800","hover:bg-teal-700","px-6","h-12","highlight-white/20","text-white","rounded-lg","w-auto","flex","items-center","justify-center"],[1,"max-w-7xl","mx-auto","mt-16","md:mt-32","grid","px-8","grid-cols-6","md:grid-cols-12","gap-8"],[1,"flex","flex-col","lg:flex-row","items-center","relative","col-span-6","bg-white","dark:bg-slate-800","rounded-xl","my-auto","shadow-lg","dark:highlight-white/20","lg:-ml-20","z-10","overflow-visible"],["ngSrc","man-cartoon.webp","width","192","height","192","alt","Lukas M\xFCller (CEO)",1,"object-cover","w-48","h-48","lg:-ml-10","mt-6","lg:mt-0","shadow-lg","border","ring-white","shrink-0","rounded-full",2,"transform","scale(-1, 1)"],[1,"p-6","space-y-4"],[1,"text-lg"],[1,"font-medium"],[1,"text-sky-500","dark:text-sky-400"],[1,"text-slate-700","dark:text-slate-500"],[1,"relative","col-span-6","overflow-hidden","shadow-xl","flex","bg-white","dark:bg-slate-800","h-[31.625rem]","sm:max-h-[none]","sm:rounded-xl","lg:h-[34.6875rem]","xl:h-[31.625rem]","dark:bg-slate-900/70","dark:backdrop-blur","dark:ring-1","dark:ring-inset","dark:ring-white/10","max-h-[none]"],[1,"relative","w-full","flex","flex-col"],[1,"h-full"],[1,"py-16","md:py-32","bg-gradient-to-b","from-transparent","to-teal-50","dark:to-slate-950"],[1,"container","max-w-7xl","mx-auto","px-3"],[1,"pb-16","md:pb-32","bg-gradient-to-t","from-transparent","to-teal-50","dark:to-slate-950"],[1,"grid","grid-cols-6","gap-6","container","max-w-7xl","mx-auto","px-3"],[1,"col-span-full","md:col-span-3","self-center"],[1,"text-center","text-5xl","text-slate-950","dark:text-white","mb-8","tracking-tight","font-extrabold"],[1,"rounded-lg","shadow-lg","border","border-slate-200","dark:border-none","dark:highlight-white/5","bg-white","dark:bg-slate-800","p-6"],[1,"leading-6","text-slate-600","dark:text-slate-400"],[1,"w-full","md:flex","content-between","mt-6","space-y-3"],[1,"flex-grow","text-slate-600","dark:text-slate-300"],["href","",1,"mt-6","flex","items-center","gap-2","hover:text-sky-500"],["fontIcon","call",1,"",3,"inline"],["href","",1,"flex","items-center","gap-2","hover:text-sky-500"],["fontIcon","email",1,"",3,"inline"],[1,"mapouter"],[1,"gmap_canvas"],["width","100%","frameborder","0","scrolling","no","marginheight","0","marginwidth","0","src",Jy`https://maps.google.com/maps?width=300&height=400&hl=en&q=Heidelberg&t=&z=13&ie=UTF8&iwloc=B&output=embed`,1,"gmap_iframe"],["href","https://embed-googlemap.com"],[1,"col-span-full","md:col-span-3"]],template:function(n,s){n&1&&(k(0,"header",0)(1,"div",1)(2,"div",2),dt(3,"div",3),O(),k(4,"div",4)(5,"div",5)(6,"span",6),U(7,"ris"),O(),Ha(),k(8,"svg",7)(9,"g",8),dt(10,"path",9)(11,"path",10)(12,"path",11),O()()(),Ya(),k(13,"div",12)(14,"nav")(15,"ul",13)(16,"li")(17,"a",14),U(18,"\xDCber uns"),O()(),k(19,"li")(20,"a",14),U(21,"Ribeca"),O()(),k(22,"li")(23,"a",14),U(24,"Services"),O()(),k(25,"li")(26,"a",14),U(27,"Karriere"),O()(),k(28,"li")(29,"a",14),U(30,"Kontakt"),O()()()(),k(31,"div",15)(32,"button",16),$i("click",function(){return s.toggleTheme()}),k(33,"span",17),dt(34,"mat-icon",18),O(),k(35,"span",19),dt(36,"mat-icon",20),O()()()()(),k(37,"div",21)(38,"h1",22),U(39,"Risikomanagementprozesse nachhaltig verbessern."),O(),k(40,"p",23),U(41,"Ribeca ist unser ma\xDFgeschneidertes Risikomanagement-Tool, das speziell f\xFCr die "),k(42,"span",24),U(43,"Bed\xFCrfnisse von Banken"),O(),U(44," entwickelt wurde. Es integriert sich nahtlos "),k(45,"span",24),U(46,"in bestehende Controlling- und Datenverarbeitungssysteme"),O(),U(47," und bietet eine vollst\xE4ndige L\xF6sung f\xFCr "),k(48,"span",24),U(49,"alle Aspekte des Risikomanagements"),O(),U(50,". "),O(),k(51,"div",25)(52,"a",26),U(53,"Jetzt kontaktieren"),O()()()(),k(54,"div",27)(55,"figure",28),dt(56,"img",29),k(57,"div",30)(58,"blockquote",31),U(59,' "Unsere '),k(60,"span",24),U(61,"Vision"),O(),U(62," ist es, die Bankenbranche durch den Einsatz fortschrittlicher Technologien und intelligenter L\xF6sungen "),k(63,"span",24),U(64,"grundlegend zu ver\xE4ndern"),O(),U(65,". Wir streben danach, die Effizienz und Pr\xE4zision von Risikomanagementl\xF6sungen zu optimieren und gleichzeitig "),k(66,"span",24),U(67,"erhebliche Kosten- und Zeitvorteile"),O(),U(68,' zu schaffen." '),O(),k(69,"figcaption",32)(70,"div",33),U(71," Lukas M\xFCller "),O(),k(72,"div",34),U(73," CEO, example GmbH "),O()()()(),k(74,"div",35)(75,"div",36),dt(76,"clean-ag-chart",37),O()()()(),k(77,"div",38)(78,"div",39),dt(79,"clean-services"),O()(),k(80,"div",40)(81,"div",41)(82,"div",42)(83,"h2",43),U(84,"Kontakt."),O(),k(85,"div",44)(86,"p",45),U(87," Sie haben Fragen oder interessieren sich f\xFCr unsere Leistungen? "),dt(88,"br"),U(89," Rufen Sie uns an oder nutzen Sie direkt unser Kontaktformular. "),dt(90,"br"),k(91,"span"),U(92,"Wir melden uns bei Ihnen."),O()(),k(93,"div")(94,"div",46)(95,"div",47)(96,"div"),U(97,"example GmbH"),dt(98,"br"),U(99," Example-Stra\xDFe 14,"),dt(100,"br"),U(101," 68165 Mannheim"),O(),k(102,"a",48),dt(103,"mat-icon",49),U(104," +49 152 539 979 81"),O(),k(105,"a",50),dt(106,"mat-icon",51),U(107,"info@example.de"),O()(),k(108,"div")(109,"div",52)(110,"div",53),dt(111,"iframe",54),k(112,"a",55),U(113,"embed google map"),O()()()()()()()(),k(114,"div",56),dt(115,"app-angular-material-test"),O()()(),k(116,"div"),dt(117,"clean-footer"),O()),n&2&&(zt(103),Ue("inline",!0),zt(3),Ue("inline",!0))},dependencies:[f0,Cb,$A,fA,KA,XA,Md],styles:[".background-image[_ngcontent-%COMP%]{background-size:142rem}[_ngcontent-%COMP%]:not(.dark)   .background-image[_ngcontent-%COMP%]{filter:saturate(.6)}",".mapouter[_ngcontent-%COMP%]{position:relative;text-align:right;width:100%;height:400px;}.gmap_canvas[_ngcontent-%COMP%] {overflow:hidden;background:none!important;width:100%;height:400px;}.gmap_iframe[_ngcontent-%COMP%] {height:400px!important;}"]})}return i})();Hb(QA,g0).catch(i=>console.error(i));
